"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[87],{87:(M,v,s)=>{s.r(v),s.d(v,{NewServiceRequestPage:()=>S});var p=s(467),m=s(5351),l=s(9893),h=s(177),d=s(9417),e=s(4438),P=s(9934),n=s(8023),c=s(600),u=s(3629);function b(o,g){1&o&&(e.j41(0,"div",6),e.nrm(1,"ion-icon",7),e.j41(2,"h2"),e.EFF(3,"Request Registered"),e.k0s()())}function y(o,g){1&o&&(e.j41(0,"div",8),e.nrm(1,"ion-icon",9),e.j41(2,"h2"),e.EFF(3,"Submit Support Request"),e.k0s()())}function w(o,g){if(1&o&&(e.j41(0,"div",10)(1,"div",11)(2,"p",12)(3,"strong"),e.EFF(4),e.k0s(),e.EFF(5," service request has been registered. "),e.k0s(),e.j41(6,"p",13),e.EFF(7,"We will process your request as soon as possible."),e.k0s()(),e.j41(8,"div",14)(9,"ion-button",15),e.EFF(10," Close "),e.k0s()()()),2&o){const r=e.XpG();e.R7$(4),e.SpI('"',r.issueObject.issueDescription,'"')}}function x(o,g){if(1&o){const r=e.RV6();e.j41(0,"div",16)(1,"div",17)(2,"label",18),e.EFF(3,"Additional Information (Optional)"),e.k0s(),e.j41(4,"ion-textarea",19),e.mxI("ngModelChange",function(i){e.eBV(r);const a=e.XpG();return e.DH7(a.issueObject.problemDescription,i)||(a.issueObject.problemDescription=i),e.Njj(i)}),e.k0s()(),e.j41(5,"div",14)(6,"ion-button",20),e.EFF(7," Cancel "),e.k0s(),e.j41(8,"ion-button",21),e.bIt("click",function(){e.eBV(r);const i=e.XpG();return e.Njj(i.reportNewIssue())}),e.EFF(9," Submit Request "),e.k0s()()()}if(2&o){const r=e.XpG();e.R7$(4),e.R50("ngModel",r.issueObject.problemDescription)}}let k=(()=>{var o;class g{constructor(t,i,a,f,O,_){this.data=t,this.dialogRef=i,this.utilityService=a,this.httpService=f,this.platform=O,this.storageService=_,this.issueObject={issueId:"",issueCode:"",issueDescription:"",problemDescription:"",userId:"",userName:"",phone:"",version:"web portal",platform:""},this.user=this.storageService.get("user"),this.issueObject.userId=this.user.id,this.issueObject.userName=this.user.firstName+" "+this.user.lastName,this.issueObject.phone=this.user.phone;let C=this.platform.platforms();this.issueObject.platform=C.join(", ")}reportNewIssue(){this.httpService.post("/customerReportedIssue",this.issueObject).then(i=>{i&&(this.issueObject.issueCode="")}).catch(i=>{this.dialogRef.close(),this.utilityService.presentAlert("Error!",i.message)})}ngOnInit(){this.issueObject.issueId=this.data.issue._id,this.issueObject.issueCode=this.data.issue.code,this.issueObject.issueDescription=this.data.issue.description,this.issueObject.issueId=this.data.issue._id}}return(o=g).\u0275fac=function(t){return new(t||o)(e.rXU(m.Vh),e.rXU(m.CP),e.rXU(P.Q),e.rXU(n.k),e.rXU(c.OD),e.rXU(u.n))},o.\u0275cmp=e.VBU({type:o,selectors:[["app-add-request-popup"]],standalone:!0,features:[e.aNF],decls:6,vars:4,consts:[["mat-dialog-title","",1,"dialog-header"],["class","header-success",4,"ngIf"],["class","header-submit",4,"ngIf"],[1,"dialog-content"],["class","success-content",4,"ngIf"],["class","submit-content",4,"ngIf"],[1,"header-success"],["name","checkmark-circle",1,"success-icon"],[1,"header-submit"],["name","create-outline",1,"submit-icon"],[1,"success-content"],[1,"success-message"],[1,"issue-confirmation"],[1,"process-info"],[1,"dialog-actions"],["expand","block",1,"close-btn",3,"mat-dialog-close"],[1,"submit-content"],[1,"form-section"],[1,"form-label"],["placeholder","Please describe your issue in detail...","rows","5","auto-grow","true",1,"form-textarea",3,"ngModelChange","ngModel"],["fill","outline","expand","block",1,"cancel-btn",3,"mat-dialog-close"],["expand","block",1,"submit-btn",3,"click"]],template:function(t,i){1&t&&(e.j41(0,"div",0),e.DNE(1,b,4,0,"div",1)(2,y,4,0,"div",2),e.k0s(),e.j41(3,"mat-dialog-content",3),e.DNE(4,w,11,1,"div",4)(5,x,10,1,"div",5),e.k0s()),2&t&&(e.R7$(),e.Y8G("ngIf",!i.issueObject.issueCode),e.R7$(),e.Y8G("ngIf",i.issueObject.issueCode),e.R7$(2),e.Y8G("ngIf",!i.issueObject.issueCode),e.R7$(),e.Y8G("ngIf",i.issueObject.issueCode))},dependencies:[m.BI,h.bT,l.bv,l.Jm,l.iq,l.nc,l.Gw,m.Yi,m.tx,d.YN,d.BC,d.vS],styles:[".mat-dialog-container{padding:0!important;overflow:hidden;border-radius:var(--radius-lg);background:var(--color-white);box-shadow:var(--shadow-lg);max-width:500px}.dialog-header[_ngcontent-%COMP%]{padding:var(--spacing-5);text-align:center;border-bottom:1px solid var(--color-gray-100)}.dialog-header[_ngcontent-%COMP%]   .header-success[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:var(--spacing-2)}.dialog-header[_ngcontent-%COMP%]   .header-success[_ngcontent-%COMP%]   .success-icon[_ngcontent-%COMP%]{font-size:56px;color:var(--mc-color-success-500)}.dialog-header[_ngcontent-%COMP%]   .header-success[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:var(--font-heading-md);font-weight:600;color:var(--mc-color-success-600)}.dialog-header[_ngcontent-%COMP%]   .header-submit[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:var(--spacing-2)}.dialog-header[_ngcontent-%COMP%]   .header-submit[_ngcontent-%COMP%]   .submit-icon[_ngcontent-%COMP%]{font-size:48px;color:var(--mc-color-primary-500)}.dialog-header[_ngcontent-%COMP%]   .header-submit[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:var(--font-heading-md);font-weight:600;color:var(--mc-text-primary)}.dialog-content[_ngcontent-%COMP%]{padding:var(--spacing-5)}.success-content[_ngcontent-%COMP%]   .success-message[_ngcontent-%COMP%]{margin-bottom:var(--spacing-5)}.success-content[_ngcontent-%COMP%]   .issue-confirmation[_ngcontent-%COMP%]{font-size:var(--font-body-md);color:var(--mc-text-primary);margin:0 0 var(--spacing-3) 0;line-height:1.6;text-align:center}.success-content[_ngcontent-%COMP%]   .issue-confirmation[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--mc-color-primary-600);font-weight:600}.success-content[_ngcontent-%COMP%]   .process-info[_ngcontent-%COMP%]{font-size:var(--font-body-sm);color:var(--color-gray-600);margin:0;text-align:center;line-height:1.5}.submit-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{margin-bottom:var(--spacing-5)}.submit-content[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{display:block;font-size:var(--font-body-sm);font-weight:600;color:var(--color-gray-700);margin-bottom:var(--spacing-2)}.submit-content[_ngcontent-%COMP%]   .form-textarea[_ngcontent-%COMP%]{width:100%;--mc-input-padding-x: var(--spacing-3);--mc-input-padding-y: var(--spacing-3);--mc-input-bg: var(--color-white);--mc-input-border: var(--color-gray-300);--mc-input-placeholder: var(--color-gray-400);font-size:var(--font-body-md);color:var(--mc-text-primary)}.dialog-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-3)}.dialog-actions[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--border-radius: var(--radius-md);--padding-top: var(--spacing-3);--padding-bottom: var(--spacing-3);font-weight:600;margin:0}.dialog-actions[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{--background: linear-gradient(90deg, var(--color-primary-500), var(--color-primary-700));--color: var(--color-white);--box-shadow: var(--shadow-sm)}.dialog-actions[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{--background: linear-gradient(90deg, var(--color-primary-700), var(--color-primary-800))}.dialog-actions[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:active{transform:scale(.98)}.dialog-actions[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%]{--border-color: var(--color-gray-300);--color: var(--color-gray-700)}.dialog-actions[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%]:hover{--background: var(--color-gray-50);--border-color: var(--color-gray-400)}.dialog-actions[_ngcontent-%COMP%]   .submit-btn[_ngcontent-%COMP%]{--background: linear-gradient(90deg, var(--color-primary-500), var(--color-primary-700));--color: var(--color-white);--box-shadow: var(--shadow-sm)}.dialog-actions[_ngcontent-%COMP%]   .submit-btn[_ngcontent-%COMP%]:hover{--background: linear-gradient(90deg, var(--color-primary-700), var(--color-primary-800))}.dialog-actions[_ngcontent-%COMP%]   .submit-btn[_ngcontent-%COMP%]:active{transform:scale(.98)}@media (max-width: 600px){  .mat-dialog-container{max-width:90vw}.dialog-header[_ngcontent-%COMP%]{padding:var(--spacing-4)}.dialog-header[_ngcontent-%COMP%]   .header-success[_ngcontent-%COMP%]   .success-icon[_ngcontent-%COMP%], .dialog-header[_ngcontent-%COMP%]   .header-submit[_ngcontent-%COMP%]   .submit-icon[_ngcontent-%COMP%]{font-size:40px}.dialog-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:var(--font-heading-sm)}.dialog-content[_ngcontent-%COMP%]{padding:var(--spacing-4)}.success-content[_ngcontent-%COMP%]   .issue-confirmation[_ngcontent-%COMP%]{font-size:var(--font-body-sm)}.success-content[_ngcontent-%COMP%]   .process-info[_ngcontent-%COMP%], .submit-content[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{font-size:var(--font-body-xs)}.submit-content[_ngcontent-%COMP%]   .form-textarea[_ngcontent-%COMP%]{font-size:var(--font-body-sm);padding:var(--spacing-2)}.dialog-actions[_ngcontent-%COMP%]{gap:var(--spacing-2)}.dialog-actions[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--padding-top: var(--spacing-2);--padding-bottom: var(--spacing-2);font-size:var(--font-body-sm)}}"]}),g})();var q=s(9012),j=s(8135);function R(o,g){if(1&o){const r=e.RV6();e.j41(0,"div",7),e.bIt("click",function(){const i=e.eBV(r).$implicit,a=e.XpG();return e.Njj(a.addRequest(i))}),e.j41(1,"div",8),e.nrm(2,"ion-icon",9),e.j41(3,"div",10)(4,"span",11),e.EFF(5),e.k0s()()(),e.nrm(6,"ion-icon",12),e.k0s()}if(2&o){const r=g.$implicit,t=e.XpG();e.AVh("issue-selected",r._id==t.issueSelected),e.R7$(5),e.JRh(r.description)}}let S=(()=>{var o;class g{constructor(t,i,a,f,O,_,C){this.router=t,this.storageService=i,this.httpService=a,this.dialog=f,this.platform=O,this.utilityService=_,this.pageNavService=C,this.user=this.storageService.get("user"),this.getIssues()}getIssues(){var t=this;return(0,p.A)(function*(){t.httpService.get("/customerIssue").then(a=>{t.issueList=a}).catch(a=>{})})()}addRequest(t){this.issueSelected=t._id,this.dialog.open(k,{panelClass:["custom-dialog-container"],data:{issue:t}}).afterClosed().subscribe(a=>{})}ionViewWillEnter(){this.pageNavService.setupBackButton([{route:"/new-service-request",handler:()=>this.router.navigate(["service-requests"])},{route:"/home/new-service-request",handler:()=>this.router.navigate(["/home/service-requests"])}])}ngOnDestroy(){this.pageNavService.cleanup()}}return(o=g).\u0275fac=function(t){return new(t||o)(e.rXU(q.Ix),e.rXU(u.n),e.rXU(n.k),e.rXU(m.bZ),e.rXU(c.OD),e.rXU(P.Q),e.rXU(j.V))},o.\u0275cmp=e.VBU({type:o,selectors:[["app-new-service-request"]],standalone:!0,features:[e.aNF],decls:10,vars:1,consts:[[1,"new-service-request"],[1,"container"],[1,"header"],[1,"subtitle"],[1,"issues-card"],[1,"issues-list"],["class","issue-item",3,"issue-selected","click",4,"ngFor","ngForOf"],[1,"issue-item",3,"click"],[1,"issue-content"],["name","help-circle-outline",1,"issue-icon"],[1,"issue-text"],[1,"issue-description"],["name","chevron-forward-outline",1,"arrow-icon"]],template:function(t,i){1&t&&(e.j41(0,"ion-content",0)(1,"div",1)(2,"header",2)(3,"h1"),e.EFF(4,"New Service Request"),e.k0s(),e.j41(5,"p",3),e.EFF(6,"How can we help you today?"),e.k0s()(),e.j41(7,"div",4)(8,"div",5),e.DNE(9,R,7,3,"div",6),e.k0s()()()()),2&t&&(e.R7$(9),e.Y8G("ngForOf",i.issueList))},dependencies:[l.bv,l.W9,l.iq,h.pM],styles:[".new-service-request[_ngcontent-%COMP%]{--padding-top: var(--mc-spacing-2xl);--padding-bottom: var(--mc-spacing-2xl)}.new-service-request[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:0 var(--mc-spacing-xl)}.new-service-request[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{margin-bottom:var(--mc-spacing-2xl)}.new-service-request[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:var(--font-heading-lg);font-weight:600;color:var(--color-gray-900);margin:0 0 var(--mc-spacing-xs) 0}.new-service-request[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:var(--font-body-md);color:var(--color-gray-600);margin:0;font-weight:400}.new-service-request[_ngcontent-%COMP%]   .issues-card[_ngcontent-%COMP%]{background:var(--color-white);border-radius:var(--radius-lg);box-shadow:var(--shadow-sm);overflow:hidden;animation:_ngcontent-%COMP%_fadeInUp .4s ease-out}.new-service-request[_ngcontent-%COMP%]   .issues-list[_ngcontent-%COMP%]{display:flex;flex-direction:column}.new-service-request[_ngcontent-%COMP%]   .issue-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:var(--spacing-4) var(--spacing-5);cursor:pointer;transition:all .2s ease;border-bottom:1px solid var(--color-gray-100)}.new-service-request[_ngcontent-%COMP%]   .issue-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.new-service-request[_ngcontent-%COMP%]   .issue-item[_ngcontent-%COMP%]:hover{background:var(--color-gray-50)}.new-service-request[_ngcontent-%COMP%]   .issue-item.issue-selected[_ngcontent-%COMP%]{background:var(--mc-color-primary-50);border-left:4px solid var(--mc-color-primary-500)}.new-service-request[_ngcontent-%COMP%]   .issue-item.issue-selected[_ngcontent-%COMP%]   .issue-icon[_ngcontent-%COMP%]{color:var(--mc-color-primary-600)}.new-service-request[_ngcontent-%COMP%]   .issue-item.issue-selected[_ngcontent-%COMP%]   .issue-description[_ngcontent-%COMP%]{color:var(--mc-color-primary-700);font-weight:600}.new-service-request[_ngcontent-%COMP%]   .issue-item.issue-selected[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%]{color:var(--mc-color-primary-500)}.new-service-request[_ngcontent-%COMP%]   .issue-item[_ngcontent-%COMP%]   .issue-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-3);flex:1}.new-service-request[_ngcontent-%COMP%]   .issue-item[_ngcontent-%COMP%]   .issue-icon[_ngcontent-%COMP%]{font-size:var(--font-heading-md);color:var(--mc-color-primary-500);flex-shrink:0}.new-service-request[_ngcontent-%COMP%]   .issue-item[_ngcontent-%COMP%]   .issue-text[_ngcontent-%COMP%]{flex:1}.new-service-request[_ngcontent-%COMP%]   .issue-item[_ngcontent-%COMP%]   .issue-description[_ngcontent-%COMP%]{font-size:var(--font-body-md);color:var(--mc-text-primary);line-height:1.5;display:block}.new-service-request[_ngcontent-%COMP%]   .issue-item[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%]{font-size:var(--font-heading-sm);color:var(--color-gray-400);flex-shrink:0;transition:transform .2s ease}.new-service-request[_ngcontent-%COMP%]   .issue-item[_ngcontent-%COMP%]:hover   .arrow-icon[_ngcontent-%COMP%]{transform:translate(4px)}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 600px){.new-service-request[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding:0 var(--mc-spacing-md)}.new-service-request[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:var(--font-heading-md)}.new-service-request[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:var(--font-body-sm)}.new-service-request[_ngcontent-%COMP%]   .issue-item[_ngcontent-%COMP%]{padding:var(--spacing-3) var(--spacing-4)}.new-service-request[_ngcontent-%COMP%]   .issue-item[_ngcontent-%COMP%]   .issue-icon[_ngcontent-%COMP%]{font-size:var(--font-heading-sm)}.new-service-request[_ngcontent-%COMP%]   .issue-item[_ngcontent-%COMP%]   .issue-description[_ngcontent-%COMP%]{font-size:var(--font-body-sm)}.new-service-request[_ngcontent-%COMP%]   .issue-item[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%]{font-size:var(--font-body-lg)}}"]}),g})()},8135:(M,v,s)=>{s.d(v,{V:()=>h});var p=s(4438),m=s(600),l=s(9012);let h=(()=>{var d;class e{constructor(n,c){this.platform=n,this.router=c,this.activeSubscriptions=new Map}setupBackButton(n,c){Array.isArray(n)?n.forEach(u=>{this.setupSingleBackButton(u.route,u.handler)}):"string"==typeof n&&c&&this.setupSingleBackButton(n,c)}setupSingleBackButton(n,c){this.cleanupBackButton(n);const u=this.platform.backButton.subscribeWithPriority(10,()=>{this.router.url===n&&c()});this.activeSubscriptions.set(n,u)}cleanupBackButton(n){const c=this.activeSubscriptions.get(n);c&&(c.unsubscribe(),this.activeSubscriptions.delete(n))}cleanupAllSubscriptions(){this.activeSubscriptions.forEach((n,c)=>{n.unsubscribe()}),this.activeSubscriptions.clear()}cleanup(){this.cleanupAllSubscriptions()}navigateBack(n="/home"){window.history.length>1?window.history.back():this.router.navigate([n])}smartNavigateBack(n){const u={"/appointment-list":"/home","/appointment-booking":"/appointment-list","/select-patient":"/appointment-booking","/confirm-appointment":"/appointment-booking","/appointment-confirmed":"/appointment-list","/appointment-details":"/appointment-list","/consent-form":"/appointment-booking","/prescription":"/home","/bills":"/home","/bill-details":"/bills","/family-member-list":"/home","/home/profiles":"/home","/family-member-form":"/home/profiles","/profile-edition":"/home","/attachment-list":"/home","/medical-record/attachment-list":"/home","/report-attachment-list":"/home","/medical-record/report-attachment-list":"/home","/family-member-attachment-list":"/home","/patient-medical-record":"/home","/patient-list":"/home","/emr-visits":"/patient-list","/emr":"/home","/medical-attachments":"/patient-medical-record","/facility-information":"/facility-information-template","/facility-information-template":"/home","/edit-facility-information-page":"/facility-information","/service-requests":"/home","/new-service-request":"/service-requests","/reminder":"/home"}[n];u?this.router.navigate([u]):this.navigateBack()}}return(d=e).\u0275fac=function(n){return new(n||d)(p.KVO(m.OD),p.KVO(l.Ix))},d.\u0275prov=p.jDH({token:d,factory:d.\u0275fac,providedIn:"root"}),e})()}}]);