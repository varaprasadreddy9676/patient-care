"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8759],{8759:(P,f,c)=>{c.r(f),c.d(f,{SignInPage:()=>R});var _=c(467),m=c(9893),v=c(5312),l=c(9417),d=c(177),e=c(4438),M=c(9012),s=c(8023),p=c(9934),u=c(5351),b=c(3629),O=c(600),C=c(8135),x=c(7031);const y=(r,g)=>({"has-error":r,"is-valid":g}),S=(r,g)=>({error:r,success:g});function I(r,g){if(1&r&&(e.j41(0,"option",41),e.EFF(1),e.k0s()),2&r){const o=g.$implicit;e.Y8G("ngValue",o),e.R7$(),e.JRh(o.name)}}function E(r,g){if(1&r){const o=e.RV6();e.j41(0,"div",27)(1,"div",28)(2,"label",29),e.nrm(3,"ion-icon",30),e.EFF(4," Full Name "),e.k0s(),e.j41(5,"ion-input",31),e.mxI("ngModelChange",function(t){e.eBV(o);const i=e.XpG();return e.DH7(i.name,t)||(i.name=t),e.Njj(t)}),e.k0s()(),e.j41(6,"div",32)(7,"div",28)(8,"label",29),e.nrm(9,"ion-icon",33),e.EFF(10," Gender "),e.k0s(),e.j41(11,"select",34),e.mxI("ngModelChange",function(t){e.eBV(o);const i=e.XpG();return e.DH7(i.gender,t)||(i.gender=t),e.Njj(t)}),e.j41(12,"option",35),e.EFF(13,"Select Gender"),e.k0s(),e.DNE(14,I,2,2,"option",36),e.k0s()(),e.j41(15,"div",28)(16,"label",29),e.nrm(17,"ion-icon",37),e.EFF(18," Date of Birth "),e.k0s(),e.j41(19,"ion-input",38),e.mxI("ngModelChange",function(t){e.eBV(o);const i=e.XpG();return e.DH7(i.dateOfBirth,t)||(i.dateOfBirth=t),e.Njj(t)}),e.k0s()()(),e.j41(20,"div",28)(21,"label",29),e.nrm(22,"ion-icon",39),e.EFF(23," Email Address "),e.k0s(),e.j41(24,"ion-input",40),e.mxI("ngModelChange",function(t){e.eBV(o);const i=e.XpG();return e.DH7(i.email,t)||(i.email=t),e.Njj(t)}),e.k0s()()()}if(2&r){const o=e.XpG();e.R7$(5),e.R50("ngModel",o.name),e.R7$(6),e.R50("ngModel",o.gender),e.R7$(),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",o.genders),e.R7$(5),e.R50("ngModel",o.dateOfBirth),e.R7$(5),e.R50("ngModel",o.email)}}function k(r,g){if(1&r){const o=e.RV6();e.j41(0,"ion-button",42),e.bIt("click",function(){e.eBV(o);const t=e.XpG();return e.Njj(t.validateNumber())}),e.nrm(1,"ion-icon",43),e.EFF(2," Continue "),e.k0s()}if(2&r){const o=e.XpG();e.Y8G("disabled",o.disableSignIn)}}function F(r,g){if(1&r){const o=e.RV6();e.j41(0,"ion-button",42),e.bIt("click",function(){e.eBV(o);const t=e.XpG();return e.Njj(t.validateUser())}),e.nrm(1,"ion-icon",44),e.EFF(2," Create Account "),e.k0s()}if(2&r){const o=e.XpG();e.Y8G("disabled",o.disableSignIn)}}function D(r,g){if(1&r){const o=e.RV6();e.j41(0,"p",45),e.EFF(1," Don't have an account? "),e.j41(2,"span",46),e.bIt("click",function(){e.eBV(o);const t=e.XpG();return e.Njj(t.toggleSignUpForm())}),e.EFF(3,"Create one in minutes"),e.k0s()()}}function B(r,g){if(1&r){const o=e.RV6();e.j41(0,"p",45),e.EFF(1," Already registered? "),e.j41(2,"span",46),e.bIt("click",function(){e.eBV(o);const t=e.XpG();return e.Njj(t.toggleSignUpForm())}),e.EFF(3,"Use sign in instead"),e.k0s()()}}let R=(()=>{var r;class g{constructor(n,t,i,a,h,U,w,N,z,A){this.router=n,this.httpService=t,this.utilityService=i,this.dialog=a,this.storageService=h,this.route=U,this.menuCtrl=w,this.platform=N,this.pageNavService=z,this.dateService=A,this.phoneNumber="",this.phoneHelperDefault="Enter the 10-digit mobile number linked to your account.",this.phoneMeta={touched:!1,valid:!1,message:this.phoneHelperDefault},this.showSignUpForm=!1,this.genders=[],this.disableSignIn=!1,this.genders=this.utilityService.getGenders(),this.gender=null}get stageChipLabel(){return this.showSignUpForm?"Step 1 of 2 - Complete your details":"Step 1 of 2 - Verify your number"}handlePhoneInput(n){var t,i;const a=(null!==(t=null===(i=n.detail)||void 0===i?void 0:i.value)&&void 0!==t?t:"").toString();this.applyPhoneValue(a),this.phoneMeta.touched&&this.updatePhoneMeta()}handlePhoneFocus(){this.phoneMeta.touched||(this.phoneMeta.message=this.phoneHelperDefault)}handlePhoneBlur(){this.phoneMeta.touched=!0,this.updatePhoneMeta()}applyPhoneValue(n){const t=(n||"").replace(/\D/g,"").slice(0,10);this.phoneNumber=t}updatePhoneMeta(){return this.phoneNumber?/^[0-9]{10}$/.test(this.phoneNumber)?(this.phoneMeta.valid=!0,void(this.phoneMeta.message="Looks good - tap Continue to receive your OTP.")):(this.phoneMeta.valid=!1,void(this.phoneMeta.message=10!==this.phoneNumber.length?"Mobile number should be exactly 10 digits.":"Only digits are allowed in the mobile number.")):(this.phoneMeta.valid=!1,void(this.phoneMeta.message=this.phoneHelperDefault))}resetPhoneMeta(){this.phoneMeta={touched:!1,valid:!1,message:this.phoneHelperDefault}}ionViewWillEnter(){this.menuCtrl.enable(!1),this.resetPhoneMeta();try{this.route.queryParams.subscribe(n=>{var t,i;const a=null!==(t=n.phone)&&void 0!==t?t:"";this.applyPhoneValue(null!==(i=null==a?void 0:a.toString())&&void 0!==i?i:""),this.phoneNumber&&(this.phoneMeta.touched=!0,this.updatePhoneMeta())})}catch{this.ngOnInit()}this.pageNavService.setupBackButton("/sign-in",()=>{navigator.app.exitApp()})}ngOnInit(){this.user=this.storageService.get("user"),this.user&&this.httpService.get("/user/verifyToken",!0).then(t=>{t&&null!==t.profileId||this.getOtp(this.user.phone)}).catch(t=>{this.getOtp(this.user.phone)})}goToRegistration(){this.router.navigate(["sign-up"])}toggleSignUpForm(){this.showSignUpForm=!this.showSignUpForm,this.phoneNumber?(this.phoneMeta.touched=!0,this.updatePhoneMeta()):this.resetPhoneMeta()}validateUser(){const n=/^([A-Za-z ]{1,60})?$/,t=/^[0-9]+$/,i=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;try{if(!this.name)return void this.utilityService.presentAlert("Name is mandatory","Enter your name.");if(!n.test(this.name))return void this.utilityService.presentAlert("Invalid Name","Name can contain alphabets only.");if(!this.gender)return void this.utilityService.presentAlert("Gender is mandatory","Please select the gender.");if(!this.dateOfBirth)return void this.utilityService.presentAlert("DOB is mandatory","Please enter your date of birth.");if(!i.test(this.email.toString().trim()))return void this.utilityService.presentAlert("Invalid email Id","Please enter your valid email");if(!this.phoneNumber)return void this.utilityService.presentAlert("Invalid phone number","Please enter your phone number.");if(10!==this.phoneNumber.toString().length||!t.test(this.phoneNumber.toString()))return void this.utilityService.presentAlert("Invalid phone number","Enter a valid phone number.");this.registerPatient()}catch{this.utilityService.presentAlert("Invalid Input","Enter valid inputs.")}}registerPatient(){var n=this;return(0,_.A)(function*(){n.disableSignIn=!0;const t=n.getUser();yield n.httpService.post("/signup",t).then(a=>{console.log("Sign-up response:",a),a&&a.profileId?(n.router.navigate(["/token-verification"],{state:{profileId:a.profileId}}),n.disableSignIn=!1):(console.log("Response structure:",JSON.stringify(a,null,2)),n.utilityService.presentAlert("Registration Successful","Please contact support to complete your registration."),n.disableSignIn=!1)}).catch(a=>{n.disableSignIn=!1,a.status&&11e3===a.error.code?(n.utilityService.presentAlert("Account Exists","An account with this phone number already exists. Please sign in instead."),n.showSignUpForm=!1):n.utilityService.presentAlert("Error!",a.message)})})()}getUser(){var n;const t=this.name.trim().split(" ");return{firstName:this.utilityService.toTitleCase(t[0]),lastName:this.utilityService.toTitleCase(this.getLastName(t)),gender:null===(n=this.gender)||void 0===n?void 0:n.name,dob:this.dateService.toDBdateFormat(this.dateOfBirth),city:null,cityName:null,phone:this.phoneNumber,email:this.email?this.email:" ",playerId:this.utilityService.playerId,appId:v.c.APP_ID,appHashCode:this.utilityService.appHashCode,profilePicture:void 0}}getLastName(n){let t=n[1];if(!t)return"";for(let i=2;i<n.length;i++)t=t+" "+n[i];return t}validateNumber(){this.phoneMeta.touched=!0,this.updatePhoneMeta(),/^[0-9]{10}$/.test(this.phoneNumber)?(this.phoneMeta.message="Sending OTP...",this.phoneMeta.valid=!0,this.getOtp(this.phoneNumber)):this.utilityService.presentAlert("Invalid Input","Enter a valid phone number.")}getOtp(n){var t=this;return(0,_.A)(function*(){t.disableSignIn=!0;const i=(null!=n?n:"").toString().replace(/\D/g,"").slice(0,10);t.applyPhoneValue(i),t.phoneMeta.touched=!0,t.phoneMeta.valid=!0,t.phoneMeta.message="Sending OTP...";const a="/signin/?mobileNo="+i+"&appId="+v.c.APP_ID+"&appHashCode="+t.utilityService.appHashCode;yield t.httpService.get(a).then(h=>{h&&(null!==h.profileId?(t.phoneMeta.message="OTP sent successfully. Keep your phone nearby.",t.openDialog(h.profileId)):(t.phoneMeta.valid=!1,t.phoneMeta.message="We could not complete the sign in. Please try again.",t.utilityService.presentAlert("Error!","Profile ID is not available.<br> SingUp again...!!")))}).catch(h=>{t.disableSignIn=!1,"Unauthorized: Invalid user"===h.message?(t.phoneMeta.valid=!1,t.phoneMeta.message="No account found with this number. Create one to continue.",t.utilityService.presentAlert("Account Not Found","No account found with this number. Please sign up first."),t.showSignUpForm=!0):(t.phoneMeta.valid=!1,t.phoneMeta.message="We could not send the OTP. Please try again in a moment.",t.utilityService.presentAlert("Error!",h.message))})})()}openDialog(n){this.router.navigate(["/token-verification"],{state:{profileId:n}}),this.disableSignIn=!1}ngOnDestroy(){this.pageNavService.cleanup()}}return(r=g).\u0275fac=function(n){return new(n||r)(e.rXU(M.Ix),e.rXU(s.k),e.rXU(p.Q),e.rXU(u.bZ),e.rXU(b.n),e.rXU(M.nX),e.rXU(m._t),e.rXU(O.OD),e.rXU(C.V),e.rXU(x.k))},r.\u0275cmp=e.VBU({type:r,selectors:[["app-sign-in"]],standalone:!0,features:[e.aNF],decls:42,vars:20,consts:[[1,"auth-page"],[1,"container"],["src","assets/new_icons_list/main_logo_dark.png","alt","MedicsCare Logo",1,"logo"],["color","primary",1,"stage-chip"],["name","shield-checkmark-outline"],["role","list","aria-label","Authentication steps",1,"step-indicator"],["role","listitem","aria-current","step",1,"step-dot","current"],[1,"dot"],[1,"step-text"],["aria-hidden","true",1,"step-connector"],["role","listitem",1,"step-dot","upcoming"],[1,"auth-card"],[1,"auth-header"],[1,"subtitle"],["autocomplete","off",1,"auth-form"],[1,"form-group",3,"ngClass"],["for","mobileNumber",1,"form-label"],["name","call-outline"],["id","mobileNumber","autocomplete","tel","name","phoneNumber","type","tel","maxlength","10","minlength","10","placeholder","Enter 10-digit mobile number","required","",1,"custom-input",3,"ionInput","ionBlur","ionFocus","keyup.enter","ngModelChange","ngModel"],["aria-live","polite",1,"field-feedback",3,"ngClass"],["class","signup-form",4,"ngIf"],[1,"action-buttons"],["expand","block","class","primary-button",3,"disabled","click",4,"ngIf"],[1,"toggle-section"],["class","toggle-text",4,"ngIf"],[1,"support-hint"],["name","lock-closed-outline"],[1,"signup-form"],[1,"form-group"],[1,"form-label"],["name","person-outline"],["type","text","placeholder","Enter your full name","name","name","autocomplete","off",1,"custom-input",3,"ngModelChange","ngModel"],[1,"form-row"],["name","male-female-outline"],["name","gender",1,"custom-select",3,"ngModelChange","ngModel"],["disabled","",3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["name","calendar-outline"],["type","date","placeholder","dd/mm/yyyy","name","dateOfBirth",1,"custom-input",3,"ngModelChange","ngModel"],["name","mail-outline"],["type","email","placeholder","your.email@example.com","name","email",1,"custom-input",3,"ngModelChange","ngModel"],[3,"ngValue"],["expand","block",1,"primary-button",3,"click","disabled"],["name","arrow-forward-outline","slot","end"],["name","checkmark-outline","slot","start"],[1,"toggle-text"],[1,"toggle-link",3,"click"]],template:function(n,t){1&n&&(e.j41(0,"ion-content",0)(1,"div",1),e.nrm(2,"img",2),e.j41(3,"ion-chip",3),e.nrm(4,"ion-icon",4),e.j41(5,"span"),e.EFF(6),e.k0s()(),e.j41(7,"div",5)(8,"div",6),e.nrm(9,"span",7),e.j41(10,"span",8),e.EFF(11),e.k0s()(),e.nrm(12,"div",9),e.j41(13,"div",10),e.nrm(14,"span",7),e.j41(15,"span",8),e.EFF(16,"Enter OTP"),e.k0s()()(),e.j41(17,"div",11)(18,"header",12)(19,"h1"),e.EFF(20),e.k0s(),e.j41(21,"p",13),e.EFF(22),e.k0s()(),e.j41(23,"form",14)(24,"div",15)(25,"label",16),e.nrm(26,"ion-icon",17),e.EFF(27," Mobile Number "),e.k0s(),e.j41(28,"ion-input",18),e.bIt("ionInput",function(a){return t.handlePhoneInput(a)})("ionBlur",function(){return t.handlePhoneBlur()})("ionFocus",function(){return t.handlePhoneFocus()})("keyup.enter",function(){return t.validateNumber()}),e.mxI("ngModelChange",function(a){return e.DH7(t.phoneNumber,a)||(t.phoneNumber=a),a}),e.k0s(),e.j41(29,"ion-note",19),e.EFF(30),e.k0s()(),e.DNE(31,E,25,6,"div",20),e.j41(32,"div",21),e.DNE(33,k,3,1,"ion-button",22)(34,F,3,1,"ion-button",22),e.j41(35,"div",23),e.DNE(36,D,4,0,"p",24)(37,B,4,0,"p",24),e.k0s()()(),e.j41(38,"div",25),e.nrm(39,"ion-icon",26),e.j41(40,"p"),e.EFF(41,"Your data stays encrypted and follows HIPAA-grade security."),e.k0s()()()()()),2&n&&(e.R7$(6),e.JRh(t.stageChipLabel),e.R7$(5),e.JRh(t.showSignUpForm?"Complete details":"Verify number"),e.R7$(9),e.JRh(t.showSignUpForm?"Create Account":"Welcome Back"),e.R7$(2),e.SpI(" ",t.showSignUpForm?"Join MedicsCare to manage your health digitally":"Sign in to access your health records"," "),e.R7$(2),e.Y8G("ngClass",e.l_i(14,y,t.phoneMeta.touched&&!t.phoneMeta.valid,t.phoneMeta.touched&&t.phoneMeta.valid)),e.R7$(4),e.R50("ngModel",t.phoneNumber),e.BMQ("aria-invalid",t.phoneMeta.touched&&!t.phoneMeta.valid),e.R7$(),e.Y8G("ngClass",e.l_i(17,S,t.phoneMeta.touched&&!t.phoneMeta.valid,t.phoneMeta.touched&&t.phoneMeta.valid)),e.R7$(),e.SpI(" ",t.phoneMeta.message," "),e.R7$(),e.Y8G("ngIf",t.showSignUpForm),e.R7$(2),e.Y8G("ngIf",!t.showSignUpForm),e.R7$(),e.Y8G("ngIf",t.showSignUpForm),e.R7$(2),e.Y8G("ngIf",!t.showSignUpForm),e.R7$(),e.Y8G("ngIf",t.showSignUpForm))},dependencies:[m.bv,m.Jm,m.ZB,m.W9,m.iq,m.$w,m.JI,m.Gw,l.YN,l.qT,l.xH,l.y7,l.wz,l.BC,l.cb,l.YS,l.xh,l.tU,l.vS,l.cV,d.bT,d.pM,d.YU],styles:[".auth-page[_ngcontent-%COMP%]{--background: var(--mc-bg-secondary);--padding-top: 0;--padding-bottom: 0}.ios[_ngcontent-%COMP%]   .auth-page[_ngcontent-%COMP%]{min-height:var(--app-height, 100vh)}.container[_ngcontent-%COMP%]{width:100%;max-width:520px;margin:0 auto;padding:var(--mc-spacing-2xl) var(--mc-spacing-lg);min-height:var(--app-height, 100vh);display:flex;flex-direction:column;align-items:center;gap:var(--mc-spacing-xl);justify-content:center}.ios[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding-top:calc(var(--mc-spacing-2xl) + var(--safe-area-top));padding-bottom:calc(var(--mc-spacing-2xl) + var(--safe-area-bottom))}.logo[_ngcontent-%COMP%]{width:240px;height:auto}.step-indicator[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:auto 1fr auto;align-items:center;gap:var(--mc-spacing-sm);font-size:var(--font-body-sm);color:var(--mc-text-secondary);margin-top:calc(var(--mc-spacing-sm) * -.5);margin-bottom:var(--mc-spacing-lg)}.step-dot[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:var(--mc-spacing-xs)}.step-dot[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%;background:var(--mc-border-primary)}.step-dot.current[_ngcontent-%COMP%]{color:var(--mc-color-primary-600)}.step-dot.current[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{background:var(--mc-color-primary-500);box-shadow:0 0 0 4px #0052cc26}.step-dot.upcoming[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{background:var(--mc-border-primary)}.step-connector[_ngcontent-%COMP%]{height:2px;width:100%;border-radius:999px;background:linear-gradient(90deg,var(--mc-color-primary-200) 0%,transparent 100%)}.stage-chip[_ngcontent-%COMP%]{align-self:center;--background: rgba(var(--ion-color-primary-rgb), .12);--color: var(--mc-color-primary-600);font-weight:600;letter-spacing:.02em}.stage-chip[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-right:var(--mc-spacing-xs)}.auth-card[_ngcontent-%COMP%]{width:100%;background:var(--mc-card-bg);border-radius:var(--mc-radius-lg);padding:var(--mc-spacing-2xl);box-shadow:var(--mc-shadow-md);display:flex;flex-direction:column;gap:var(--mc-spacing-xl);animation:_ngcontent-%COMP%_fadeInUp .6s ease-out}.auth-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--mc-spacing-xs);text-align:center}.auth-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:var(--font-heading-lg);font-weight:700;color:var(--mc-text-primary);margin:0;letter-spacing:-.4px}.auth-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:var(--font-body-md);color:var(--mc-text-secondary);margin:0}.auth-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--mc-spacing-xl)}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--mc-spacing-sm)}.form-group.has-error[_ngcontent-%COMP%]   .custom-input[_ngcontent-%COMP%]{border-color:var(--mc-color-error-400);box-shadow:0 0 0 2px #dc35451f}.form-group.is-valid[_ngcontent-%COMP%]   .custom-input[_ngcontent-%COMP%]{border-color:var(--mc-color-success-400);box-shadow:0 0 0 2px #2ecc711a}.form-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--mc-spacing-xs);font-size:var(--font-body-md);font-weight:600;color:var(--mc-text-primary)}.form-label[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px;color:var(--mc-color-primary-500)}.custom-input[_ngcontent-%COMP%]{--background: var(--mc-bg-primary);--border-radius: var(--mc-radius-md);--padding-start: var(--mc-spacing-md);--padding-end: var(--mc-spacing-md);--color: var(--mc-text-primary);--placeholder-color: var(--mc-form-input-placeholder);--placeholder-opacity: .7;font-size:var(--font-body-md);height:52px;border:1.5px solid var(--mc-border-primary);border-radius:var(--mc-radius-md);transition:border-color var(--mc-transition-base),box-shadow var(--mc-transition-base)}.custom-input[_ngcontent-%COMP%]:focus-within{border-color:var(--mc-color-primary-500);box-shadow:0 0 0 2px #0052cc1f;outline:2px solid rgba(0,82,204,.25);outline-offset:0}.custom-input[disabled][_ngcontent-%COMP%]{opacity:.6;cursor:not-allowed}.custom-select[_ngcontent-%COMP%]{background:var(--mc-bg-primary);border:1.5px solid var(--mc-border-primary);border-radius:var(--mc-radius-md);padding:var(--mc-spacing-md);font-size:var(--font-body-md);color:var(--mc-text-primary);height:52px;transition:border-color var(--mc-transition-base),box-shadow var(--mc-transition-base);cursor:pointer}.custom-select[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--mc-color-primary-500);box-shadow:0 0 0 2px #0052cc1f}.field-feedback[_ngcontent-%COMP%]{font-size:var(--font-body-sm);margin:4px 0 0;color:var(--mc-text-secondary)}.field-feedback.error[_ngcontent-%COMP%]{color:#d93025}.field-feedback.success[_ngcontent-%COMP%]{color:var(--mc-color-success-500)}.signup-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--mc-spacing-lg);animation:_ngcontent-%COMP%_fadeIn .4s ease-out}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:var(--mc-spacing-md)}.action-buttons[_ngcontent-%COMP%]{margin-top:var(--mc-spacing-lg);display:flex;flex-direction:column;gap:var(--mc-spacing-md)}.primary-button[_ngcontent-%COMP%]{--border-radius: var(--mc-radius-md);--background: var(--mc-color-primary-500);--background-hover: var(--mc-color-primary-600);--background-activated: var(--mc-color-primary-700);--color: var(--mc-text-inverse);height:52px;font-weight:600;font-size:var(--font-button-lg);letter-spacing:.3px;margin:0;transition:transform var(--mc-transition-fast),box-shadow var(--mc-transition-fast)}.primary-button[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-1px);box-shadow:var(--mc-shadow-md)}.primary-button[_ngcontent-%COMP%]:active:not(:disabled){transform:scale(.98);opacity:.9}.primary-button[disabled][_ngcontent-%COMP%]{--background: #b0c4ff;cursor:not-allowed;opacity:1}.primary-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px}.toggle-section[_ngcontent-%COMP%]{text-align:center;margin-top:var(--mc-spacing-sm)}.toggle-text[_ngcontent-%COMP%]{font-size:var(--font-body-md);color:var(--mc-text-secondary);margin:0}.toggle-text[_ngcontent-%COMP%]   .toggle-link[_ngcontent-%COMP%]{color:var(--mc-color-primary-500);font-weight:600;cursor:pointer;text-decoration:none;transition:color var(--mc-transition-fast)}.toggle-text[_ngcontent-%COMP%]   .toggle-link[_ngcontent-%COMP%]:hover{color:var(--mc-color-primary-600);text-decoration:underline}.support-hint[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;gap:var(--mc-spacing-sm);font-size:var(--font-body-sm);color:var(--mc-text-secondary);background:#f9fafb;border-radius:var(--mc-radius-md);padding:var(--mc-spacing-md) var(--mc-spacing-lg);border:1px solid var(--mc-border-primary);margin-top:var(--mc-spacing-lg)}.support-hint[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px;color:var(--mc-color-primary-500)}@media (max-width: 640px){.container[_ngcontent-%COMP%]{padding:var(--mc-spacing-xl) var(--mc-spacing-md);gap:var(--mc-spacing-lg)}.logo[_ngcontent-%COMP%]{width:210px}.step-indicator[_ngcontent-%COMP%]{font-size:11px;gap:var(--mc-spacing-xs);margin-bottom:var(--mc-spacing-md)}.step-dot[_ngcontent-%COMP%]{gap:6px}.step-dot[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{width:10px;height:10px}.step-dot.current[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{box-shadow:0 0 0 3px #0052cc26}.stage-chip[_ngcontent-%COMP%]{font-size:12px;padding:6px 12px}.auth-card[_ngcontent-%COMP%]{padding:var(--mc-spacing-xl) var(--mc-spacing-lg);gap:var(--mc-spacing-lg)}.auth-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px}.auth-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:14px}.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}.custom-input[_ngcontent-%COMP%], .custom-select[_ngcontent-%COMP%]{height:48px;font-size:15px}.primary-button[_ngcontent-%COMP%]{height:48px;font-size:var(--font-button-md)}}@media (max-width: 420px){.container[_ngcontent-%COMP%]{padding:var(--mc-spacing-lg) var(--mc-spacing-sm);gap:var(--mc-spacing-md)}.logo[_ngcontent-%COMP%]{width:250px}.step-indicator[_ngcontent-%COMP%]{font-size:10px;gap:6px}.step-text[_ngcontent-%COMP%]{display:none}.stage-chip[_ngcontent-%COMP%]{font-size:11px;padding:5px 10px}.stage-chip[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px}.auth-card[_ngcontent-%COMP%]{padding:var(--mc-spacing-lg);gap:var(--mc-spacing-md)}.auth-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:22px}.auth-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:13px}.auth-form[_ngcontent-%COMP%]{gap:var(--mc-spacing-lg)}.form-group[_ngcontent-%COMP%]{gap:8px}.form-label[_ngcontent-%COMP%]{font-size:14px}.form-label[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px}.custom-input[_ngcontent-%COMP%]{height:46px;font-size:14px;--padding-start: 12px;--padding-end: 12px}.custom-select[_ngcontent-%COMP%]{height:46px;font-size:14px;padding:12px}.signup-form[_ngcontent-%COMP%]{gap:var(--mc-spacing-md)}.field-feedback[_ngcontent-%COMP%]{font-size:12px}.primary-button[_ngcontent-%COMP%]{height:46px;font-size:15px}.primary-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}.toggle-text[_ngcontent-%COMP%]{font-size:13px}.support-hint[_ngcontent-%COMP%]{font-size:12px;padding:10px 12px}.support-hint[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 360px){.container[_ngcontent-%COMP%]{padding:var(--mc-spacing-md) var(--mc-spacing-xs);gap:var(--mc-spacing-sm);min-height:100vh}.logo[_ngcontent-%COMP%]{width:160px}.stage-chip[_ngcontent-%COMP%]{font-size:10px;padding:4px 8px;letter-spacing:0}.stage-chip[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:14px;margin-right:4px}.auth-card[_ngcontent-%COMP%]{padding:var(--mc-spacing-md);gap:var(--mc-spacing-md);border-radius:var(--mc-radius-md)}.auth-header[_ngcontent-%COMP%]{gap:6px}.auth-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:20px;letter-spacing:-.3px}.auth-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:12px;line-height:1.4}.auth-form[_ngcontent-%COMP%]{gap:var(--mc-spacing-md)}.form-group[_ngcontent-%COMP%]{gap:6px}.form-label[_ngcontent-%COMP%]{font-size:13px}.form-label[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:15px}.custom-input[_ngcontent-%COMP%]{height:44px;font-size:13px;--padding-start: 10px;--padding-end: 10px}.custom-select[_ngcontent-%COMP%]{height:44px;font-size:13px;padding:10px}.signup-form[_ngcontent-%COMP%]{gap:12px}.form-row[_ngcontent-%COMP%]{gap:10px}.field-feedback[_ngcontent-%COMP%]{font-size:11px;margin-top:2px}.action-buttons[_ngcontent-%COMP%]{margin-top:var(--mc-spacing-md);gap:10px}.primary-button[_ngcontent-%COMP%]{height:44px;font-size:14px;letter-spacing:.2px}.primary-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:17px}.toggle-section[_ngcontent-%COMP%]{margin-top:6px}.toggle-text[_ngcontent-%COMP%]{font-size:12px}.support-hint[_ngcontent-%COMP%]{font-size:11px;padding:8px 10px;margin-top:var(--mc-spacing-md)}.support-hint[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px}.support-hint[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.4}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}"]}),g})()},8135:(P,f,c)=>{c.d(f,{V:()=>l});var _=c(4438),m=c(600),v=c(9012);let l=(()=>{var d;class e{constructor(s,p){this.platform=s,this.router=p,this.activeSubscriptions=new Map}setupBackButton(s,p){Array.isArray(s)?s.forEach(u=>{this.setupSingleBackButton(u.route,u.handler)}):"string"==typeof s&&p&&this.setupSingleBackButton(s,p)}setupSingleBackButton(s,p){this.cleanupBackButton(s);const u=this.platform.backButton.subscribeWithPriority(10,()=>{this.router.url===s&&p()});this.activeSubscriptions.set(s,u)}cleanupBackButton(s){const p=this.activeSubscriptions.get(s);p&&(p.unsubscribe(),this.activeSubscriptions.delete(s))}cleanupAllSubscriptions(){this.activeSubscriptions.forEach((s,p)=>{s.unsubscribe()}),this.activeSubscriptions.clear()}cleanup(){this.cleanupAllSubscriptions()}navigateBack(s="/home"){window.history.length>1?window.history.back():this.router.navigate([s])}smartNavigateBack(s){const u={"/appointment-list":"/home","/appointment-booking":"/appointment-list","/select-patient":"/appointment-booking","/confirm-appointment":"/appointment-booking","/appointment-confirmed":"/appointment-list","/appointment-details":"/appointment-list","/consent-form":"/appointment-booking","/prescription":"/home","/bills":"/home","/bill-details":"/bills","/family-member-list":"/home","/home/profiles":"/home","/family-member-form":"/home/profiles","/profile-edition":"/home","/attachment-list":"/home","/medical-record/attachment-list":"/home","/report-attachment-list":"/home","/medical-record/report-attachment-list":"/home","/family-member-attachment-list":"/home","/patient-medical-record":"/home","/patient-list":"/home","/emr-visits":"/patient-list","/emr":"/home","/medical-attachments":"/patient-medical-record","/facility-information":"/facility-information-template","/facility-information-template":"/home","/edit-facility-information-page":"/facility-information","/service-requests":"/home","/new-service-request":"/service-requests","/reminder":"/home"}[s];u?this.router.navigate([u]):this.navigateBack()}}return(d=e).\u0275fac=function(s){return new(s||d)(_.KVO(m.OD),_.KVO(v.Ix))},d.\u0275prov=_.jDH({token:d,factory:d.\u0275fac,providedIn:"root"}),e})()}}]);