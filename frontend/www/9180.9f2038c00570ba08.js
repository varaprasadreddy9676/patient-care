"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9180],{9180:(D,O,c)=>{c.r(O),c.d(O,{PrescriptionPage:()=>K});var g=c(467),h=c(9893),P=c(2739),M=c(177),_=c(5083),x=c(8359),t=c(4438),a=c(8023),p=c(9934),v=c(3629),k=c(600),F=c(9012),I=c(8251),R=c(8135),w=c(8875),B=c(8831),U=c(3453);function S(o,d){1&o&&(t.j41(0,"div",5),t.nrm(1,"ion-icon",6),t.j41(2,"p"),t.EFF(3,"No prescriptions available"),t.k0s()())}function j(o,d){if(1&o&&(t.j41(0,"div",22)(1,"div",23),t.nrm(2,"ion-icon",24),t.j41(3,"span",25),t.EFF(4),t.k0s()(),t.j41(5,"div",23),t.nrm(6,"ion-icon",26),t.j41(7,"span",27),t.EFF(8),t.k0s()()()),2&o){const i=t.XpG().$implicit;t.R7$(4),t.JRh(i.prescription.prescription[0].doctorName),t.R7$(4),t.JRh(i.prescription.prescription[0].startDate)}}function A(o,d){if(1&o&&(t.j41(0,"div",40),t.nrm(1,"ion-icon",47),t.j41(2,"div",42)(3,"span",43),t.EFF(4,"Duration:"),t.k0s(),t.j41(5,"span",44),t.EFF(6),t.k0s()()()),2&o){const i=t.XpG().$implicit;t.R7$(6),t.JRh(i.duration)}}function T(o,d){if(1&o&&(t.j41(0,"div",40),t.nrm(1,"ion-icon",48),t.j41(2,"div",42)(3,"span",43),t.EFF(4,"Quantity:"),t.k0s(),t.j41(5,"span",44),t.EFF(6),t.k0s()()()),2&o){const i=t.XpG().$implicit;t.R7$(6),t.Lme("",i.totalQty," ",i.UOM,"")}}function $(o,d){if(1&o&&(t.j41(0,"div",35)(1,"div",36)(2,"span",37),t.EFF(3),t.k0s(),t.j41(4,"div",38),t.EFF(5),t.k0s()(),t.j41(6,"div",39)(7,"div",40),t.nrm(8,"ion-icon",41),t.j41(9,"div",42)(10,"span",43),t.EFF(11,"Dosage:"),t.k0s(),t.j41(12,"span",44),t.EFF(13),t.k0s()()(),t.DNE(14,A,7,1,"div",45),t.j41(15,"div",40),t.nrm(16,"ion-icon",46),t.j41(17,"div",42)(18,"span",43),t.EFF(19,"Form:"),t.k0s(),t.j41(20,"span",44),t.EFF(21),t.k0s()()(),t.DNE(22,T,7,2,"div",45),t.k0s()()),2&o){const i=d.$implicit,n=d.index;t.R7$(3),t.JRh(n+1),t.R7$(2),t.JRh(i.drugName),t.R7$(8),t.JRh(i.dosageText||i.dosageDesc),t.R7$(),t.Y8G("ngIf",i.duration&&"null"!==i.duration.trim()),t.R7$(7),t.Lme("",i.UOM," (",i.routeOfIntake,")"),t.R7$(),t.Y8G("ngIf",i.totalQty)}}function N(o,d){if(1&o){const i=t.RV6();t.j41(0,"div",28)(1,"div",29)(2,"h3",30),t.EFF(3,"Medications"),t.k0s(),t.DNE(4,$,23,7,"div",31),t.k0s(),t.j41(5,"div",32)(6,"ion-button",33),t.bIt("click",function(e){t.eBV(i);const r=t.XpG().$implicit;return t.XpG(2).showPDF(r),t.Njj(e.stopPropagation())}),t.nrm(7,"ion-icon",34),t.EFF(8," Download PDF "),t.k0s()()()}if(2&o){const i=t.XpG().$implicit;t.R7$(4),t.Y8G("ngForOf",i.prescription.prescription)}}function L(o,d){if(1&o){const i=t.RV6();t.j41(0,"div",9)(1,"div",10),t.bIt("click",function(){const e=t.eBV(i).$implicit,r=t.XpG(2);return t.Njj(r.toggleExpansion(e))}),t.j41(2,"div",11)(3,"div",12),t.EFF(4),t.k0s(),t.j41(5,"div",13)(6,"div",14),t.EFF(7),t.k0s(),t.j41(8,"div",15)(9,"span",16),t.EFF(10),t.k0s(),t.j41(11,"span",17),t.EFF(12),t.k0s()()()(),t.DNE(13,j,9,2,"div",18),t.j41(14,"div",19),t.nrm(15,"ion-icon",20),t.k0s()(),t.DNE(16,N,9,1,"div",21),t.k0s()}if(2&o){const i=d.$implicit,n=t.XpG(2);t.R7$(4),t.JRh(n.getInitials(i.familyMemberName)),t.R7$(3),t.JRh(i.familyMemberName),t.R7$(3),t.JRh(i.familyMemberGender),t.R7$(2),t.Lme("",i.prescription.prescription.length," medication",i.prescription.prescription.length>1?"s":"",""),t.R7$(),t.Y8G("ngIf",i.prescription.prescription.length>0),t.R7$(2),t.AVh("expanded",i.expanded),t.R7$(),t.Y8G("ngIf",i.expanded)}}function W(o,d){if(1&o&&(t.j41(0,"div",7),t.DNE(1,L,17,9,"div",8),t.k0s()),2&o){const i=t.XpG();t.R7$(),t.Y8G("ngForOf",i.prescriptionDetails)}}let K=(()=>{var o;class d{constructor(n,e,r,s,l,f,u,C,m,E,b,y){this.httpService=n,this.utilityService=e,this.storageService=r,this.platform=s,this.toastController=l,this.alertController=f,this.router=u,this.navService=C,this.pageNavService=m,this.globalFamilyMemberService=E,this.chatService=b,this.chatContextService=y,this.prescriptionDetails=[],this.noPrescriptions=!1,this.subscriptions=new x.yU,this.selectedPrescription=null,this.navService.pageChange("Prescriptions"),this.user=this.storageService.get("user")}ionViewWillEnter(){this.navService.pageChange("Prescriptions"),this.getPrescriptionDetails(),this.pageNavService.setupBackButton("/prescription",()=>{this.router.navigate(["home"])}),this.updatePrescriptionContext()}ionViewWillLeave(){this.chatContextService.clearContext()}getPrescriptionDetails(){var n=this;return(0,g.A)(function*(){n.prescriptionDetails=[];const e="/prescription/?userId="+n.user.id+"&activePrescription=false";yield n.httpService.getInBackground(e,!0).then(r=>{if(r&&Array.isArray(r))for(let s=0;s<r.length;s++)console.log("length",r[s].prescription.prescription.length),r[s].prescription.prescription.length>0&&n.prescriptionDetails.push(r[s]);else n.noPrescriptions=!0;n.noPrescriptions=0===n.prescriptionDetails.length,n.updatePrescriptionContext()}).catch(r=>{n.utilityService.presentAlert("Error!",r.message)})})()}showPDF(n){var e=this;return(0,g.A)(function*(){let r;for(let l=0;l<n.prescription.prescription.length;l++){r=n.prescription.prescription[l].entityCode;break}const s="/prescription/print/?hospitalCode="+r+"&patientId="+n.patientId;yield e.httpService.getInBackground(s,!0).then(function(){var l=(0,g.A)(function*(f){if(f){const u="Prescription_"+n.familyMemberName+".pdf";if(_.Ii.isNativePlatform()){const C=f.prescriptionPrint,m=e.platform.is("ios")?P.__.Documents:P.__.ExternalStorage;yield P.YA.writeFile({path:u,data:C,directory:m,recursive:!0}),yield P.YA.getUri({path:u,directory:m}).then(function(){var b=(0,g.A)(function*(y){window.open(_.Ii.convertFileSrc(y.uri),"_blank")});return function(y){return b.apply(this,arguments)}}())}else{const C=`data:application/pdf;base64,${f.prescriptionPrint}`,m=document.createElement("a");m.href=C,m.download=u,m.target="_blank",document.body.appendChild(m),m.click()}}});return function(f){return l.apply(this,arguments)}}()).catch(l=>{})})()}getInitials(n){if(!n)return"?";const e=n.trim().split(" ").filter(r=>r.length>0);return 1===e.length?e[0].substring(0,2).toUpperCase():(e[0].charAt(0)+e[e.length-1].charAt(0)).toUpperCase()}toggleExpansion(n){this.prescriptionDetails.forEach(e=>{e!==n&&(e.expanded=!1)}),n.expanded=!n.expanded,n.expanded?(this.selectedPrescription=n,this.updatePrescriptionContext(),setTimeout(()=>{const e=this.prescriptionDetails.indexOf(n),r=document.querySelector(`.prescription-row:nth-child(${e+1})`);r&&r.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},100)):(this.selectedPrescription=null,this.updatePrescriptionContext())}getHospitalCode(n){var e;if(null!=n&&null!==(e=n.prescription)&&void 0!==e&&e.prescription&&Array.isArray(n.prescription.prescription)&&n.prescription.prescription.length>0)return n.prescription.prescription[0].entityCode}updatePrescriptionContext(){const n=this.selectedPrescription||(this.prescriptionDetails.length>0?this.prescriptionDetails[0]:null);if(n){var e;const r=n.pharmacyId||(null===(e=n.prescription)||void 0===e?void 0:e._id),s=this.getHospitalCode(n);this.chatContextService.setContext("PRESCRIPTION",r,{hospitalCode:s,patientId:n.patientId})}else this.chatContextService.clearContext()}ngOnInit(){let n=!0;this.subscriptions.add(this.globalFamilyMemberService.selectedFamilyMember$.subscribe(e=>{!n&&e&&(this.prescriptionDetails=[],this.getPrescriptionDetails()),n=!1}))}openChat(n){var e=this;return(0,g.A)(function*(){try{var r;const s=n.pharmacyId||(null===(r=n.prescription)||void 0===r?void 0:r._id),l=e.getHospitalCode(n);yield e.chatService.launchChat("PRESCRIPTION",s,{hospitalCode:l,patientId:n.patientId})}catch(s){console.error("Failed to open chat:",s),e.utilityService.presentAlert("Error","Failed to start chat. Please try again.")}})()}ngOnDestroy(){this.subscriptions.unsubscribe(),this.pageNavService.cleanupBackButton("/prescription")}}return(o=d).\u0275fac=function(n){return new(n||o)(t.rXU(a.k),t.rXU(p.Q),t.rXU(v.n),t.rXU(k.OD),t.rXU(h.K_),t.rXU(h.hG),t.rXU(F.Ix),t.rXU(I.o),t.rXU(R.V),t.rXU(w.b),t.rXU(B.m),t.rXU(U.t))},o.\u0275cmp=t.VBU({type:o,selectors:[["app-prescription"]],standalone:!0,features:[t.aNF],decls:7,vars:2,consts:[[1,"prescriptions-content"],[1,"container"],[1,"header"],["class","empty-state",4,"ngIf"],["class","prescription-list",4,"ngIf"],[1,"empty-state"],["name","medical-outline",1,"empty-icon"],[1,"prescription-list"],["class","prescription-card",4,"ngFor","ngForOf"],[1,"prescription-card"],[1,"card-header",3,"click"],[1,"patient-info"],[1,"avatar"],[1,"patient-details"],[1,"patient-name"],[1,"patient-meta"],[1,"gender-badge"],[1,"medication-count"],["class","prescription-summary",4,"ngIf"],[1,"expand-icon"],["name","chevron-down-outline"],["class","card-body",4,"ngIf"],[1,"prescription-summary"],[1,"detail-row"],["name","person-outline",1,"icon"],[1,"doctor-name"],["name","calendar-outline",1,"icon"],[1,"date"],[1,"card-body"],[1,"medications-section"],[1,"section-title"],["class","medication-item",4,"ngFor","ngForOf"],[1,"action-buttons"],["size","small","fill","outline",3,"click"],["slot","start","name","download-outline"],[1,"medication-item"],[1,"medication-header"],[1,"med-number"],[1,"drug-name"],[1,"medication-details"],[1,"detail-item"],["name","time-outline",1,"detail-icon"],[1,"detail-content"],[1,"label"],[1,"value"],["class","detail-item",4,"ngIf"],["name","flask-outline",1,"detail-icon"],["name","calendar-outline",1,"detail-icon"],["name","cube-outline",1,"detail-icon"]],template:function(n,e){1&n&&(t.j41(0,"ion-content",0)(1,"div",1)(2,"header",2)(3,"h1"),t.EFF(4,"Prescriptions"),t.k0s()(),t.DNE(5,S,4,0,"div",3)(6,W,2,1,"div",4),t.k0s()()),2&n&&(t.R7$(5),t.Y8G("ngIf",e.noPrescriptions),t.R7$(),t.Y8G("ngIf",!e.noPrescriptions))},dependencies:[h.bv,h.Jm,h.W9,h.iq,M.bT,M.pM],styles:[".prescriptions-content[_ngcontent-%COMP%]{--padding-top: var(--mc-spacing-md);--padding-bottom: var(--mc-spacing-md);--background: var(--mc-bg-primary)}.prescriptions-content[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:0 var(--mc-spacing-md)}@media (max-width: 600px){.prescriptions-content[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding:0 var(--mc-spacing-sm)}}.prescriptions-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{margin-bottom:var(--mc-spacing-md);animation:_ngcontent-%COMP%_fadeInUp .4s ease-out}.prescriptions-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:var(--mc-font-heading-md);font-weight:600;color:var(--mc-text-primary);margin:0}@media (max-width: 600px){.prescriptions-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:var(--mc-font-heading-sm)}}.prescriptions-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{text-align:center;padding:var(--mc-spacing-2xl) var(--mc-spacing-md);color:var(--mc-text-tertiary);animation:_ngcontent-%COMP%_fadeInUp .5s ease-out}.prescriptions-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:var(--mc-font-display-md);margin-bottom:var(--mc-spacing-md);color:var(--mc-color-gray-400)}.prescriptions-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:var(--mc-font-body-md);margin:0}.prescriptions-content[_ngcontent-%COMP%]   .prescription-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--mc-spacing-sm)}.prescriptions-content[_ngcontent-%COMP%]   .prescription-card[_ngcontent-%COMP%]{background:var(--mc-bg-card);border-radius:var(--mc-radius-md);box-shadow:var(--mc-card-shadow);border:1px solid var(--mc-card-border);overflow:hidden;animation:_ngcontent-%COMP%_fadeInUp .4s ease-out}.prescriptions-content[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:var(--mc-spacing-sm) var(--mc-spacing-md);cursor:pointer;display:flex;align-items:center;gap:var(--mc-spacing-sm);transition:background-color .2s ease}.prescriptions-content[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]:hover{background:var(--mc-color-gray-50)}@media (max-width: 600px){.prescriptions-content[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:var(--mc-spacing-xs);padding:var(--mc-spacing-sm)}}.prescriptions-content[_ngcontent-%COMP%]   .patient-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--mc-spacing-sm);flex-shrink:0}.prescriptions-content[_ngcontent-%COMP%]   .patient-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:var(--mc-radius-full);background:var(--mc-color-primary-500);display:flex;align-items:center;justify-content:center;color:var(--mc-text-inverse);font-weight:600;font-size:var(--mc-font-body-sm);flex-shrink:0}.prescriptions-content[_ngcontent-%COMP%]   .patient-info[_ngcontent-%COMP%]   .patient-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.prescriptions-content[_ngcontent-%COMP%]   .patient-info[_ngcontent-%COMP%]   .patient-details[_ngcontent-%COMP%]   .patient-name[_ngcontent-%COMP%]{font-size:var(--mc-font-body-md);font-weight:600;color:var(--mc-text-primary);line-height:1.2}.prescriptions-content[_ngcontent-%COMP%]   .patient-info[_ngcontent-%COMP%]   .patient-details[_ngcontent-%COMP%]   .patient-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--mc-spacing-xs);flex-wrap:wrap}.prescriptions-content[_ngcontent-%COMP%]   .patient-info[_ngcontent-%COMP%]   .patient-details[_ngcontent-%COMP%]   .patient-meta[_ngcontent-%COMP%]   .gender-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:2px 6px;border-radius:var(--mc-radius-sm);font-size:var(--mc-font-body-xs);font-weight:600;background:var(--mc-color-gray-100);color:var(--mc-color-gray-700)}.prescriptions-content[_ngcontent-%COMP%]   .patient-info[_ngcontent-%COMP%]   .patient-details[_ngcontent-%COMP%]   .patient-meta[_ngcontent-%COMP%]   .medication-count[_ngcontent-%COMP%]{font-size:var(--mc-font-body-xs);color:var(--mc-text-secondary);font-weight:500}@media (max-width: 600px){.prescriptions-content[_ngcontent-%COMP%]   .patient-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:36px;height:36px;font-size:var(--mc-font-body-xs)}}.prescriptions-content[_ngcontent-%COMP%]   .prescription-summary[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px;flex:1;min-width:0}.prescriptions-content[_ngcontent-%COMP%]   .prescription-summary[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--mc-spacing-xs);font-size:var(--mc-font-body-sm)}.prescriptions-content[_ngcontent-%COMP%]   .prescription-summary[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:14px;color:var(--mc-color-primary-500);flex-shrink:0}.prescriptions-content[_ngcontent-%COMP%]   .prescription-summary[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .doctor-name[_ngcontent-%COMP%]{color:var(--mc-text-secondary);font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.prescriptions-content[_ngcontent-%COMP%]   .prescription-summary[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:var(--mc-text-tertiary);font-weight:500;white-space:nowrap}@media (max-width: 600px){.prescriptions-content[_ngcontent-%COMP%]   .prescription-summary[_ngcontent-%COMP%]{width:100%;padding-left:48px}}.prescriptions-content[_ngcontent-%COMP%]   .expand-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-shrink:0}.prescriptions-content[_ngcontent-%COMP%]   .expand-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px;color:var(--mc-text-tertiary);transition:transform .2s ease}.prescriptions-content[_ngcontent-%COMP%]   .expand-icon[_ngcontent-%COMP%]   ion-icon.expanded[_ngcontent-%COMP%]{transform:rotate(180deg)}@media (max-width: 600px){.prescriptions-content[_ngcontent-%COMP%]   .expand-icon[_ngcontent-%COMP%]{position:absolute;top:var(--mc-spacing-sm);right:var(--mc-spacing-sm)}}.prescriptions-content[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{border-top:1px solid var(--mc-border-primary);background:var(--mc-color-gray-50);padding:var(--mc-spacing-sm) var(--mc-spacing-md);animation:_ngcontent-%COMP%_fadeIn .2s ease-out}@media (max-width: 600px){.prescriptions-content[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:var(--mc-spacing-sm)}}.prescriptions-content[_ngcontent-%COMP%]   .medications-section[_ngcontent-%COMP%]{margin-bottom:var(--mc-spacing-sm)}.prescriptions-content[_ngcontent-%COMP%]   .medications-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:var(--mc-font-body-md);font-weight:600;color:var(--mc-text-secondary);margin:0 0 var(--mc-spacing-sm) 0}.prescriptions-content[_ngcontent-%COMP%]   .medication-item[_ngcontent-%COMP%]{background:var(--mc-bg-primary);border-radius:var(--mc-radius-sm);padding:var(--mc-spacing-sm);margin-bottom:var(--mc-spacing-sm);border:1px solid var(--mc-border-primary)}.prescriptions-content[_ngcontent-%COMP%]   .medication-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.prescriptions-content[_ngcontent-%COMP%]   .medication-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--mc-spacing-xs);margin-bottom:var(--mc-spacing-xs)}.prescriptions-content[_ngcontent-%COMP%]   .medication-header[_ngcontent-%COMP%]   .med-number[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:var(--mc-radius-full);background:var(--mc-color-primary-500);color:var(--mc-text-inverse);display:flex;align-items:center;justify-content:center;font-size:var(--mc-font-body-xs);font-weight:700;flex-shrink:0}.prescriptions-content[_ngcontent-%COMP%]   .medication-header[_ngcontent-%COMP%]   .drug-name[_ngcontent-%COMP%]{font-size:var(--mc-font-body-md);font-weight:600;color:var(--mc-text-primary);line-height:1.3}.prescriptions-content[_ngcontent-%COMP%]   .medication-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px;padding-left:28px}.prescriptions-content[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:var(--mc-spacing-xs);padding:4px 0}.prescriptions-content[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-icon[_ngcontent-%COMP%]{font-size:14px;color:var(--mc-color-primary-500);margin-top:2px;flex-shrink:0}.prescriptions-content[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-content[_ngcontent-%COMP%]{flex:1;display:flex;flex-wrap:wrap;gap:4px;font-size:var(--mc-font-body-xs);line-height:1.4}.prescriptions-content[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-content[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:var(--mc-text-secondary);font-weight:500}.prescriptions-content[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-content[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:var(--mc-text-primary);font-weight:600}.prescriptions-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;padding-top:var(--mc-spacing-sm);border-top:1px solid var(--mc-border-primary)}.prescriptions-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--border-radius: var(--mc-radius-sm);--padding-top: var(--mc-spacing-xs);--padding-bottom: var(--mc-spacing-xs);--padding-start: var(--mc-spacing-sm);--padding-end: var(--mc-spacing-sm);font-size:var(--mc-font-body-xs);font-weight:500;text-transform:none}.prescriptions-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px;margin-right:4px}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@media (max-width: 600px){.prescriptions-content[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{position:relative}}"]}),d})()},8135:(D,O,c)=>{c.d(O,{V:()=>M});var g=c(4438),h=c(600),P=c(9012);let M=(()=>{var _;class x{constructor(a,p){this.platform=a,this.router=p,this.activeSubscriptions=new Map}setupBackButton(a,p){Array.isArray(a)?a.forEach(v=>{this.setupSingleBackButton(v.route,v.handler)}):"string"==typeof a&&p&&this.setupSingleBackButton(a,p)}setupSingleBackButton(a,p){this.cleanupBackButton(a);const v=this.platform.backButton.subscribeWithPriority(10,()=>{this.router.url===a&&p()});this.activeSubscriptions.set(a,v)}cleanupBackButton(a){const p=this.activeSubscriptions.get(a);p&&(p.unsubscribe(),this.activeSubscriptions.delete(a))}cleanupAllSubscriptions(){this.activeSubscriptions.forEach((a,p)=>{a.unsubscribe()}),this.activeSubscriptions.clear()}cleanup(){this.cleanupAllSubscriptions()}navigateBack(a="/home"){window.history.length>1?window.history.back():this.router.navigate([a])}smartNavigateBack(a){const v={"/appointment-list":"/home","/appointment-booking":"/appointment-list","/select-patient":"/appointment-booking","/confirm-appointment":"/appointment-booking","/appointment-confirmed":"/appointment-list","/appointment-details":"/appointment-list","/consent-form":"/appointment-booking","/prescription":"/home","/bills":"/home","/bill-details":"/bills","/family-member-list":"/home","/home/profiles":"/home","/family-member-form":"/home/profiles","/profile-edition":"/home","/attachment-list":"/home","/medical-record/attachment-list":"/home","/report-attachment-list":"/home","/medical-record/report-attachment-list":"/home","/family-member-attachment-list":"/home","/patient-medical-record":"/home","/patient-list":"/home","/emr-visits":"/patient-list","/emr":"/home","/medical-attachments":"/patient-medical-record","/facility-information":"/facility-information-template","/facility-information-template":"/home","/edit-facility-information-page":"/facility-information","/service-requests":"/home","/new-service-request":"/service-requests","/reminder":"/home"}[a];v?this.router.navigate([v]):this.navigateBack()}}return(_=x).\u0275fac=function(a){return new(a||_)(g.KVO(h.OD),g.KVO(P.Ix))},_.\u0275prov=g.jDH({token:_,factory:_.\u0275fac,providedIn:"root"}),x})()}}]);