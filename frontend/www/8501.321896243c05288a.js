"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8501],{8501:(ut,P,p)=>{p.r(P),p.d(P,{AppointmentDetailsPage:()=>st});var m=p(467),l=p(9893),u=p(5351),k=p(2798),f=p(3),h=p(177),d=p(9417),v=p(3719),S=p(9631),A=p(5084),b=p(5951),t=p(4438),M=p(9934),O=p(8023),y=p(7031),D=p(9012);const E=["timeSelect"];function T(r,s){1&r&&(t.j41(0,"mat-error"),t.EFF(1," No time slots available on this date. Please select a different date. "),t.k0s())}function I(r,s){if(1&r){const i=t.RV6();t.j41(0,"mat-option",23),t.bIt("click",function(){const e=t.eBV(i).$implicit,o=t.XpG();return t.Njj(o.getTime(e.time))}),t.EFF(1),t.k0s()}if(2&r){const i=s.$implicit;t.Y8G("value",i),t.R7$(),t.SpI(" ",i.time," ")}}const R={parse:{dateInput:{month:"numeric",year:"numeric",day:"numeric"}},display:{dateInput:"input",monthYearLabel:{year:"numeric",month:"numeric"},dateA11yLabel:{year:"numeric",month:"numeric",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"numeric"}}};class x extends f.xW{format(s,i){return"input"===i?(0,h.Yq)(s,"dd/MM/yyyy",this.locale):s.toDateString()}}let F=(()=>{var r;class s{constructor(n,e,o,a,c,g){this.data=n,this.dialogRef=e,this.utilityService=o,this.httpService=a,this.dateService=c,this.router=g,this.timeSlotAfternoon=[],this.timeSlotMorning=[],this.timeSlotEvening=[],this.timeSlotNight=[],this.timeSlotArray=[],this.minAppointmentDate=new Date,this.data&&(this.appointmentDate=this.data.appointmentDetails.appointmentDate,this.appointmentTime=this.data.appointmentDetails.appointmentTime,this.dateOfAppointment=this.data.appointmentDetails.appointmentDate,this.videoConsultationHoursOnly=this.data.appointmentDetails.videoConsultation),this.getTimeSlot();const C=parseFloat(this.convertTo24Hour(this.appointmentTime));C<12?(this.onRadioSelected("Morning"),this.slots="Morning"):C>16?(this.onRadioSelected("Evening"),this.slots="Evening"):(this.onRadioSelected("Afternoon"),this.slots="Afternoon")}convertTo24Hour(n){const e=new Date("1/1/2013 "+n);return e.getHours()+":"+e.getMinutes()}getTimeSlot(){var n=this;return(0,m.A)(function*(){n.timeSlotEvening.length=0,n.timeSlotMorning.length=0,n.timeSlotAfternoon.length=0,n.timeSlotNight.length=0,n.slots=void 0,n.timeOfAppointment=null;const e="/appointment/slot/?hospitalCode="+n.data.appointmentDetails.hospital.code+"&doctorId="+n.data.appointmentDetails.doctorId+"&appointmentDate="+n.utilityService.toISODateTime(new Date(n.dateOfAppointment))+"&videoConsultationHoursOnly="+n.videoConsultationHoursOnly;yield n.httpService.getInBackground(e,!0).then(o=>{if(null!=o){if(o.data.Evening){for(let a=0;a<o.data.Evening.length;a++)!0===o.data.Evening[a].available&&n.timeSlotEvening.push(o.data.Evening[a]);for(let a=0;a<n.timeSlotEvening.length;a++)n.timeSlotEvening[a].time===n.data.appointmentDetails.appointmentTime&&(n.timeOfAppointment=n.timeSlotEvening[a])}if(o.data.Night){for(let a=0;a<o.data.Night.length;a++)!0===o.data.Night[a].available&&n.timeSlotEvening.push(o.data.Night[a]);for(let a=0;a<n.timeSlotNight.length;a++)n.timeSlotNight[a].time===n.data.appointmentDetails.appointmentTime&&(n.timeOfAppointment=n.timeSlotNight[a])}if(o.data.Afternoon){for(let a=0;a<o.data.Afternoon.length;a++)!0===o.data.Afternoon[a].available&&n.timeSlotAfternoon.push(o.data.Afternoon[a]);for(let a=0;a<n.timeSlotAfternoon.length;a++)n.timeSlotAfternoon[a].time===n.data.appointmentDetails.appointmentTime&&(n.timeOfAppointment=n.timeSlotAfternoon[a])}if(o.data.Morning){for(let a=0;a<o.data.Morning.length;a++)!0===o.data.Morning[a].available&&n.timeSlotMorning.push(o.data.Morning[a]);for(let a=0;a<n.timeSlotMorning.length;a++)n.timeSlotMorning[a].time===n.data.appointmentDetails.appointmentTime&&(n.timeOfAppointment=n.timeSlotMorning[a])}}else n.utilityService.presentAlert("No Slots Available","Check for a different slot or date.")}).catch(o=>{n.utilityService.presentAlert("Try Again","Time slots not fetched.")})})()}getTime(n){this.timeSlot=n}onRadioSelected(n){this.timeOfAppointment=null,"Morning"===n?(this.timeSlotArray=[],this.timeSlotArray=this.timeSlotMorning):"Afternoon"===n?(this.timeSlotArray=[],this.timeSlotArray=this.timeSlotAfternoon):(this.timeSlotArray=[],this.timeSlotArray=this.timeSlotEvening),setTimeout(()=>{this.timeSelect.open()},1)}rescheduleAppointment(){var n=this;return(0,m.A)(function*(){n.data.appointmentDetails.appointmentDate=n.utilityService.toISODateTime(new Date(n.dateOfAppointment)),n.data.appointmentDetails.appointmentTime=n.timeSlot,n.dialogRef.close();const e="/appointment/"+n.data.appointmentDetails._id+"/reschedule";yield n.httpService.putInBackground(e,n.data.appointmentDetails,!0).then(o=>{o&&(o?(n.utilityService.successAlert("Reschedule Successful","Appointment has been rescheduled to "+n.data.appointmentDetails.appointmentDate.slice(0,10)+" @ "+n.dateService.to12HourFormat(n.data.appointmentDetails.appointmentTime)),n.router.navigate(["/home/appointment-list"])):(n.utilityService.presentAlert("Reschedule Failed","Failed to reschedule appointment. Please try again."),n.data.appointmentDetails.appointmentDate=n.appointmentDate,n.data.appointmentDetails.appointmentTime=n.appointmentTime))}).catch(o=>{n.utilityService.presentAlert("Reschedule Failed",o.message),n.data.appointmentDetails.appointmentDate=n.appointmentDate,n.data.appointmentDetails.appointmentTime=n.appointmentTime})})()}ngOnInit(){}}return(r=s).\u0275fac=function(n){return new(n||r)(t.rXU(u.Vh),t.rXU(u.CP),t.rXU(M.Q),t.rXU(O.k),t.rXU(y.k),t.rXU(D.Ix))},r.\u0275cmp=t.VBU({type:r,selectors:[["app-appointment-reschedule"]],viewQuery:function(n,e){if(1&n&&t.GBs(E,5),2&n){let o;t.mGM(o=t.lsd())&&(e.timeSelect=o.first)}},standalone:!0,features:[t.Jv_([{provide:f.MJ,useClass:x},{provide:f.de,useValue:R}]),t.aNF],decls:41,vars:13,consts:[["picker",""],[1,"dialog-container"],[1,"dialog-header"],[1,"header-text"],[1,"appointment-form"],[1,"form-field"],["appearance","outline",1,"full-width"],["matInput","","name","appointmentDate","required","","readonly","",3,"ngModelChange","matDatepicker","min","ngModel"],["matSuffix","",3,"for"],[4,"ngIf"],[1,"form-field","time-slots"],[1,"time-slot-label"],["name","timeSlot","required","",1,"time-slot-group",3,"ngModelChange","ngModel"],["value","Morning",3,"change","disabled"],["name","sunny-outline"],["value","Afternoon",3,"change","disabled"],["name","partly-sunny-outline"],["value","Evening",3,"change","disabled"],["name","moon-outline"],["name","timeOfAppointment","required","",3,"ngModelChange","ngModel","disabled"],[3,"value","click",4,"ngFor","ngForOf"],["fill","outline","color","medium",3,"mat-dialog-close"],["fill","solid","color","primary",3,"click","disabled"],[3,"click","value"]],template:function(n,e){if(1&n){const o=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"h2",3),t.EFF(3,"Reschedule Appointment"),t.k0s()(),t.j41(4,"mat-dialog-content")(5,"form",4)(6,"div",5)(7,"mat-form-field",6)(8,"mat-label"),t.EFF(9,"Date of Appointment"),t.k0s(),t.j41(10,"input",7),t.mxI("ngModelChange",function(c){return t.eBV(o),t.DH7(e.dateOfAppointment,c)||(e.dateOfAppointment=c),t.Njj(c)}),t.bIt("ngModelChange",function(){return t.eBV(o),t.Njj(e.getTimeSlot())}),t.k0s(),t.nrm(11,"mat-datepicker-toggle",8)(12,"mat-datepicker",null,0),t.k0s(),t.DNE(14,T,2,0,"mat-error",9),t.k0s(),t.j41(15,"div",10)(16,"label",11),t.EFF(17,"Select Time Slot"),t.k0s(),t.j41(18,"mat-radio-group",12),t.mxI("ngModelChange",function(c){return t.eBV(o),t.DH7(e.slots,c)||(e.slots=c),t.Njj(c)}),t.j41(19,"mat-radio-button",13),t.bIt("change",function(c){return t.eBV(o),t.Njj(e.onRadioSelected(c.value))}),t.nrm(20,"ion-icon",14),t.EFF(21," Morning "),t.k0s(),t.j41(22,"mat-radio-button",15),t.bIt("change",function(c){return t.eBV(o),t.Njj(e.onRadioSelected(c.value))}),t.nrm(23,"ion-icon",16),t.EFF(24," Afternoon "),t.k0s(),t.j41(25,"mat-radio-button",17),t.bIt("change",function(c){return t.eBV(o),t.Njj(e.onRadioSelected(c.value))}),t.nrm(26,"ion-icon",18),t.EFF(27," Evening "),t.k0s()()(),t.j41(28,"div",5)(29,"mat-form-field",6)(30,"mat-label"),t.EFF(31,"Select Time"),t.k0s(),t.j41(32,"mat-select",19),t.mxI("ngModelChange",function(c){return t.eBV(o),t.DH7(e.timeOfAppointment,c)||(e.timeOfAppointment=c),t.Njj(c)}),t.DNE(33,I,2,2,"mat-option",20),t.k0s(),t.j41(34,"mat-error"),t.EFF(35,"Please select an appointment time"),t.k0s()()()()(),t.j41(36,"mat-dialog-actions")(37,"ion-button",21),t.EFF(38," Cancel "),t.k0s(),t.j41(39,"ion-button",22),t.bIt("click",function(){return t.eBV(o),t.Njj(e.rescheduleAppointment())}),t.EFF(40," Confirm Reschedule "),t.k0s()()()}if(2&n){const o=t.sdS(13);t.R7$(10),t.Y8G("matDatepicker",o)("min",e.minAppointmentDate),t.R50("ngModel",e.dateOfAppointment),t.R7$(),t.Y8G("for",o),t.R7$(3),t.Y8G("ngIf",0===e.timeSlotArray.length),t.R7$(4),t.R50("ngModel",e.slots),t.R7$(),t.Y8G("disabled",0===e.timeSlotMorning.length),t.R7$(3),t.Y8G("disabled",0===e.timeSlotAfternoon.length),t.R7$(3),t.Y8G("disabled",0===e.timeSlotEvening.length),t.R7$(7),t.R50("ngModel",e.timeOfAppointment),t.Y8G("disabled",0===e.timeSlotMorning.length||0===e.timeSlotAfternoon.length||0===e.timeSlotEvening.length),t.R7$(),t.Y8G("ngForOf",e.timeSlotArray),t.R7$(6),t.Y8G("disabled",!e.dateOfAppointment||!e.timeOfAppointment)}},dependencies:[u.Yi,d.YN,d.qT,d.me,d.BC,d.cb,d.YS,d.vS,d.cV,l.bv,l.Jm,l.iq,v.rl,S.fg,A.bZ,A.bU,v.yw,A.Vh,v.nJ,b.VT,b._g,k.VO,h.pM,f.wT,h.bT,v.TL,u.tx,u.E7],styles:["[_nghost-%COMP%]{display:block}.dialog-container[_ngcontent-%COMP%]{min-width:360px;max-width:480px}.dialog-header[_ngcontent-%COMP%]{padding:var(--mc-spacing-xl) var(--mc-spacing-xl) var(--mc-spacing-md);border-bottom:1px solid var(--mc-border-primary)}.dialog-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]{margin:0;color:var(--mc-text-primary);font-size:var(--mc-font-heading-lg);font-weight:var(--font-weight-medium)}mat-dialog-content[_ngcontent-%COMP%]{padding:var(--mc-spacing-xl)}.appointment-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{margin-bottom:var(--mc-spacing-xl)}.appointment-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]:last-child{margin-bottom:0}.full-width[_ngcontent-%COMP%]{width:100%}.time-slots[_ngcontent-%COMP%]   .time-slot-label[_ngcontent-%COMP%]{display:block;margin-bottom:var(--mc-spacing-md);color:var(--mc-text-primary);font-size:var(--mc-font-form-label);font-weight:var(--font-weight-medium)}.time-slots[_ngcontent-%COMP%]   .time-slot-group[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:var(--mc-spacing-md)}.time-slots[_ngcontent-%COMP%]   .time-slot-group[_ngcontent-%COMP%]   mat-radio-button[_ngcontent-%COMP%]{min-width:120px}.time-slots[_ngcontent-%COMP%]   .time-slot-group[_ngcontent-%COMP%]   mat-radio-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-right:var(--mc-spacing-sm);font-size:var(--mc-font-heading-md);vertical-align:text-bottom}mat-dialog-actions[_ngcontent-%COMP%]{padding:var(--mc-spacing-md) var(--mc-spacing-xl);border-top:1px solid var(--mc-border-primary);display:flex;justify-content:space-between;gap:var(--mc-spacing-md)}mat-dialog-actions[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{min-width:120px;--padding-start: var(--mc-spacing-md);--padding-end: var(--mc-spacing-md);text-transform:none;font-weight:var(--font-weight-medium)}  .mat-form-field-appearance-outline .mat-form-field-outline{color:var(--mc-text-secondary)}  .mat-radio-button.mat-accent.mat-radio-checked .mat-radio-outer-circle{border-color:var(--mc-color-primary-500)}  .mat-radio-button.mat-accent .mat-radio-inner-circle{background-color:var(--mc-color-primary-500)}"]}),s})();var j=p(7757),N=p(8636),w=p(7392),V=p(3226),G=p(600),B=p(345),L=p(8251),U=p(9849),H=p(8135);function Y(r,s){if(1&r&&(t.j41(0,"div",32)(1,"span",33),t.EFF(2,"Appointment ID:"),t.k0s(),t.j41(3,"span",34),t.EFF(4),t.k0s()()),2&r){const i=t.XpG(2);t.R7$(4),t.JRh(null==i.currentAppointment?null:i.currentAppointment.bookingId)}}function $(r,s){1&r&&(t.j41(0,"div",35),t.nrm(1,"ion-icon",36),t.j41(2,"div",13),t.EFF(3,"Video Consultation"),t.k0s()())}function X(r,s){1&r&&(t.j41(0,"div",35),t.nrm(1,"ion-icon",37),t.j41(2,"div",13),t.EFF(3,"Consultation at Hospital"),t.k0s()())}function z(r,s){if(1&r){const i=t.RV6();t.j41(0,"div",38)(1,"div",39)(2,"span",40),t.EFF(3,"PAID:"),t.k0s(),t.j41(4,"span",41),t.EFF(5),t.k0s()(),t.j41(6,"ion-button",42),t.bIt("click",function(){t.eBV(i);const e=t.XpG(2);return t.Njj(e.viewReceipt())}),t.nrm(7,"ion-icon",43),t.EFF(8," View receipt "),t.k0s()()}if(2&r){const i=t.XpG(2);t.R7$(5),t.SpI("\u20b9",i.currentAppointment.consultationCharge.price,".00")}}function W(r,s){if(1&r){const i=t.RV6();t.j41(0,"img",55),t.bIt("click",function(){t.eBV(i);const e=t.XpG().$implicit,o=t.XpG(3);return t.Njj(o.openFile(e))}),t.k0s()}if(2&r){const i=t.XpG().$implicit,n=t.XpG(3);t.Y8G("src",n.sanitizeBase64URI(i.thumbnail),t.B4B)}}function J(r,s){if(1&r){const i=t.RV6();t.j41(0,"img",56),t.bIt("click",function(){t.eBV(i);const e=t.XpG().$implicit,o=t.XpG(3);return t.Njj(o.openFile(e))}),t.k0s()}}function Q(r,s){if(1&r){const i=t.RV6();t.j41(0,"span",48)(1,"ion-checkbox",49),t.bIt("ionChange",function(e){const o=t.eBV(i).$implicit,a=t.XpG(3);return t.Njj(a.attachmentChecked(e,o))}),t.mxI("ngModelChange",function(e){const o=t.eBV(i).$implicit;return t.DH7(o.isSelected,e)||(o.isSelected=e),t.Njj(e)}),t.k0s(),t.j41(2,"ion-button",50)(3,"ion-thumbnail",51),t.DNE(4,W,1,1,"img",52)(5,J,1,0,"img",53),t.k0s()(),t.j41(6,"div",54),t.EFF(7),t.k0s()()}if(2&r){const i=s.$implicit,n=t.XpG(3);t.R7$(),t.R50("ngModel",i.isSelected),t.R7$(),t.Y8G("disabled",n.disableThumbnailClick),t.R7$(2),t.Y8G("ngIf","application/pdf"!==i.contentType),t.R7$(),t.Y8G("ngIf","application/pdf"==i.contentType),t.R7$(2),t.SpI(" ",i.fileName," ")}}function Z(r,s){if(1&r&&(t.j41(0,"div",44)(1,"h3",45),t.EFF(2,"Attachments"),t.k0s(),t.j41(3,"ion-segment",46),t.DNE(4,Q,8,5,"span",47),t.k0s()()),2&r){const i=t.XpG(2);t.R7$(4),t.Y8G("ngForOf",i.attachments)}}function K(r,s){if(1&r){const i=t.RV6();t.j41(0,"div",57)(1,"ion-button",58),t.bIt("click",function(){t.eBV(i);const e=t.XpG(2);return t.Njj(e.goToAttachment())}),t.nrm(2,"ion-icon",59),t.EFF(3," View/add files "),t.k0s()()}}function q(r,s){if(1&r){const i=t.RV6();t.j41(0,"ion-button",60),t.bIt("click",function(){t.eBV(i);const e=t.XpG(2);return t.Njj(e.warn())}),t.nrm(1,"ion-icon",61),t.EFF(2," Start Consultation "),t.k0s()}}function tt(r,s){if(1&r){const i=t.RV6();t.j41(0,"ion-button",62),t.bIt("click",function(){t.eBV(i);const e=t.XpG(2);return t.Njj(e.confirmAlert("cancel"))}),t.nrm(1,"ion-icon",63),t.EFF(2," Cancel "),t.k0s()}}function nt(r,s){if(1&r){const i=t.RV6();t.j41(0,"ion-button",62),t.bIt("click",function(){t.eBV(i);const e=t.XpG(2);return t.Njj(e.confirmAlert("remove"))}),t.nrm(1,"ion-icon",64),t.EFF(2," Remove "),t.k0s()}}function et(r,s){if(1&r){const i=t.RV6();t.j41(0,"ion-button",65),t.bIt("click",function(){t.eBV(i);const e=t.XpG(2);return t.Njj(e.goToVisit())}),t.nrm(1,"ion-icon",66),t.EFF(2," Show Visit Record "),t.k0s()}}function it(r,s){if(1&r){const i=t.RV6();t.j41(0,"ion-button",62),t.bIt("click",function(){t.eBV(i);const e=t.XpG(2);return t.Njj(e.appointmentRetry())}),t.nrm(1,"ion-icon",67),t.EFF(2," Retry "),t.k0s()}}function ot(r,s){if(1&r){const i=t.RV6();t.j41(0,"ion-button",68),t.bIt("click",function(){t.eBV(i);const e=t.XpG(2);return t.Njj(e.rescheduleAppointment())}),t.nrm(1,"ion-icon",69),t.EFF(2," Reschedule "),t.k0s()}}function at(r,s){if(1&r){const i=t.RV6();t.j41(0,"ion-button",70),t.bIt("click",function(){t.eBV(i);const e=t.XpG(2);return t.Njj(e.makePayment())}),t.nrm(1,"ion-icon",71),t.EFF(2," Make Payment "),t.k0s()}}function rt(r,s){if(1&r&&(t.j41(0,"div",3)(1,"header",4)(2,"h1"),t.EFF(3,"Appointment Details"),t.k0s(),t.j41(4,"p",5),t.EFF(5,"View and manage your appointment"),t.k0s()(),t.j41(6,"div",6)(7,"div",7),t.DNE(8,Y,5,1,"div",8),t.j41(9,"div",9),t.EFF(10),t.k0s()(),t.j41(11,"div",10)(12,"div",11),t.nrm(13,"ion-icon",12),t.j41(14,"div",13),t.EFF(15),t.k0s()(),t.j41(16,"div",14),t.nrm(17,"ion-icon",15),t.j41(18,"div",13)(19,"div",16),t.EFF(20),t.nI1(21,"date"),t.k0s(),t.j41(22,"div",17),t.EFF(23),t.k0s()()(),t.j41(24,"div",18),t.nrm(25,"ion-icon",19),t.j41(26,"div",13)(27,"div",20),t.EFF(28),t.k0s(),t.j41(29,"div",21),t.EFF(30),t.k0s()()(),t.DNE(31,$,4,0,"div",22)(32,X,4,0,"div",22),t.k0s(),t.DNE(33,z,9,1,"div",23)(34,Z,5,1,"div",24)(35,K,4,0,"div",25),t.j41(36,"div",26),t.DNE(37,q,3,0,"ion-button",27)(38,tt,3,0,"ion-button",28)(39,nt,3,0,"ion-button",28)(40,et,3,0,"ion-button",29)(41,it,3,0,"ion-button",28)(42,ot,3,0,"ion-button",30)(43,at,3,0,"ion-button",31),t.k0s()()()),2&r){const i=t.XpG();t.R7$(8),t.Y8G("ngIf",i.currentAppointment.bookingId),t.R7$(),t.AVh("status-scheduled","SCHEDULED"===i.currentAppointment.status),t.R7$(),t.SpI(" ",i.getStatus(i.currentAppointment.status)," "),t.R7$(5),t.JRh(i.currentAppointment.patient.name),t.R7$(5),t.Lme(" ",t.i5U(21,22,i.currentAppointment.appointmentDate,"MMM d, yyyy")," at ",i.timeFormatTo12hour(i.currentAppointment.appointmentTime)," "),t.R7$(3),t.SpI(" ",i.currentAppointment.videoConsultation?"Video Consultation":"Hospital Visit"," "),t.R7$(5),t.JRh(i.formatDoctorName(i.currentAppointment.doctorName)),t.R7$(2),t.JRh(i.currentAppointment.specialityName),t.R7$(),t.Y8G("ngIf",i.currentAppointment.videoConsultation),t.R7$(),t.Y8G("ngIf",!i.currentAppointment.videoConsultation),t.R7$(),t.Y8G("ngIf",(null==i.currentAppointment||null==i.currentAppointment.consultationCharge?null:i.currentAppointment.consultationCharge.price)&&i.currentAppointment.receiptId),t.R7$(),t.Y8G("ngIf",0!==i.attachments.length),t.R7$(),t.Y8G("ngIf","SCHEDULED"===i.currentAppointment.status||"STARTED"===i.currentAppointment.status||"RE_SCHEDULED"===i.currentAppointment.status||"AWAITING_CONFIRMATION_FROM_HOSPITAL"===i.currentAppointment.status),t.R7$(2),t.Y8G("ngIf",i.currentAppointment.videoConsultation&&("STARTED"===i.currentAppointment.status||"SCHEDULED"===i.currentAppointment.status||"RE_SCHEDULED"===i.currentAppointment.status)),t.R7$(),t.Y8G("ngIf","SCHEDULED"===i.currentAppointment.status||"RE_SCHEDULED"===i.currentAppointment.status),t.R7$(),t.Y8G("ngIf","PAYMENT_FAILED"===i.currentAppointment.status||"DRAFT"===i.currentAppointment.status||"CANCELLED"===i.currentAppointment.status),t.R7$(),t.Y8G("ngIf","CLOSED"===i.currentAppointment.status),t.R7$(),t.Y8G("ngIf","AWAITING_CONFIRMATION_FROM_HOSPITAL"===i.currentAppointment.status),t.R7$(),t.Y8G("ngIf",!i.isPastAppointment&&("SCHEDULED"===i.currentAppointment.status||"RE_SCHEDULED"===i.currentAppointment.status||"AWAITING_CONFIRMATION_FROM_HOSPITAL"===i.currentAppointment.status)),t.R7$(),t.Y8G("ngIf",!i.isPastAppointment&&("PAYMENT_FAILED"===i.currentAppointment.status||"PAYMENT_PENDING"===i.currentAppointment.status))}}function ct(r,s){if(1&r){const i=t.RV6();t.j41(0,"ion-footer")(1,"ion-toolbar")(2,"ion-grid")(3,"ion-row")(4,"ion-col")(5,"ion-text"),t.EFF(6),t.k0s()(),t.j41(7,"ion-col",72)(8,"ion-button",73),t.bIt("click",function(){t.eBV(i);const e=t.XpG();return t.Njj(e.removeAttachment())}),t.EFF(9," REMOVE "),t.k0s()(),t.j41(10,"ion-col",72)(11,"ion-button",74),t.bIt("click",function(){t.eBV(i);const e=t.XpG();return t.Njj(e.unmarkAttachments())}),t.EFF(12," CANCEL "),t.k0s()()()()()()}if(2&r){const i=t.XpG();t.R7$(6),t.SpI("",i.selectedAttachments.length," items selected")}}let st=(()=>{var r;class s{constructor(n,e,o,a,c,g,C,pt,lt,mt,dt,gt){var _;this.router=n,this.utilityService=e,this.appointmentPaymentService=o,this.dialog=a,this.httpService=c,this.dateService=g,this.alertController=C,this.platform=pt,this.sanitizer=lt,this.navService=mt,this.appointmentService=dt,this.pageNavService=gt,this.isIOSPlatform=!1,this.isPlatformBrowser=!1,this.isAndroidPlatform=!1,this.isVideoConsultation=!1,this.isPending=!1,this.isPaymentSuccess=!1,this.isPaymentFails=!1,this.isAwaiting=!1,this.isPastAppointment=!1,this.isDraft=!1,this.disableVideoConsultation=!1,this.isCancelled=!1,this.isPaymentPending=!1,this.attachments=[],this.attachmentMarked=!0,this.selectedAttachments=[],this.hideCheckBox=!0,this.disableThumbnailClick=!1,this.navService.pageChange("Appointments"),this.refresh=!1,this.appointment=null===(_=this.router.getCurrentNavigation())||void 0===_||null===(_=_.extras.state)||void 0===_?void 0:_.appointmentDetails}formatDoctorName(n){return n?`Dr. ${n.replace(/^(dr\.?\s*)/i,"").trim()}`:""}openWithSystemBrowser(){var n=this;return(0,m.A)(function*(){const o="https://meet.jit.si/"+n.currentAppointment.bookingId;yield w.P.open({url:o,windowName:"_system"})})()}confirmAlert(n){var e=this;return(0,m.A)(function*(){yield(yield e.alertController.create({header:"remove"===n||"cancel"===n?e.utilityService.toTitleCase(n)+" Appointment":"Call Hospital Assistant",cssClass:"success-alert",message:"remove"===n||"cancel"===n?"Confirm if you want to "+n+" the appointment.":"Confirm if you want to call "+n+" for assistance.",buttons:[{text:"Close",role:"cancel",cssClass:"alert-grey-text",handler:a=>{}},{text:"Confirm",cssClass:"alert-primary-dark-text",handler:()=>{"remove"===n?e.deleteAppointment():"cancel"===n?e.cancelAppointment():e.callHospital(n)}}]})).present()})()}callHospital(n){throw new Error("Method not implemented.")}getCurrentAppointment(){this.appointment&&this.appointment._id&&this.httpService.get("/appointment/?_id="+this.appointment._id).then(e=>{if(e){if(this.currentAppointment=e[0],this.pendingDate=this.dateService.getDateDifferenceInDays(this.currentAppointment.appointmentDate),0===this.pendingDate){const c=(new Date).getHours()+":"+(new Date).getMinutes();this.pendingDate=this.currentAppointment.appointmentTime===c?"Now":"Today"}else 1===this.pendingDate?this.pendingDate="Tomorrow":this.pendingDate<0?this.pendingDate="Past":this.isPending=!0;this.currentAppointment.appointmentDate=this.currentAppointment.appointmentDate.slice(0,10),this.utilityService.toISODateTime(new Date).slice(0,10)>this.currentAppointment.appointmentDate&&(this.isPastAppointment=!0),this.currentAppointment.videoConsultation&&("SCHEDULED"===this.currentAppointment.status||"RE_SCHEDULED"===this.currentAppointment.status)&&(this.isVideoConsultation=!0)}this.httpService.get("/attachment/contextAttachment?hospitalCode="+this.currentAppointment.hospital.code+"&contextId="+this.currentAppointment.visitId+"&contextType=VISIT").then(a=>{this.attachments=a.data.attachments,this.attachments.reverse(),this.t1=setTimeout(()=>{this.getCurrentAppointment()},1e4)}).catch(a=>{})})}timeFormatTo12hour(n){return this.dateService.to12HourFormat(n)}timeInterval(){return this.interval=setInterval(()=>{const n=this.utilityService.toISODateTime(new Date).slice(0,10);if(this.currentAppointment.appointmentDate===n){const e=this.currentAppointment.appointmentTime.split(":");new Date(this.currentAppointment.appointmentDate).setHours(e[0],e[1],0,0);const a=new Date(this.currentAppointment.appointmentDate);a.setHours(e[0],e[1],0,0),a.setHours(a.getHours()+1);const c=new Date(this.currentAppointment.appointmentDate);c.setHours(e[0],e[1],0,0),c.setHours(c.getHours()-1),new Date>c&&new Date<a&&this.getCurrentAppointment()}},2e3),this.interval}ionViewDidLeave(){clearTimeout(this.t1),clearInterval(this.interval)}ionViewWillLeave(){this.dialog.closeAll()}ionViewDidLoad(){setTimeout(()=>{},2e4)}ionViewWillEnter(){this.getCurrentAppointment(),this.pageNavService.setupBackButton("/appointment-details",()=>{this.router.navigate(["/home/appointment-list"])}),this.pageNavService.setupBackButton("/home/appointment-details",()=>{this.router.navigate(["/home/appointment-list"])})}goToAppointment(){this.router.navigate(["/home/appointment-booking"],{state:{draftAppointment:this.currentAppointment}})}appointmentRetry(){var n=this;return(0,m.A)(function*(){const e="/appointment/"+n.appointment._id+"/confirm";yield n.httpService.putInBackground(e,n.currentAppointment,!0).then(o=>{o&&(n.currentAppointment=null,n.currentAppointment=o,n.isAwaiting=!1,n.ionViewWillEnter())}).catch(o=>{n.utilityService.presentAlert("Error!",o.message)})})()}goToMedicalRecord(){var n=this;return(0,m.A)(function*(){n.router.navigate(["/home/medical-record"],{state:{appointment:n.appointment}})})()}warn(){var n=this;return(0,m.A)(function*(){const e="Dr. "+n.currentAppointment.doctorName.replace(/Dr.|Dr /g,"").trim();return new Promise(function(){var o=(0,m.A)(function*(a){yield(yield n.alertController.create({header:"Consultation not started",message:e+" has not entered the room ",buttons:[{text:"Cancel",cssClass:"alert-grey-text",role:"cancel",handler:()=>a(!1)},{text:"Join",cssClass:"alert-primary-dark-text",handler:()=>(n.openWithSystemBrowser(),a(!0))}]})).present()});return function(a){return o.apply(this,arguments)}}())})()}toStartConsultation(){var n=this;return(0,m.A)(function*(){if("STARTED"===n.currentAppointment.status)n.joinMeeting();else if(!(yield n.warn()))return})()}joinMeeting(){jitsiplugin.loadURL("https://meet.jit.si/"+this.currentAppointment.bookingId,!1,o=>{"CONFERENCE_WILL_LEAVE"===o&&jitsiplugin.destroy(a=>{this.router.navigate(["/home/appointment-list"])},function(a){})},function(o){})}cancelAppointment(){var n=this;return(0,m.A)(function*(){const e="/appointment/"+n.appointment._id+"/cancel";yield n.httpService.putInBackground(e,n.currentAppointment,!0).then(o=>{o?(n.utilityService.successAlert("Appointment Cancelled","The scheduled appointment on "+n.currentAppointment.appointmentDate+" @ "+n.dateService.to12HourFormat(n.currentAppointment.appointmentTime)+" has been cancelled."),n.router.navigate(["/home/appointment-list"])):n.utilityService.presentAlert("Cancellation Failed","Failed to cancel appointment. Please try again.")}).catch(o=>{n.utilityService.presentAlert("Cancellation Failed",o.message)})})()}goToVisit(){this.router.navigate(["/home/emr"],{state:{hospitalCode:this.currentAppointment.hospital.code,visitId:this.currentAppointment.visitId,patientId:this.currentAppointment.patient.id,visitInformation:{familyMemberId:this.currentAppointment.familyMemberId,familyMemberGender:this.currentAppointment.patient.gender},fromAppointmentDetails:!0}})}deleteAppointment(){var n=this;return(0,m.A)(function*(){const e="/appointment/"+n.appointment._id+"/delete";yield n.httpService.putInBackground(e,{},!0).then(o=>{o&&n.router.navigate(["/home/appointment-list"])}).catch(o=>{n.utilityService.presentAlert("Error!",o.message)}),n.appointmentService.refreshAppointments()})()}rescheduleAppointment(){this.dialog.open(F,{data:{appointmentDetails:this.currentAppointment}}).afterClosed().subscribe(e=>{})}editAppointment(){this.dialog.open(j.fb,{data:{appointmentDetails:this.currentAppointment}}).afterClosed().subscribe(e=>{})}getStatus(n){let e;switch(n){case"DRAFT":e="DRAFT";break;case"PAYMENT_PENDING":e="PAYMENT PENDING";break;case"AWAITING_CONFIRMATION_FROM_HOSPITAL":e="AWAITING";break;case"SCHEDULED":e="SCHEDULED";break;case"PAYMENT_FAILED":e="PAYMENT FAILED";break;case"CANCELLED":e="CANCELLED";break;case"RE_SCHEDULED":e="RESCHEDULED";break;case"CLOSED":e="CLOSED";break;case"STARTED":e="STARTED"}return e}makePayment(){"DRAFT"===this.currentAppointment.status?null===this.currentAppointment.appointmentTime?this.utilityService.presentAlert("Invalid Input","Book a valid time slot."):this.appointmentPaymentService.makePayment(this.currentAppointment,o=>{this.router.navigate(["/home/appointment-list"])},o=>{}):this.appointmentPaymentService.makePayment(this.currentAppointment,c=>{this.router.navigate(["/home/appointment-list"])},c=>{})}goToAttachment(){this.router.navigate(["/home/attachment-list"],{state:{familyMember:{_id:this.currentAppointment.familyMemberId,fullName:this.currentAppointment.patient.name},appointment:this.currentAppointment}})}getAttachments(){this.httpService.get("/attachment/contextAttachment?hospitalCode="+this.currentAppointment.hospital.code+"&contextId="+this.currentAppointment.visitId+"&contextType=VISIT").then(e=>{this.attachments=e.data.attachments,this.attachments.reverse()}).catch(e=>{})}sanitizeBase64URI(n){return this.sanitizer.bypassSecurityTrustResourceUrl(n)}pressed(n){this.attachmentMarked=!1,this.markAttachment(n)}attachmentChecked(n,e){n.detail.checked?this.selectedAttachments.push(e):this.selectedAttachments=this.selectedAttachments.filter(o=>o.id!==e.id)}markAttachment(n){!1===this.attachmentMarked&&(n.isSelected=!n.isSelected,!0===n.isSelected?this.selectedAttachments.push(n):!1===n.isSelected&&(this.selectedAttachments.splice(this.selectedAttachments.findIndex(e=>e===n),1),0===this.selectedAttachments.length&&(this.attachmentMarked=!0)))}downloadPDF(n){const e=`data:application/pdf;base64,${n}`,o=document.createElement("a");o.href=e,o.download="attachment.pdf",o.click()}saveAndOpenPdf(n,e){this.disableThumbnailClick=!1;const o=n,a=document.createElement("a"),c=e+".pdf";a.href=o,a.download=c,a.target="_blank",document.body.appendChild(a),a.click()}openFile(n){this.disableThumbnailClick=!0,this.httpService.getInBackground("/attachment/contextAttachment/open/?hospitalCode="+this.currentAppointment.hospital.code+"&attachmentId="+n.id,!0).then(o=>{this.disableThumbnailClick=!1;const c=o.data.attachment.base64DataURI;if("image/png"!==o.data.attachment.contentType)return void this.saveAndOpenPdf(c,o.data.attachment.fileName);let g=document.createElement("a");g.href=c,g.download="Image.png",g.click()}),this.disableThumbnailClick=!1}unmarkAttachments(){this.attachmentMarked=!0,this.selectedAttachments.length=0,this.attachments=this.deSelectAllAttachments(this.attachments)}deSelectAllAttachments(n){return n.map(e=>({...e,isSelected:!1}))}removeAttachment(){var n=this;return(0,m.A)(function*(){n.dialog.open(N.D,{panelClass:["custom-dialog-container"],data:{attachments:n.selectedAttachments,hospitalCode:n.currentAppointment.hospital.code,callBack:"appointment-details"}}).afterClosed().subscribe(o=>{n.selectedAttachments=[],n.attachmentMarked=!0,n.getAttachments()})})()}viewReceipt(){this.router.navigate(["/home/appointment-confirmed"],{state:{appointment:this.currentAppointment,navigationFrom:"Appointment-details"}})}ngOnInit(){this.platform.ready().then(()=>{this.platform.is("android")?this.isAndroidPlatform=!0:this.platform.is("ios")?this.isIOSPlatform=!0:this.isPlatformBrowser=!0})}getVisibleButtonCount(){let n=0;return this.currentAppointment&&(("STARTED"===this.currentAppointment.status||"SCHEDULED"===this.currentAppointment.status||"RE_SCHEDULED"===this.currentAppointment.status)&&n++,("SCHEDULED"===this.currentAppointment.status||"RE_SCHEDULED"===this.currentAppointment.status)&&n++,n++),n}getColSize(){return 2===this.getVisibleButtonCount()?"4":"12"}getColOffset(){return 2===this.getVisibleButtonCount()?"2":"0"}ngOnDestroy(){this.pageNavService.cleanupBackButton("/appointment-details"),this.pageNavService.cleanupBackButton("/home/appointment-details")}}return(r=s).\u0275fac=function(n){return new(n||r)(t.rXU(D.Ix),t.rXU(M.Q),t.rXU(V.j),t.rXU(u.bZ),t.rXU(O.k),t.rXU(y.k),t.rXU(l.hG),t.rXU(G.OD),t.rXU(B.up),t.rXU(L.o),t.rXU(U.h),t.rXU(H.V))},r.\u0275cmp=t.VBU({type:r,selectors:[["app-appointment-details"]],standalone:!0,features:[t.aNF],decls:3,vars:2,consts:[[1,"appointment-details-page"],["class","container",4,"ngIf"],[4,"ngIf"],[1,"container"],[1,"header"],[1,"subtitle"],[1,"appointment-card"],[1,"status-section"],["class","appointment-id",4,"ngIf"],[1,"status-badge"],[1,"appointment-details"],[1,"detail-item","detail-item-patient"],["name","person-outline",1,"detail-icon"],[1,"detail-content"],[1,"detail-item","detail-item-appointment"],["name","calendar-outline",1,"detail-icon"],[1,"appointment-time"],[1,"appointment-type"],[1,"detail-item","detail-item-doctor"],["name","medical-outline",1,"detail-icon"],[1,"doctor-name"],[1,"specialty"],["class","detail-item",4,"ngIf"],["class","payment-section",4,"ngIf"],["class","attachments-section",4,"ngIf"],["class","add-files-section",4,"ngIf"],[1,"action-buttons"],["expand","block",3,"click",4,"ngIf"],["expand","block","color","danger",3,"click",4,"ngIf"],["expand","block","color","dark",3,"click",4,"ngIf"],["expand","block","color","warning",3,"click",4,"ngIf"],["expand","block","color","success",3,"click",4,"ngIf"],[1,"appointment-id"],[1,"id-label"],[1,"id-value"],[1,"detail-item"],["name","videocam-outline",1,"detail-icon"],["name","medkit-outline",1,"detail-icon"],[1,"payment-section"],[1,"payment-info"],[1,"payment-label"],[1,"payment-amount"],["fill","clear",1,"receipt-button",3,"click"],["slot","start","name","receipt-outline"],[1,"attachments-section"],[1,"section-title"],["scrollable","true"],["style","width: 87px","padding-horizontal","",4,"ngFor","ngForOf"],["padding-horizontal","",2,"width","87px"],["color","secondary","id","selection-badge","mode","ios","name","attachmentCheckBox",3,"ionChange","ngModelChange","ngModel"],["fill","clear",1,"ion-no-padding","attachment-button",3,"disabled"],[2,"width","100%","height","67px"],[3,"src","click",4,"ngIf"],["src","assets/icon/pdf-icon.svg",3,"click",4,"ngIf"],[1,"bodyText",2,"height","16px","overflow","hidden"],[3,"click","src"],["src","assets/icon/pdf-icon.svg",3,"click"],[1,"add-files-section"],["fill","clear",1,"add-files-button",3,"click"],["slot","start","name","document-outline"],["expand","block",3,"click"],["slot","start","name","videocam-outline"],["expand","block","color","danger",3,"click"],["slot","start","name","close-outline"],["slot","start","name","trash-outline"],["expand","block","color","dark",3,"click"],["slot","start","name","list-outline"],["slot","start","name","refresh-outline"],["expand","block","color","warning",3,"click"],["slot","start","name","calendar-outline"],["expand","block","color","success",3,"click"],["slot","start","name","card-outline"],[1,"ion-text-center"],["fill","clear","color","danger",3,"click"],["fill","clear",3,"click"]],template:function(n,e){1&n&&(t.j41(0,"ion-content",0),t.DNE(1,rt,44,25,"div",1),t.k0s(),t.DNE(2,ct,13,1,"ion-footer",2)),2&n&&(t.R7$(),t.Y8G("ngIf",e.currentAppointment),t.R7$(),t.Y8G("ngIf",e.selectedAttachments.length>0))},dependencies:[l.bv,l.Jm,l.eY,l.hU,l.W9,l.M0,l.lO,l.iq,l.ln,l.Gp,l.IO,l.Zx,l.ai,l.hB,l.Je,h.bT,h.pM,h.vh,d.YN,d.BC,d.vS],styles:[".appointment-details-page[_ngcontent-%COMP%]{--padding-top: var(--mc-spacing-2xl);--padding-bottom: var(--mc-spacing-2xl)}.appointment-details-page[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:0 var(--mc-spacing-xl);padding-bottom:100px}.appointment-details-page[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{margin-bottom:var(--mc-spacing-2xl)}.appointment-details-page[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:var(--mc-font-heading-lg);font-weight:600;color:var(--mc-text-primary);margin:0 0 var(--mc-spacing-xs) 0}.appointment-details-page[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:var(--mc-font-body-md);color:var(--mc-text-secondary);margin:0;font-weight:400}.appointment-details-page[_ngcontent-%COMP%]   .appointment-card[_ngcontent-%COMP%]{background:var(--mc-bg-primary);border-radius:var(--mc-radius-lg);padding:var(--mc-spacing-4) var(--mc-spacing-5);box-shadow:var(--mc-shadow-sm);animation:_ngcontent-%COMP%_fadeInUp .4s ease-out}.appointment-details-page[_ngcontent-%COMP%]   .status-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-bottom:var(--mc-spacing-4);margin-bottom:var(--mc-spacing-4);border-bottom:1px solid var(--mc-border-primary);flex-wrap:wrap;gap:var(--mc-spacing-3)}.appointment-details-page[_ngcontent-%COMP%]   .status-section[_ngcontent-%COMP%]   .appointment-id[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--mc-spacing-2)}.appointment-details-page[_ngcontent-%COMP%]   .status-section[_ngcontent-%COMP%]   .appointment-id[_ngcontent-%COMP%]   .id-label[_ngcontent-%COMP%]{color:var(--mc-text-secondary);font-size:var(--mc-font-body-md)}.appointment-details-page[_ngcontent-%COMP%]   .status-section[_ngcontent-%COMP%]   .appointment-id[_ngcontent-%COMP%]   .id-value[_ngcontent-%COMP%]{color:var(--mc-text-primary);font-size:var(--mc-font-body-md);font-weight:600}.appointment-details-page[_ngcontent-%COMP%]   .status-section[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{padding:var(--mc-spacing-1) var(--mc-spacing-3);border-radius:var(--mc-radius-full);font-size:var(--mc-font-body-sm);font-weight:600;background:var(--mc-color-gray-100);color:var(--mc-color-gray-700)}.appointment-details-page[_ngcontent-%COMP%]   .status-section[_ngcontent-%COMP%]   .status-badge.status-scheduled[_ngcontent-%COMP%]{background:var(--mc-color-primary-100);color:var(--mc-color-primary-700)}.appointment-details-page[_ngcontent-%COMP%]   .appointment-details[_ngcontent-%COMP%]{margin-bottom:var(--mc-spacing-4)}.appointment-details-page[_ngcontent-%COMP%]   .appointment-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]:nth-child(1){animation-delay:.05s}.appointment-details-page[_ngcontent-%COMP%]   .appointment-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]:nth-child(2){animation-delay:.1s}.appointment-details-page[_ngcontent-%COMP%]   .appointment-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]:nth-child(3){animation-delay:.15s}.appointment-details-page[_ngcontent-%COMP%]   .appointment-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]:nth-child(4){animation-delay:.2s}.appointment-details-page[_ngcontent-%COMP%]   .appointment-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]:nth-child(5){animation-delay:.25s}.appointment-details-page[_ngcontent-%COMP%]   .appointment-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]:nth-child(6){animation-delay:.3s}.appointment-details-page[_ngcontent-%COMP%]   .appointment-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]:nth-child(7){animation-delay:.35s}.appointment-details-page[_ngcontent-%COMP%]   .appointment-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]:nth-child(8){animation-delay:.4s}.appointment-details-page[_ngcontent-%COMP%]   .appointment-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]:nth-child(9){animation-delay:.45s}.appointment-details-page[_ngcontent-%COMP%]   .appointment-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]:nth-child(10){animation-delay:.5s}.appointment-details-page[_ngcontent-%COMP%]   .payment-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin:var(--mc-spacing-4) 0;padding:var(--mc-spacing-3);background:var(--mc-color-gray-50);border-radius:var(--mc-radius-md);gap:var(--mc-spacing-3);flex-wrap:wrap}.appointment-details-page[_ngcontent-%COMP%]   .payment-section[_ngcontent-%COMP%]   .payment-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--mc-spacing-2)}.appointment-details-page[_ngcontent-%COMP%]   .payment-section[_ngcontent-%COMP%]   .payment-info[_ngcontent-%COMP%]   .payment-label[_ngcontent-%COMP%]{color:var(--mc-text-secondary);font-size:var(--mc-font-body-sm);font-weight:500}.appointment-details-page[_ngcontent-%COMP%]   .payment-section[_ngcontent-%COMP%]   .payment-info[_ngcontent-%COMP%]   .payment-amount[_ngcontent-%COMP%]{color:var(--mc-text-primary);font-size:var(--mc-font-body-md);font-weight:600}.appointment-details-page[_ngcontent-%COMP%]   .payment-section[_ngcontent-%COMP%]   .receipt-button[_ngcontent-%COMP%]{--color: var(--mc-color-primary-500);font-weight:500}.appointment-details-page[_ngcontent-%COMP%]   .payment-section[_ngcontent-%COMP%]   .receipt-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--mc-color-primary-500)}.appointment-details-page[_ngcontent-%COMP%]   .attachments-section[_ngcontent-%COMP%]{margin:var(--mc-spacing-6) 0 var(--mc-spacing-4) 0;padding-top:var(--mc-spacing-4);border-top:1px solid var(--mc-border-primary)}.appointment-details-page[_ngcontent-%COMP%]   .attachments-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:var(--mc-font-heading-sm);font-weight:600;color:var(--mc-text-primary);margin:0 0 var(--mc-spacing-3) 0}.appointment-details-page[_ngcontent-%COMP%]   .attachments-section[_ngcontent-%COMP%]   ion-segment[_ngcontent-%COMP%]{--background: transparent;display:flex;overflow-x:auto;padding:var(--mc-spacing-2) 0}.appointment-details-page[_ngcontent-%COMP%]   .attachments-section[_ngcontent-%COMP%]   ion-segment[_ngcontent-%COMP%]::-webkit-scrollbar{height:4px}.appointment-details-page[_ngcontent-%COMP%]   .attachments-section[_ngcontent-%COMP%]   ion-segment[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--mc-color-gray-100)}.appointment-details-page[_ngcontent-%COMP%]   .attachments-section[_ngcontent-%COMP%]   ion-segment[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--mc-color-gray-300);border-radius:var(--mc-radius-sm)}.appointment-details-page[_ngcontent-%COMP%]   .attachments-section[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]{margin:0 auto;border-radius:var(--mc-radius-sm);overflow:hidden;cursor:pointer}.appointment-details-page[_ngcontent-%COMP%]   .attachments-section[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.appointment-details-page[_ngcontent-%COMP%]   .attachments-section[_ngcontent-%COMP%]   ion-checkbox[_ngcontent-%COMP%]{position:absolute;top:var(--mc-spacing-1);left:var(--mc-spacing-1);z-index:1;--size: 18px;--checkbox-background: var(--mc-bg-primary);--checkbox-background-checked: var(--mc-color-primary-500);--border-radius: var(--mc-radius-sm)}.appointment-details-page[_ngcontent-%COMP%]   .attachments-section[_ngcontent-%COMP%]   .attachment-button[_ngcontent-%COMP%]{width:100%;height:auto;margin:0;--padding-start: 0;--padding-end: 0;transition:opacity .2s}.appointment-details-page[_ngcontent-%COMP%]   .attachments-section[_ngcontent-%COMP%]   .attachment-button[_ngcontent-%COMP%]:hover:not(.button-disabled){opacity:.8}.appointment-details-page[_ngcontent-%COMP%]   .attachments-section[_ngcontent-%COMP%]   .bodyText[_ngcontent-%COMP%]{font-size:var(--mc-font-body-xs);line-height:1.3;text-align:center;color:var(--mc-text-secondary);margin-top:var(--mc-spacing-1);text-overflow:ellipsis;white-space:nowrap}.appointment-details-page[_ngcontent-%COMP%]   .add-files-section[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin:var(--mc-spacing-3) 0}.appointment-details-page[_ngcontent-%COMP%]   .add-files-section[_ngcontent-%COMP%]   .add-files-button[_ngcontent-%COMP%]{--color: var(--mc-color-primary-500);font-weight:500}.appointment-details-page[_ngcontent-%COMP%]   .add-files-section[_ngcontent-%COMP%]   .add-files-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--mc-color-primary-500)}.appointment-details-page[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{margin-top:var(--mc-spacing-6);padding-top:var(--mc-spacing-4);border-top:2px solid var(--mc-border-primary);display:flex;flex-direction:column;gap:var(--mc-spacing-3)}.appointment-details-page[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--border-radius: var(--mc-radius-md);--padding-top: var(--mc-spacing-3);--padding-bottom: var(--mc-spacing-3);--box-shadow: var(--mc-shadow-sm);font-weight:600;text-transform:capitalize}.appointment-details-page[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:not([color]){--background: linear-gradient(90deg, var(--mc-color-primary-500), var(--mc-color-primary-700));--color: var(--mc-text-inverse)}.appointment-details-page[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:not([color]):hover{--background: linear-gradient(90deg, var(--mc-color-primary-700), var(--mc-color-primary-800))}.appointment-details-page[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:not([color]):active{transform:scale(.98)}.appointment-details-page[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   ion-button[color=danger][_ngcontent-%COMP%]{--background: var(--mc-color-error-500);--color: var(--mc-text-inverse)}.appointment-details-page[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   ion-button[color=danger][_ngcontent-%COMP%]:hover{--background: var(--mc-color-error-600)}.appointment-details-page[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   ion-button[color=warning][_ngcontent-%COMP%]{--background: var(--mc-color-warning-500);--color: var(--mc-text-inverse)}.appointment-details-page[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   ion-button[color=warning][_ngcontent-%COMP%]:hover{--background: var(--mc-color-warning-600)}.appointment-details-page[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   ion-button[color=success][_ngcontent-%COMP%]{--background: var(--mc-color-success-500);--color: var(--mc-text-inverse)}.appointment-details-page[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   ion-button[color=success][_ngcontent-%COMP%]:hover{--background: var(--mc-color-success-600)}.appointment-details-page[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   ion-button[color=dark][_ngcontent-%COMP%]{--background: var(--mc-color-gray-700);--color: var(--mc-text-inverse)}.appointment-details-page[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   ion-button[color=dark][_ngcontent-%COMP%]:hover{--background: var(--mc-color-gray-800)}.appointment-details-page[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-right:var(--mc-spacing-1)}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background: var(--mc-bg-primary);--border-color: var(--mc-border-primary);--padding-top: var(--mc-spacing-2);--padding-bottom: var(--mc-spacing-2)}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{color:var(--mc-text-primary);font-weight:500}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin:0;font-weight:600}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-button[color=danger][_ngcontent-%COMP%]{--color: var(--mc-color-error-500)}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 600px){.appointment-details-page[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding:0 var(--mc-spacing-md);padding-bottom:120px}.appointment-details-page[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:var(--mc-font-heading-md)}.appointment-details-page[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:var(--mc-font-body-sm)}.appointment-details-page[_ngcontent-%COMP%]   .appointment-card[_ngcontent-%COMP%]{padding:var(--mc-spacing-3) var(--mc-spacing-4)}.appointment-details-page[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]{padding:var(--mc-spacing-2) 0}.appointment-details-page[_ngcontent-%COMP%]   .status-section[_ngcontent-%COMP%], .appointment-details-page[_ngcontent-%COMP%]   .payment-section[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.appointment-details-page[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{gap:var(--mc-spacing-2)}.appointment-details-page[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--padding-top: var(--mc-spacing-2);--padding-bottom: var(--mc-spacing-2)}}"]}),s})()}}]);