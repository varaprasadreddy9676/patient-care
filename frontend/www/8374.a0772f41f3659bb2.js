"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8374],{8374:(b,h,e)=>{e.r(h),e.d(h,{FamilyMemberAttachmentListPage:()=>O});var d=e(467),o=e(9893),f=e(177),t=e(4438),c=e(5351),_=e(9012),u=e(600),i=e(8023),a=e(9934),r=e(3629),P=e(8251),M=e(8135);function E(m,v){if(1&m){const l=t.RV6();t.j41(0,"ion-row",7),t.bIt("click",function(){const s=t.eBV(l).$implicit,p=t.XpG();return t.Njj(p.navigateToPage(s))}),t.j41(1,"ion-col",8),t.nrm(2,"ion-icon",9),t.k0s(),t.j41(3,"ion-col",10)(4,"ion-text",11),t.EFF(5),t.k0s()(),t.j41(6,"ion-col",12)(7,"ion-text",11),t.EFF(8),t.k0s()(),t.j41(9,"ion-col",13)(10,"ion-text",11),t.EFF(11),t.k0s()()()}if(2&m){const l=v.$implicit;t.R7$(5),t.SpI(" ",l.fullName,""),t.R7$(3),t.SpI(" ",l.dob,""),t.R7$(3),t.SpI(" ",l.gender,"")}}let O=(()=>{var m;class v{constructor(n,s,p,y,x,B,D,C,S){this.dialog=n,this.router=s,this.navCtrl=p,this.httpService=y,this.utilityService=x,this.platform=B,this.storageService=D,this.navService=C,this.pageNavService=S,this.familyMembers=[],this.medicalRecords=!1,this.user=this.storageService.get("user"),this.navService.pageChange("Attachments"),this.user&&this.user.phone&&(this.phone=this.user.phone);try{var g;this.medicalRecords=null===(g=this.router.getCurrentNavigation())||void 0===g||null===(g=g.extras.state)||void 0===g?void 0:g.medicalRecords}catch{this.medicalRecords=!1}}ionViewWillEnter(){this.navService.pageChange("Attachments"),this.familyMembers=[],this.getFamilyMembers(),this.pageNavService.setupBackButton([{route:"/family-member-list",handler:()=>this.router.navigate(["home"])},{route:"/home/family-member-list",handler:()=>this.router.navigate(["/home"])}])}navigateToPage(n){this.router.navigate(["/home/attachment-list"],{state:{familyMember:n}})}getFamilyMembers(){var n=this;return(0,d.A)(function*(){n.user=n.storageService.get("user");const s="/familyMember/?userId="+n.user.id;yield n.httpService.getInBackground(s,!0,!0).then(p=>{p&&(n.familyMembers=p)}).catch(p=>{n.utilityService.presentAlert("Error!",p.message)})})()}ngOnInit(){}ngOnDestroy(){this.pageNavService.cleanup()}}return(m=v).\u0275fac=function(n){return new(n||m)(t.rXU(c.bZ),t.rXU(_.Ix),t.rXU(u.q9),t.rXU(i.k),t.rXU(a.Q),t.rXU(u.OD),t.rXU(r.n),t.rXU(P.o),t.rXU(M.V))},m.\u0275cmp=t.VBU({type:m,selectors:[["app-family-member-attachment-list"]],standalone:!0,features:[t.aNF],decls:10,vars:1,consts:[[1,"ion-no-padding"],[1,"ion-no-padding",2,"margin-right","6%","margin-left","6%","margin-top","1%"],[1,"text"],[1,"header-text"],["class","ion-no-padding","style","\n  border-bottom: 1px solid #C4C4C4;\n  cursor: pointer;\n  padding-bottom: 6px;\n  margin-top: 1.5%;\n    ",3,"click",4,"ngFor","ngForOf"],[1,"ion-no-padding",2,"margin-top","3%"],["size","8"],[1,"ion-no-padding",2,"border-bottom","1px solid #C4C4C4","cursor","pointer","padding-bottom","6px","margin-top","1.5%",3,"click"],["size-lg","0.5","size-xs","1",1,"ion-no-padding"],["name","person-circle-outline",1,"member-icon"],["size-lg","5","size-xs","11",1,"ion-no-padding",2,"margin-top","1%","padding-left","5px"],[1,"body-text"],["size-lg","2.5","size-xs","4",1,"ion-no-padding",2,"margin-top","1%","padding-left","5px"],["size-lg","2","size-xs","4",1,"ion-no-padding",2,"margin-top","1%","padding-left","5px"]],template:function(n,s){1&n&&(t.j41(0,"ion-content",0)(1,"ion-grid",1)(2,"ion-row",2)(3,"ion-col")(4,"ion-text",3),t.EFF(5,"Select family member whose attachments you wish to see"),t.k0s()()(),t.DNE(6,E,12,3,"ion-row",4),t.k0s(),t.j41(7,"ion-grid",5)(8,"ion-row",0),t.nrm(9,"ion-col",6),t.k0s()()()),2&n&&(t.R7$(6),t.Y8G("ngForOf",s.familyMembers))},dependencies:[o.bv,o.hU,o.W9,o.lO,o.iq,o.ln,o.IO,f.pM],styles:["ion-list[_ngcontent-%COMP%]{width:100%;margin-left:8px}ion-card[_ngcontent-%COMP%]{cursor:pointer;padding:0 3px 3px;background-color:#fff}.button[_ngcontent-%COMP%]{padding-bottom:5%;--background: white;--color: teal}ion-fab[_ngcontent-%COMP%]{transform:translateY(-85px);z-index:1001}@supports (padding-bottom: env(safe-area-inset-bottom)){ion-fab[_ngcontent-%COMP%]{transform:translateY(calc(-85px - env(safe-area-inset-bottom)))}}.row-spacing[_ngcontent-%COMP%]{margin-top:15px}ion-avatar[_ngcontent-%COMP%]{width:80px;height:80px;padding-left:0}.text[_ngcontent-%COMP%]{padding-top:5%;padding-bottom:5%}.floating-button[_ngcontent-%COMP%]{width:100%;position:fixed;bottom:1.5%;text-align:center}.noPadding[_ngcontent-%COMP%]{--padding-start: 0;--padding-end: 0;--padding-top: 0;--padding-bottom: 0;padding:0}.ios[_ngcontent-%COMP%]   .noPadding[_ngcontent-%COMP%]{--padding-start: 0;--padding-end: 0;--padding-top: 0;--padding-bottom: 0;padding:0;margin-bottom:-25px}.member-icon[_ngcontent-%COMP%]{font-size:var(--font-heading-xl);margin-right:10px;padding-top:8px}"]}),v})()},8135:(b,h,e)=>{e.d(h,{V:()=>t});var d=e(4438),o=e(600),f=e(9012);let t=(()=>{var c;class _{constructor(i,a){this.platform=i,this.router=a,this.activeSubscriptions=new Map}setupBackButton(i,a){Array.isArray(i)?i.forEach(r=>{this.setupSingleBackButton(r.route,r.handler)}):"string"==typeof i&&a&&this.setupSingleBackButton(i,a)}setupSingleBackButton(i,a){this.cleanupBackButton(i);const r=this.platform.backButton.subscribeWithPriority(10,()=>{this.router.url===i&&a()});this.activeSubscriptions.set(i,r)}cleanupBackButton(i){const a=this.activeSubscriptions.get(i);a&&(a.unsubscribe(),this.activeSubscriptions.delete(i))}cleanupAllSubscriptions(){this.activeSubscriptions.forEach((i,a)=>{i.unsubscribe()}),this.activeSubscriptions.clear()}cleanup(){this.cleanupAllSubscriptions()}navigateBack(i="/home"){window.history.length>1?window.history.back():this.router.navigate([i])}smartNavigateBack(i){const r={"/appointment-list":"/home","/appointment-booking":"/appointment-list","/select-patient":"/appointment-booking","/confirm-appointment":"/appointment-booking","/appointment-confirmed":"/appointment-list","/appointment-details":"/appointment-list","/consent-form":"/appointment-booking","/prescription":"/home","/bills":"/home","/bill-details":"/bills","/family-member-list":"/home","/home/profiles":"/home","/family-member-form":"/home/profiles","/profile-edition":"/home","/attachment-list":"/home","/medical-record/attachment-list":"/home","/report-attachment-list":"/home","/medical-record/report-attachment-list":"/home","/family-member-attachment-list":"/home","/patient-medical-record":"/home","/patient-list":"/home","/emr-visits":"/patient-list","/emr":"/home","/medical-attachments":"/patient-medical-record","/facility-information":"/facility-information-template","/facility-information-template":"/home","/edit-facility-information-page":"/facility-information","/service-requests":"/home","/new-service-request":"/service-requests","/reminder":"/home"}[i];r?this.router.navigate([r]):this.navigateBack()}}return(c=_).\u0275fac=function(i){return new(i||c)(d.KVO(o.OD),d.KVO(f.Ix))},c.\u0275prov=d.jDH({token:c,factory:c.\u0275fac,providedIn:"root"}),_})()}}]);