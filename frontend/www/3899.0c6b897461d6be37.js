"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3899],{3899:(k,_,o)=>{o.r(_),o.d(_,{PICK_FORMATS:()=>C,PickDateAdapter:()=>E,SignUpPage:()=>M});var u,p=o(467),b=o(1635),f=o(3163),P=o(5312),m=o(8011),t=o(4438),s=o(9893),a=o(5351),c=o(3),g=o(177),d=o(9417),O=o(600),x=o(8023),S=o(9012),D=o(9934),U=o(7031),B=o(3629),I=o(8135);function A(l,e){if(1&l&&(t.j41(0,"option",31),t.EFF(1),t.k0s()),2&l){const n=e.$implicit;t.Y8G("ngValue",n),t.R7$(),t.SpI(" ",n.name," ")}}const C={parse:{dateInput:{month:"numeric",year:"numeric",day:"numeric"}},display:{dateInput:"input",monthYearLabel:{year:"numeric",month:"numeric"},dateA11yLabel:{year:"numeric",month:"numeric",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"numeric"}}};let E=(()=>{var l;class e extends c.xW{format(r,i){return"input"===i?(0,g.Yq)(r,"dd/MM/yyyy",this.locale):r.toDateString()}}return(l=e).\u0275fac=(()=>{let n;return function(i){return(n||(n=t.xGo(l)))(i||l)}})(),l.\u0275prov=t.jDH({token:l,factory:l.\u0275fac}),e})(),M=((u=class{constructor(e,n,r,i,v,y,R,F,N,T){this.platform=e,this.httpService=n,this.navCtrl=r,this.dialog=i,this.router=v,this.utilityService=y,this.dateService=R,this.storeService=F,this.menuCtrl=N,this.pageNavService=T,this.states=[],this.cities=[],this.disableSignUp=!1,this.maxDate=new Date,this.genders=this.utilityService.getGenders(),this.gender=null;try{var h;this.fetchedPhoneNumber=null===(h=this.router.getCurrentNavigation())||void 0===h||null===(h=h.extras.state)||void 0===h?void 0:h.phone,this.phoneNumber=this.fetchedPhoneNumber}catch{this.ngOnInit()}}ionViewWillEnter(){this.menuCtrl.enable(!1),this.pageNavService.setupBackButton("/sign-up",()=>{this.datePickerBox&&this.datePickerBox.close(),this.router.navigate(["sign-in"])})}pickerOpen(e){this.datePickerBox=e,this.datePickerBox.open()}validateUser(){const e=/^([A-Za-z ]{1,60})?$/,n=/^[0-9]+$/,r=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;try{if(!this.name)return void this.utilityService.presentAlert("Name is mandatory","Enter your name.");if(!e.test(this.name))return void this.utilityService.presentAlert("Invalid Name","Name can contain alphabets only.");if(!this.gender)return void this.utilityService.presentAlert("Gender is mandatory","Please select the gender.");if(!this.dateOfBirth)return void this.utilityService.presentAlert("DOB is mandatory","Please enter your date of birth.");if(!r.test(this.email.toString().trim()))return void this.utilityService.presentAlert("Invalid email Id","Please enter your valid email");if(!this.phoneNumber)return void this.utilityService.presentAlert("Invalid phone number","Please enter your phone number.");if(10!==this.phoneNumber.toString().length||!n.test(this.phoneNumber.toString()))return void this.utilityService.presentAlert("Invalid phone number","Enter a valid phone number.");this.registerPatient()}catch{this.utilityService.presentAlert("Invalid Input","Enter valid inputs.")}}registerPatient(){var e=this;return(0,p.A)(function*(){e.disableSignUp=!0;const n=e.getUser();yield e.httpService.post("/signup",n).then(i=>{null!=i.data.profileId?e.openDialog(i.data.profileId):i&&e.dialog.open(f.SignUpConfirmationPage,{data:{phoneNumber:e.phoneNumber}}).afterClosed().subscribe(y=>{})}).catch(i=>{e.disableSignUp=!1,i.status&&11e3===i.error.code?e.dialog.open(f.SignUpConfirmationPage,{data:{phoneNumber:e.phoneNumber}}).afterClosed().subscribe(y=>{}):e.utilityService.presentAlert("Error!",i.message)})})()}gotoSignIn(){var e=this;return(0,p.A)(function*(){yield e.router.navigate(["sign-in"])})()}openDialog(e){const n=new a.ru;n.disableClose=!0,n.autoFocus=!0,n.hasBackdrop=!0,this.dialog.open(m.TokenVerificationPage,{data:{_id:e}}).afterClosed().subscribe(i=>{this.disableSignUp=!1,this.enteredOtp=i})}validateUserInputs(e,n,r){"name"===n&&"name"===r?!e.key&&!e.key.match("[A-Za-z ]")&&(this.name=this.name.substr(0,this.name.length-1)):"number"===n&&!e.key&&!e.key.match("[0-9]")&&(this.phoneNumber=this.phoneNumber.substr(0,this.phoneNumber.length-1))}getDate(e){this.dateOfBirth=e.value}getUser(){var e;const n=this.name.trim().split(" ");return{firstName:this.utilityService.toTitleCase(n[0]),lastName:this.utilityService.toTitleCase(this.getLastName(n)),gender:null===(e=this.gender)||void 0===e?void 0:e.name,dob:this.dateService.toDBdateFormat(this.dateOfBirth),city:this.selectedCity?this.selectedCity._id:null,cityName:this.selectedCity?this.selectedCity.cityName:null,phone:this.phoneNumber,email:this.email?this.email:" ",playerId:this.utilityService.playerId,appId:P.c.APP_ID,appHashCode:this.utilityService.appHashCode,profilePicture:this.profilePictureUrl}}getLastName(e){let n=e[1];if(!n)return"";for(let r=2;r<e.length;r++)n=n+" "+e[r];return n}ngOnInit(){}ngOnDestroy(){this.pageNavService.cleanup()}}).\u0275fac=function(e){return new(e||u)(t.rXU(O.OD),t.rXU(x.k),t.rXU(O.q9),t.rXU(a.bZ),t.rXU(S.Ix),t.rXU(D.Q),t.rXU(U.k),t.rXU(B.n),t.rXU(s._t),t.rXU(I.V))},u.\u0275cmp=t.VBU({type:u,selectors:[["app-sign-up"]],standalone:!0,features:[t.Jv_([{provide:c.MJ,useClass:E},{provide:c.de,useValue:C}]),t.aNF],decls:63,vars:7,consts:[[1,"landing_header"],[1,"ion-no-padding"],["src","assets/new_icons_list/main_logo_dark.png"],[1,"background"],[1,"login-card"],[1,"ion-text-center"],[1,"grid-style"],[1,"label"],["name","person"],["type","text","placeholder","Enter your name","autocomplete","off",1,"fields","custom-input",3,"ngModelChange","ngModel"],["size","12","size-sm","6"],["name","male-female"],[1,"fields","custom-select","genField",3,"ngModelChange","ngModel"],["disabled","","selected","",3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["name","calendar"],["type","date","placeholder","dd/mm/yyyy",1,"fields","custom-input",3,"ngModelChange","ngModel"],["name","mail"],["type","email","placeholder","abc123@gmail.com",1,"fields","custom-input",3,"ngModelChange","ngModel"],["name","call"],["type","tel","placeholder","12345 67890","maxlength","10",1,"fields","custom-input",3,"ngModelChange","ngModel"],[1,"button-container"],["expand","block",1,"sign-up-button",3,"click"],["name","person-add-outline","slot","start"],[1,"divider"],[1,"divider-line"],[1,"divider-text"],[1,"signup-text"],["expand","block",1,"sign-in-button",3,"click"],["name","log-in-outline","slot","start"],[1,"landing_footer"],[3,"ngValue"]],template:function(e,n){1&e&&(t.j41(0,"div",0)(1,"ion-grid",1)(2,"ion-row",1)(3,"ion-col"),t.nrm(4,"img",2),t.k0s()()()(),t.j41(5,"div",3)(6,"ion-card",4)(7,"ion-card-header")(8,"ion-card-title",5),t.EFF(9,"Welcome to medics care"),t.k0s(),t.j41(10,"ion-card-subtitle",5),t.EFF(11,"Your Health, Digitally Connected"),t.k0s()(),t.j41(12,"ion-card-content")(13,"ion-grid",6)(14,"ion-row")(15,"ion-col")(16,"ion-label",7),t.nrm(17,"ion-icon",8),t.EFF(18,"Name"),t.k0s(),t.j41(19,"ion-input",9),t.mxI("ngModelChange",function(i){return t.DH7(n.name,i)||(n.name=i),i}),t.k0s()()(),t.j41(20,"ion-row")(21,"ion-col",10)(22,"ion-label",7),t.nrm(23,"ion-icon",11),t.EFF(24,"Gender"),t.k0s(),t.j41(25,"select",12),t.mxI("ngModelChange",function(i){return t.DH7(n.gender,i)||(n.gender=i),i}),t.j41(26,"option",13),t.EFF(27,"Select Gender"),t.k0s(),t.DNE(28,A,2,2,"option",14),t.k0s()(),t.j41(29,"ion-col",10)(30,"ion-label",7),t.nrm(31,"ion-icon",15),t.EFF(32,"Date of Birth"),t.k0s(),t.j41(33,"ion-input",16),t.mxI("ngModelChange",function(i){return t.DH7(n.dateOfBirth,i)||(n.dateOfBirth=i),i}),t.k0s()()(),t.j41(34,"ion-row")(35,"ion-col",10)(36,"ion-label",7),t.nrm(37,"ion-icon",17),t.EFF(38,"Email"),t.k0s(),t.j41(39,"ion-input",18),t.mxI("ngModelChange",function(i){return t.DH7(n.email,i)||(n.email=i),i}),t.k0s()(),t.j41(40,"ion-col",10)(41,"ion-label",7),t.nrm(42,"ion-icon",19),t.EFF(43,"Phone Number"),t.k0s(),t.j41(44,"ion-input",20),t.mxI("ngModelChange",function(i){return t.DH7(n.phoneNumber,i)||(n.phoneNumber=i),i}),t.k0s()()(),t.j41(45,"div",21)(46,"ion-button",22),t.bIt("click",function(){return n.validateUser()}),t.nrm(47,"ion-icon",23),t.EFF(48," Sign Up "),t.k0s(),t.j41(49,"div",24),t.nrm(50,"span",25),t.j41(51,"span",26),t.EFF(52,"or"),t.k0s(),t.nrm(53,"span",25),t.k0s(),t.j41(54,"p",27),t.EFF(55,"Already have an account? "),t.j41(56,"b"),t.EFF(57,"Sign in"),t.k0s(),t.EFF(58," now!"),t.k0s(),t.j41(59,"ion-button",28),t.bIt("click",function(){return n.gotoSignIn()}),t.nrm(60,"ion-icon",29),t.EFF(61," Sign In "),t.k0s()()()()()(),t.nrm(62,"div",30)),2&e&&(t.R7$(19),t.R50("ngModel",n.name),t.R7$(6),t.R50("ngModel",n.gender),t.R7$(),t.Y8G("ngValue",null),t.R7$(2),t.Y8G("ngForOf",n.genders),t.R7$(5),t.R50("ngModel",n.dateOfBirth),t.R7$(6),t.R50("ngModel",n.email),t.R7$(5),t.R50("ngModel",n.phoneNumber))},dependencies:[s.bv,s.Jm,s.b_,s.I9,s.ME,s.HW,s.tN,s.hU,s.lO,s.iq,s.$w,s.he,s.ln,s.Gw,d.YN,d.xH,d.y7,d.wz,d.BC,d.tU,d.vS,g.pM],styles:["ion-card-header[_ngcontent-%COMP%]{background:var(--mc-color-primary-500);color:var(--mc-text-inverse);border-top-left-radius:var(--mc-radius-base);border-top-right-radius:var(--mc-radius-base)}ion-card-title[_ngcontent-%COMP%]{font-size:var(--mc-font-display-sm);font-weight:700;letter-spacing:-.5px;color:var(--mc-text-inverse)}ion-card-subtitle[_ngcontent-%COMP%]{color:var(--mc-bg-primary);opacity:.9;font-size:var(--mc-font-body-xl);font-weight:400}.background[_ngcontent-%COMP%]{background:url(login-background.673b5b4af42f4e7b.png) left/81% 100% no-repeat;background-size:cover;width:100%;display:flex;justify-content:flex-end;align-items:center;padding:32px}.login-card[_ngcontent-%COMP%]{max-width:450px;width:100%;margin:0;border-radius:var(--mc-radius-base);box-shadow:var(--mc-shadow-xl)}ion-col[_ngcontent-%COMP%]{color:var(--mc-text-primary)}.fields[_ngcontent-%COMP%]{height:var(--mc-form-input-height);gap:var(--mc-spacing-2);border-radius:var(--mc-form-input-radius);background-color:var(--mc-bg-primary);border:1px solid var(--mc-border-primary);--padding-start: var(--mc-spacing-3);margin-top:var(--mc-spacing-2)}@media (max-width: 450px){.text[_ngcontent-%COMP%]{margin-top:0%}.message[_ngcontent-%COMP%]{font-size:var(--mc-font-display-sm);line-height:33px;padding-left:15%}.name_field[_ngcontent-%COMP%], .input[_ngcontent-%COMP%]{width:100%}.login-card[_ngcontent-%COMP%]{padding-left:0}.row_three[_ngcontent-%COMP%]{margin-top:0}}ion-select[_ngcontent-%COMP%]{padding-right:20px;width:100%}ion-select[_ngcontent-%COMP%]::part(icon){position:absolute;right:0;top:50%;transform:translateY(-50%)}.landing_header[_ngcontent-%COMP%], .landing_footer[_ngcontent-%COMP%]{background:var(--primary-main);height:80px;display:flex;align-items:center;justify-content:center}.ios[_ngcontent-%COMP%]   .landing_header[_ngcontent-%COMP%], .ios[_ngcontent-%COMP%]   .landing_footer[_ngcontent-%COMP%]{padding-top:var(--safe-area-top);padding-bottom:var(--safe-area-bottom)}.custom-input[_ngcontent-%COMP%], .custom-select[_ngcontent-%COMP%]{background-color:var(--mc-bg-primary);font-size:var(--mc-font-form-input);height:var(--mc-form-input-height);width:100%;box-shadow:none;border:1px solid var(--mc-border-primary);color:var(--mc-text-primary);font-weight:500;border-radius:var(--mc-form-input-radius);padding:0 var(--mc-spacing-4)}.custom-input[_ngcontent-%COMP%]:focus, .custom-select[_ngcontent-%COMP%]:focus{outline:none}.custom-input[_ngcontent-%COMP%]::placeholder, .custom-select[_ngcontent-%COMP%]::placeholder{color:var(--mc-text-tertiary);font-weight:400}.genField[_ngcontent-%COMP%]{padding-left:var(--mc-spacing-2)}.grid-style[_ngcontent-%COMP%]{margin:0% 4%;padding:1%}.label[_ngcontent-%COMP%]{font-size:var(--mc-font-form-label);font-weight:500;color:var(--mc-text-primary);font-family:var(--ion-font-family);display:flex;align-items:center;gap:var(--mc-spacing-2);margin-bottom:var(--mc-spacing-1)}.label[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:var(--mc-icon-size-md);min-width:var(--mc-icon-size-md);color:var(--mc-color-primary-500)}.signup-button[_ngcontent-%COMP%], .cancel-button[_ngcontent-%COMP%]{font-weight:600;font-family:Roboto,sans-serif;letter-spacing:1px}ion-button[_ngcontent-%COMP%]{text-transform:none;border-radius:var(--mc-button-radius);font-size:var(--mc-font-button-md);font-weight:600;height:var(--mc-button-height);letter-spacing:.025em}.button-container[_ngcontent-%COMP%]{margin-top:var(--mc-spacing-6);display:flex;flex-direction:column;gap:var(--mc-spacing-4)}.sign-in-button[_ngcontent-%COMP%], .sign-up-button[_ngcontent-%COMP%]{--border-radius: var(--mc-button-radius);margin:0;--background: var(--mc-color-primary-500);--color: var(--mc-text-inverse);font-weight:600;font-size:var(--mc-font-button-md);letter-spacing:.025em;height:var(--mc-button-height)}.sign-in-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], .sign-up-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-right:var(--mc-spacing-2);font-size:var(--mc-icon-size-md)}.sign-in-button[_ngcontent-%COMP%]:hover, .sign-up-button[_ngcontent-%COMP%]:hover{--background: var(--mc-color-primary-600)}.sign-in-button[_ngcontent-%COMP%]:active, .sign-up-button[_ngcontent-%COMP%]:active{--background: var(--mc-color-primary-700)}.divider[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--mc-spacing-4);margin:var(--mc-spacing-2) 0}.divider-line[_ngcontent-%COMP%]{flex:1;height:1px;background:var(--mc-border-primary)}.divider-text[_ngcontent-%COMP%]{color:var(--mc-text-tertiary);font-size:var(--mc-font-body-sm);font-weight:500}.signup-text[_ngcontent-%COMP%]{text-align:center;margin:0;color:var(--mc-text-secondary);font-size:var(--mc-font-body-sm)}.signup-text[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{color:var(--mc-color-primary-500);font-weight:600}.gender-segment[_ngcontent-%COMP%]{margin-top:var(--mc-spacing-2);width:100%;height:var(--mc-form-input-height);border-radius:var(--mc-form-input-radius);border:1px solid var(--mc-border-primary);background:var(--mc-bg-primary)}.gender-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]{--indicator-color: var(--mc-color-primary-500);--color: var(--mc-text-secondary);--color-checked: var(--mc-text-inverse);font-size:var(--mc-font-body-sm);font-weight:500;min-height:var(--mc-form-input-height)}.gender-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]:first-child{border-top-left-radius:var(--mc-form-input-radius);border-bottom-left-radius:var(--mc-form-input-radius)}.gender-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]:last-child{border-top-right-radius:var(--mc-form-input-radius);border-bottom-right-radius:var(--mc-form-input-radius)}.gender-segment[_ngcontent-%COMP%]   ion-segment-button.segment-button-checked[_ngcontent-%COMP%]{--background: var(--mc-color-primary-500);--color: var(--mc-text-inverse)}@media (min-width: 992px){.background[_ngcontent-%COMP%]{padding-right:3%}.login-card[_ngcontent-%COMP%]{max-width:480px}}@media (min-width: 768px) and (max-width: 991px){.background[_ngcontent-%COMP%]{padding-right:8%}.login-card[_ngcontent-%COMP%]{max-width:420px}}@media (max-width: 767px){.background[_ngcontent-%COMP%]{justify-content:center;background-size:cover;height:var(--app-height, 100vh)}.login-card[_ngcontent-%COMP%]{max-width:100%}}@media (max-width: 576px){.login-card[_ngcontent-%COMP%]{max-height:545px;overflow-y:auto}ion-card-title[_ngcontent-%COMP%]{font-size:var(--mc-font-heading-xl);letter-spacing:0}ion-card-subtitle[_ngcontent-%COMP%]{font-size:var(--mc-font-body-lg);font-weight:unset}.custom-input[_ngcontent-%COMP%]{font-size:var(--mc-font-body-md)}.grid-style[_ngcontent-%COMP%]{margin:0}.label[_ngcontent-%COMP%]{font-size:var(--mc-font-form-label)}.fields[_ngcontent-%COMP%]{margin-top:2px}.button-container[_ngcontent-%COMP%]{margin-top:10px}.sign-up-button[_ngcontent-%COMP%]{font-size:var(--mc-font-button-md)}.divider[_ngcontent-%COMP%]{margin:0}.signup-text[_ngcontent-%COMP%]{font-size:var(--mc-font-body-sm)}}"]}),u);M=(0,b.Cg)([(0,t.pde)("ngModel")],M)},8135:(k,_,o)=>{o.d(_,{V:()=>P});var p=o(4438),b=o(600),f=o(9012);let P=(()=>{var m;class t{constructor(a,c){this.platform=a,this.router=c,this.activeSubscriptions=new Map}setupBackButton(a,c){Array.isArray(a)?a.forEach(g=>{this.setupSingleBackButton(g.route,g.handler)}):"string"==typeof a&&c&&this.setupSingleBackButton(a,c)}setupSingleBackButton(a,c){this.cleanupBackButton(a);const g=this.platform.backButton.subscribeWithPriority(10,()=>{this.router.url===a&&c()});this.activeSubscriptions.set(a,g)}cleanupBackButton(a){const c=this.activeSubscriptions.get(a);c&&(c.unsubscribe(),this.activeSubscriptions.delete(a))}cleanupAllSubscriptions(){this.activeSubscriptions.forEach((a,c)=>{a.unsubscribe()}),this.activeSubscriptions.clear()}cleanup(){this.cleanupAllSubscriptions()}navigateBack(a="/home"){window.history.length>1?window.history.back():this.router.navigate([a])}smartNavigateBack(a){const g={"/appointment-list":"/home","/appointment-booking":"/appointment-list","/select-patient":"/appointment-booking","/confirm-appointment":"/appointment-booking","/appointment-confirmed":"/appointment-list","/appointment-details":"/appointment-list","/consent-form":"/appointment-booking","/prescription":"/home","/bills":"/home","/bill-details":"/bills","/family-member-list":"/home","/home/profiles":"/home","/family-member-form":"/home/profiles","/profile-edition":"/home","/attachment-list":"/home","/medical-record/attachment-list":"/home","/report-attachment-list":"/home","/medical-record/report-attachment-list":"/home","/family-member-attachment-list":"/home","/patient-medical-record":"/home","/patient-list":"/home","/emr-visits":"/patient-list","/emr":"/home","/medical-attachments":"/patient-medical-record","/facility-information":"/facility-information-template","/facility-information-template":"/home","/edit-facility-information-page":"/facility-information","/service-requests":"/home","/new-service-request":"/service-requests","/reminder":"/home"}[a];g?this.router.navigate([g]):this.navigateBack()}}return(m=t).\u0275fac=function(a){return new(a||m)(p.KVO(b.OD),p.KVO(f.Ix))},m.\u0275prov=p.jDH({token:m,factory:m.\u0275fac,providedIn:"root"}),t})()}}]);