"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6926],{1023:(V,M,r)=>{r.r(M),r.d(M,{HospitalListPage:()=>L});var O=r(467),f=r(9159),_=r(9893),P=r(177),t=r(4438),S=r(9012),T=r(600),A=r(3629),E=r(8023),F=r(9934),R=r(5351);function k(i,c){1&i&&(t.j41(0,"th",20),t.EFF(1," Code "),t.k0s())}function x(i,c){if(1&i&&(t.j41(0,"td",21),t.EFF(1),t.k0s()),2&i){const n=c.$implicit;t.R7$(),t.SpI(" ",n.code," ")}}function I(i,c){1&i&&(t.j41(0,"th",20),t.EFF(1," Name "),t.k0s())}function y(i,c){if(1&i&&(t.j41(0,"td",21),t.EFF(1),t.k0s()),2&i){const n=c.$implicit;t.R7$(),t.SpI(" ",n.name," ")}}function a(i,c){1&i&&(t.j41(0,"th",20),t.EFF(1," Phone "),t.k0s())}function e(i,c){if(1&i&&(t.j41(0,"td",21),t.EFF(1),t.k0s()),2&i){const n=c.$implicit;t.R7$(),t.SpI(" ",n.contactDetails.phone," ")}}function s(i,c){1&i&&(t.j41(0,"th",20),t.EFF(1," Address "),t.k0s())}function o(i,c){if(1&i&&(t.j41(0,"td",21),t.EFF(1),t.k0s()),2&i){const n=c.$implicit;t.R7$(),t.SpI(" ",n.address," ")}}function d(i,c){1&i&&(t.j41(0,"th",20),t.EFF(1," Active "),t.k0s())}function l(i,c){if(1&i&&(t.j41(0,"td",21),t.nrm(1,"ion-icon",22),t.k0s()),2&i){const n=c.$implicit;t.R7$(),t.Y8G("hidden",!n.active)}}function p(i,c){1&i&&t.nrm(0,"tr",23)}function C(i,c){if(1&i){const n=t.RV6();t.j41(0,"tr",24),t.bIt("click",function(){const h=t.eBV(n).$implicit,g=t.XpG(2);return t.Njj(g.modifyHospital(h))}),t.k0s()}}function v(i,c){if(1&i&&(t.j41(0,"div",9)(1,"table",10),t.qex(2,11),t.DNE(3,k,2,0,"th",12)(4,x,2,1,"td",13),t.bVm(),t.qex(5,14),t.DNE(6,I,2,0,"th",12)(7,y,2,1,"td",13),t.bVm(),t.qex(8,15),t.DNE(9,a,2,0,"th",12)(10,e,2,1,"td",13),t.bVm(),t.qex(11,16),t.DNE(12,s,2,0,"th",12)(13,o,2,1,"td",13),t.bVm(),t.qex(14,17),t.DNE(15,d,2,0,"th",12)(16,l,2,1,"td",13),t.bVm(),t.DNE(17,p,1,0,"tr",18)(18,C,1,0,"tr",19),t.k0s()()),2&i){const n=t.XpG();t.R7$(),t.Y8G("dataSource",n.hospitalList),t.R7$(16),t.Y8G("matHeaderRowDef",n.displayedColumns)("matHeaderRowDefSticky",!0),t.R7$(),t.Y8G("matRowDefColumns",n.displayedColumns)}}function u(i,c){if(1&i){const n=t.RV6();t.j41(0,"ion-card",27),t.bIt("click",function(){const h=t.eBV(n).$implicit,g=t.XpG(2);return t.Njj(g.modifyHospital(h))}),t.j41(1,"ion-card-header",28)(2,"ion-grid",29)(3,"ion-row",30)(4,"ion-col",31)(5,"strong",32),t.EFF(6),t.k0s()(),t.j41(7,"ion-col",33),t.EFF(8),t.k0s()()()(),t.j41(9,"ion-card-content",34)(10,"ion-row",35)(11,"ion-col",36),t.EFF(12," Name "),t.k0s(),t.j41(13,"ion-col",37),t.EFF(14),t.k0s()(),t.j41(15,"ion-row",35)(16,"ion-col",36),t.EFF(17," Address "),t.k0s(),t.j41(18,"ion-col",37),t.EFF(19),t.k0s()(),t.j41(20,"ion-row",35)(21,"ion-col",36),t.EFF(22," Contact no. "),t.k0s(),t.j41(23,"ion-col",37),t.EFF(24),t.k0s()()()()}if(2&i){const n=c.$implicit;t.R7$(),t.Y8G("ngClass",n.active?"primaryLight":"dark-background"),t.R7$(5),t.SpI(" ",n.shortName," "),t.R7$(2),t.SpI(" ",n.code," "),t.R7$(6),t.SpI(" ",n.name," "),t.R7$(5),t.SpI(" ",n.address," "),t.R7$(5),t.SpI(" ",n.contactDetails.phone," ")}}function D(i,c){if(1&i&&(t.j41(0,"div",25),t.DNE(1,u,25,6,"ion-card",26),t.k0s()),2&i){const n=t.XpG();t.R7$(),t.Y8G("ngForOf",n.hospitalList)}}let L=(()=>{var i;class c{constructor(m,h,g,H,w,U,j){this.router=m,this.navCtrl=h,this.storageService=g,this.httpService=H,this.utilityService=w,this.dialog=U,this.platForm=j,this.hospitalList=[],this.allHospitals=[],this.isPlatFormBrowser=!1,this.displayedColumns=["Code","Name","Phone","Address","Active"],this.platForm.is("desktop")&&(this.isPlatFormBrowser=!0)}ionViewWillEnter(){this.getHospitals()}getHospitals(){var m=this;return(0,O.A)(function*(){yield m.httpService.get("/hospital").then(g=>{g&&(m.hospitalList=g,m.allHospitals=m.hospitalList)}).catch(g=>{})})()}modifyHospital(m){this.router.navigate(["/home/modify-hospital"],{state:{hospital:m}})}filterHospitals(m){const h=m.target.value;this.hospitalList=h&&""!==h.trim()?this.hospitalList.filter(g=>g.name.toLowerCase().indexOf(h.toLowerCase())>-1||g.code.toLowerCase().indexOf(h.toLowerCase())>-1||g.shortName.toLowerCase().indexOf(h.toLowerCase())>-1):this.allHospitals.filter(g=>this.allHospitals)}}return(i=c).\u0275fac=function(m){return new(m||i)(t.rXU(S.Ix),t.rXU(T.q9),t.rXU(A.n),t.rXU(E.k),t.rXU(F.Q),t.rXU(R.bZ),t.rXU(T.OD))},i.\u0275cmp=t.VBU({type:i,selectors:[["app-hospital-list"]],standalone:!0,features:[t.aNF],decls:11,vars:2,consts:[["no-border",""],[1,"primaryDark"],["slot","start"],["text","","defaultHref","home","icon","chevron-back-outline"],[1,"titleHeader"],[1,"titleText"],["slot","fixed","placeholder","Search hospital by code or name",1,"ion-no-padding",3,"ionInput"],["class","extra-padding mat-elevation-z0","padding-horizontal","","padding-vertical","",4,"ngIf"],["padding-vertical","","class","extra-padding",4,"ngIf"],["padding-horizontal","","padding-vertical","",1,"extra-padding","mat-elevation-z0"],["mat-table","",3,"dataSource"],["matColumnDef","Code"],["mat-header-cell","","class","header",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Name"],["matColumnDef","Phone"],["matColumnDef","Address"],["matColumnDef","Active"],["mat-header-row","","class","primaryLight",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",1,"header"],["mat-cell",""],["name","checkmark-outline",2,"zoom","2.0",3,"hidden"],["mat-header-row","",1,"primaryLight"],["mat-row","",3,"click"],["padding-vertical","",1,"extra-padding"],["class","ion-no-padding",3,"click",4,"ngFor","ngForOf"],[1,"ion-no-padding",3,"click"],[1,"ion-no-padding",3,"ngClass"],[1,"header"],[1,"ion-no-padding"],["size","9"],[1,"cardTitle"],["align","end","size","3"],["padding-start","","padding-bottom","",1,"ion-no-padding","bodyText"],[1,"row-spacing"],["size","3",1,"ion-no-padding"],["size","9",1,"ion-no-padding"]],template:function(m,h){1&m&&(t.j41(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2),t.nrm(3,"ion-back-button",3),t.k0s(),t.j41(4,"ion-title",4)(5,"ion-text",5),t.EFF(6,"Hospitals"),t.k0s()()()(),t.j41(7,"ion-content")(8,"ion-searchbar",6),t.bIt("ionInput",function(H){return h.filterHospitals(H)}),t.k0s(),t.DNE(9,v,19,4,"div",7)(10,D,2,1,"div",8),t.k0s()),2&m&&(t.R7$(9),t.Y8G("ngIf",h.isPlatFormBrowser&&h.hospitalList.length>0),t.R7$(),t.Y8G("ngIf",!h.isPlatFormBrowser))},dependencies:[_.bv,_.QW,_.b_,_.I9,_.ME,_.hU,_.W9,_.lO,_.eU,_.iq,_.ln,_.S1,_.IO,_.BC,_.ai,_.Gw,_.el,P.bT,f.Zl,f.cC,f.tL,f.KS,f.YV,f.$R,f.ji,f.YZ,f.iL,f.NB,P.pM,P.MD,P.YU],styles:["table[_ngcontent-%COMP%]{width:100%}.button-size[_ngcontent-%COMP%]{width:75%;margin-bottom:30px}ion-content[_ngcontent-%COMP%]{padding-bottom:20px}ion-card[_ngcontent-%COMP%]{background-color:#fff;margin-top:10px}.extra-padding[_ngcontent-%COMP%]{margin-top:35px}.row-spacing[_ngcontent-%COMP%]{margin-top:5px}.mat-cell[_ngcontent-%COMP%]{padding:4px}.mat-row[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}"]}),c})()},5024:(V,M,r)=>{r.d(M,{CB:()=>x,DQ:()=>k,Q3:()=>E,qS:()=>S,sL:()=>F,xn:()=>R,y4:()=>T,zP:()=>y});var O=r(17),P=(r(4402),r(7673),r(1413)),t=r(4438);class S{}function T(a){return a&&"function"==typeof a.connect&&!(a instanceof O.G)}var E=function(a){return a[a.REPLACED=0]="REPLACED",a[a.INSERTED=1]="INSERTED",a[a.MOVED=2]="MOVED",a[a.REMOVED=3]="REMOVED",a}(E||{});const F=new t.nKC("_ViewRepeater");class R{applyChanges(e,s,o,d,l){e.forEachOperation((p,C,v)=>{let u,D;if(null==p.previousIndex){const i=o(p,C,v);u=s.createEmbeddedView(i.templateRef,i.context,i.index),D=E.INSERTED}else null==v?(s.remove(C),D=E.REMOVED):(u=s.get(C),s.move(u,v),D=E.MOVED);var L;l&&l({context:null===(L=u)||void 0===L?void 0:L.context,operation:D,record:p})})}detach(){}}class k{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(e,s,o,d,l){e.forEachOperation((p,C,v)=>{let u,D;var L;null==p.previousIndex?(u=this._insertView(()=>o(p,C,v),v,s,d(p)),D=u?E.INSERTED:E.REPLACED):null==v?(this._detachAndCacheView(C,s),D=E.REMOVED):(u=this._moveView(C,v,s,d(p)),D=E.MOVED),l&&l({context:null===(L=u)||void 0===L?void 0:L.context,operation:D,record:p})})}detach(){for(const e of this._viewCache)e.destroy();this._viewCache=[]}_insertView(e,s,o,d){const l=this._insertViewFromCache(s,o);if(l)return void(l.context.$implicit=d);const p=e();return o.createEmbeddedView(p.templateRef,p.context,p.index)}_detachAndCacheView(e,s){const o=s.detach(e);this._maybeCacheView(o,s)}_moveView(e,s,o,d){const l=o.get(e);return o.move(l,s),l.context.$implicit=d,l}_maybeCacheView(e,s){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(e);else{const o=s.indexOf(e);-1===o?e.destroy():s.remove(o)}}_insertViewFromCache(e,s){const o=this._viewCache.pop();return o&&s.insert(o,e),o||null}}class x{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(e=!1,s,o=!0,d){this._multiple=e,this._emitChanges=o,this.compareWith=d,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new P.B,s&&s.length&&(e?s.forEach(l=>this._markSelected(l)):this._markSelected(s[0]),this._selectedToEmit.length=0)}select(...e){this._verifyValueAssignment(e),e.forEach(o=>this._markSelected(o));const s=this._hasQueuedChanges();return this._emitChangeEvent(),s}deselect(...e){this._verifyValueAssignment(e),e.forEach(o=>this._unmarkSelected(o));const s=this._hasQueuedChanges();return this._emitChangeEvent(),s}setSelection(...e){this._verifyValueAssignment(e);const s=this.selected,o=new Set(e);e.forEach(l=>this._markSelected(l)),s.filter(l=>!o.has(this._getConcreteValue(l,o))).forEach(l=>this._unmarkSelected(l));const d=this._hasQueuedChanges();return this._emitChangeEvent(),d}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();const s=this._hasQueuedChanges();return e&&this._emitChangeEvent(),s}isSelected(e){return this._selection.has(this._getConcreteValue(e))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){e=this._getConcreteValue(e),this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){e=this._getConcreteValue(e),this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(e,s){if(this.compareWith){s=null!=s?s:this._selection;for(let o of s)if(this.compareWith(e,o))return o;return e}return e}}let y=(()=>{var a;class e{constructor(){this._listeners=[]}notify(o,d){for(let l of this._listeners)l(o,d)}listen(o){return this._listeners.push(o),()=>{this._listeners=this._listeners.filter(d=>o!==d)}}ngOnDestroy(){this._listeners=[]}}return(a=e).\u0275fac=function(o){return new(o||a)},a.\u0275prov=t.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),e})()}}]);