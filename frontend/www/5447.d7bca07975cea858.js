"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5447],{5447:(E,u,o)=>{o.r(u),o.d(u,{AppointmentConfirmedPage:()=>j});var l=o(467),v=o(2739),g=o(9893),P=o(177),n=o(4438),h=o(8023),M=o(600),i=o(3629),r=o(9012),p=o(7031),A=o(9934),D=o(9849),k=o(8135);function x(a,s){1&a&&(n.j41(0,"p",5),n.EFF(1,"Your appointment has been confirmed"),n.k0s())}function F(a,s){1&a&&(n.j41(0,"div",21),n.nrm(1,"ion-icon",22),n.j41(2,"h2"),n.EFF(3,"Appointment Booked Successfully"),n.k0s()())}function B(a,s){1&a&&(n.j41(0,"div",12),n.nrm(1,"ion-icon",23),n.j41(2,"div",14),n.EFF(3,"Video Consultation"),n.k0s()())}function I(a,s){1&a&&(n.j41(0,"div",12),n.nrm(1,"ion-icon",24),n.j41(2,"div",14),n.EFF(3,"Consultation at Hospital"),n.k0s()())}function R(a,s){if(1&a){const e=n.RV6();n.j41(0,"div",25)(1,"h3",26),n.EFF(2,"Payment Details"),n.k0s(),n.j41(3,"div",27)(4,"div",28)(5,"span",29),n.EFF(6,"Payer"),n.k0s(),n.j41(7,"span",30),n.EFF(8),n.k0s()(),n.j41(9,"div",28)(10,"span",29),n.EFF(11,"Payment Date, Time"),n.k0s(),n.j41(12,"span",30),n.EFF(13),n.nI1(14,"date"),n.k0s()(),n.j41(15,"div",28)(16,"span",29),n.EFF(17,"Transaction ID"),n.k0s(),n.j41(18,"span",30),n.EFF(19),n.k0s()(),n.j41(20,"div",31)(21,"span",32),n.EFF(22,"Paid Amount"),n.k0s(),n.j41(23,"span",33),n.EFF(24),n.k0s()()(),n.j41(25,"div",34)(26,"ion-button",35),n.bIt("click",function(){n.eBV(e);const c=n.XpG(2);return n.Njj(c.downloadReceipt())}),n.nrm(27,"ion-icon",36),n.EFF(28," Download Receipt "),n.k0s()()()}if(2&a){const e=n.XpG(2);n.R7$(8),n.Lme("",e.user.firstName," ",e.user.lastName,""),n.R7$(5),n.Lme(" ",n.i5U(14,6,e.confirmedAppointment.paymentConfirmationDateTme,"dd-MM-yyyy"),", ",e.getTime(e.confirmedAppointment.paymentConfirmationDateTme)," "),n.R7$(6),n.SpI(" ",e.confirmedAppointment.paymentDetails.successResponse.razorpay_payment_id," "),n.R7$(5),n.SpI("\u20b9",e.confirmedAppointment.consultationCharge.price,".00")}}function w(a,s){if(1&a&&(n.j41(0,"div",6),n.DNE(1,F,4,0,"div",7),n.j41(2,"div",8)(3,"span",9),n.EFF(4,"Appointment ID:"),n.k0s(),n.j41(5,"span",10),n.EFF(6),n.k0s()(),n.j41(7,"div",11)(8,"div",12),n.nrm(9,"ion-icon",13),n.j41(10,"div",14),n.EFF(11),n.k0s()(),n.j41(12,"div",12),n.nrm(13,"ion-icon",15),n.j41(14,"div",14),n.EFF(15),n.nI1(16,"date"),n.k0s()(),n.j41(17,"div",12),n.nrm(18,"ion-icon",16),n.j41(19,"div",14)(20,"div",17),n.EFF(21),n.k0s(),n.j41(22,"div",18),n.EFF(23),n.k0s()()(),n.DNE(24,B,4,0,"div",19)(25,I,4,0,"div",19),n.k0s(),n.DNE(26,R,29,9,"div",20),n.k0s()),2&a){const e=n.XpG();n.R7$(),n.Y8G("ngIf",!e.fromAppointmentDetails),n.R7$(5),n.JRh(null==e.confirmedAppointment?null:e.confirmedAppointment.bookingId),n.R7$(5),n.JRh(e.confirmedAppointment.patient.name),n.R7$(4),n.Lme(" ",n.i5U(16,10,e.confirmedAppointment.appointmentDate,"MMM d, yyyy")," at ",e.timeFormatTo12hour(e.confirmedAppointment.appointmentTime)," "),n.R7$(6),n.JRh(e.sanitizeDoctorName(e.confirmedAppointment.doctorName)),n.R7$(2),n.JRh(e.confirmedAppointment.specialityName),n.R7$(),n.Y8G("ngIf",e.confirmedAppointment.videoConsultation),n.R7$(),n.Y8G("ngIf",!e.confirmedAppointment.videoConsultation),n.R7$(),n.Y8G("ngIf",e.confirmedAppointment.receiptId)}}let j=(()=>{var a;class s{constructor(t,c,d,f,O,C,b,y){this.httpService=t,this.platform=c,this.storageService=d,this.router=f,this.dateService=O,this.utilityService=C,this.appointmentService=b,this.pageNavService=y,this.user=this.storageService.get("user");try{var m,_;this.appointment=null===(m=this.router.getCurrentNavigation())||void 0===m||null===(m=m.extras.state)||void 0===m?void 0:m.appointment,this.fromAppointmentDetails=null===(_=this.router.getCurrentNavigation())||void 0===_||null===(_=_.extras.state)||void 0===_?void 0:_.navigationFrom}catch{}}ionViewDidEnter(){this.getCurrentAppointment(),this.appointmentService.refreshAppointments(),this.pageNavService.setupBackButton("/appointment-confirmed",()=>{this.router.navigate(this.fromAppointmentDetails?["appointment-details"]:["appointment-list"])}),this.pageNavService.setupBackButton("/home/appointment-confirmed",()=>{this.router.navigate(this.fromAppointmentDetails?["appointment-details"]:["appointment-list"])})}getCurrentAppointment(){var t=this;return(0,l.A)(function*(){const c="/appointment/?_id="+t.appointment._id;yield t.httpService.getInBackground(c,!0).then(d=>{d&&(t.confirmedAppointment=d[0])}).catch(d=>{})})()}downloadReceipt(){var t=this;return(0,l.A)(function*(){const c="/appointment/downloadReceipt/?hospitalCode="+t.confirmedAppointment.hospital.code+"&receiptId="+t.confirmedAppointment.receiptId;yield t.httpService.getInBackground(c,!0).then(function(){var d=(0,l.A)(function*(f){if(f){const O=t.platform.is("ios")?v.__.Documents:v.__.External;yield v.YA.writeFile({path:`receipt_${t.confirmedAppointment.receiptId}.pdf`,data:f,directory:O,recursive:!0});const C="Receipt_"+t.confirmedAppointment.patient.name+t.confirmedAppointment.bookingId+".pdf",y=`data:application/pdf;base64,${f.data.receiptBase64}`,m=document.createElement("a");m.href=y,m.download=C,m.target="_blank",document.body.appendChild(m),m.click()}});return function(f){return d.apply(this,arguments)}}()).catch(d=>{})})()}timeFormatTo12hour(t){return this.dateService.to12HourFormat(t)}getTime(t){return this.timeFormatTo12hour(new Date(t).getHours()+":"+new Date(t).getMinutes())}sanitizeDoctorName(t){if(!t)return"";const c=t.trim();return c.toLowerCase().startsWith("dr.")||c.toLowerCase().startsWith("dr ")?c:"Dr. "+c}ngOnDestroy(){this.pageNavService.cleanupBackButton("/appointment-confirmed"),this.pageNavService.cleanupBackButton("/home/appointment-confirmed")}}return(a=s).\u0275fac=function(t){return new(t||a)(n.rXU(h.k),n.rXU(M.OD),n.rXU(i.n),n.rXU(r.Ix),n.rXU(p.k),n.rXU(A.Q),n.rXU(D.h),n.rXU(k.V))},a.\u0275cmp=n.VBU({type:a,selectors:[["app-appointment-confirmed"]],standalone:!0,features:[n.aNF],decls:7,vars:2,consts:[[1,"appointment-confirmed"],[1,"container"],[1,"header"],["class","subtitle",4,"ngIf"],["class","appointment-card",4,"ngIf"],[1,"subtitle"],[1,"appointment-card"],["class","success-banner",4,"ngIf"],[1,"detail-row"],[1,"detail-label"],[1,"detail-value"],[1,"appointment-details"],[1,"detail-item"],["name","person-outline",1,"detail-icon"],[1,"detail-content"],["name","calendar-outline",1,"detail-icon"],["name","medical-outline",1,"detail-icon"],[1,"doctor-name"],[1,"specialty"],["class","detail-item",4,"ngIf"],["class","payment-section",4,"ngIf"],[1,"success-banner"],["name","checkmark-circle",1,"success-icon"],["name","videocam-outline",1,"detail-icon"],["name","medkit-outline",1,"detail-icon"],[1,"payment-section"],[1,"section-title"],[1,"payment-details"],[1,"payment-item"],[1,"payment-label"],[1,"payment-value"],[1,"payment-total"],[1,"total-label"],[1,"total-amount"],[1,"download-section"],["fill","clear",1,"download-button",3,"click"],["slot","start","name","download-outline"]],template:function(t,c){1&t&&(n.j41(0,"ion-content",0)(1,"div",1)(2,"header",2)(3,"h1"),n.EFF(4,"Appointment Details"),n.k0s(),n.DNE(5,x,2,0,"p",3),n.k0s(),n.DNE(6,w,27,13,"div",4),n.k0s()()),2&t&&(n.R7$(5),n.Y8G("ngIf",!c.fromAppointmentDetails),n.R7$(),n.Y8G("ngIf",c.confirmedAppointment))},dependencies:[g.bv,g.Jm,g.W9,g.iq,P.bT,P.vh],styles:[".appointment-confirmed[_ngcontent-%COMP%]{--padding-top: var(--mc-spacing-2xl);--padding-bottom: var(--mc-spacing-2xl)}.appointment-confirmed[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:0 var(--mc-spacing-xl)}.appointment-confirmed[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{margin-bottom:var(--mc-spacing-2xl)}.appointment-confirmed[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:var(--mc-font-heading-lg);font-weight:600;color:var(--color-gray-900);margin:0 0 var(--mc-spacing-xs) 0}.appointment-confirmed[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:var(--mc-font-body-md);color:var(--color-gray-600);margin:0;font-weight:400}.appointment-confirmed[_ngcontent-%COMP%]   .appointment-card[_ngcontent-%COMP%]{background:var(--color-white);border-radius:var(--radius-lg);padding:var(--spacing-4) var(--spacing-5);box-shadow:var(--shadow-sm);animation:_ngcontent-%COMP%_fadeInUp .4s ease-out}.appointment-confirmed[_ngcontent-%COMP%]   .success-banner[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:var(--spacing-2);padding:var(--spacing-4) 0;margin-bottom:var(--spacing-4);border-bottom:1px solid var(--color-gray-100)}.appointment-confirmed[_ngcontent-%COMP%]   .success-banner[_ngcontent-%COMP%]   .success-icon[_ngcontent-%COMP%]{font-size:var(--mc-icon-size-2xl);color:var(--mc-color-success-500)}.appointment-confirmed[_ngcontent-%COMP%]   .success-banner[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:var(--mc-color-success-600);font-size:var(--mc-font-heading-md);font-weight:600}.appointment-confirmed[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:var(--spacing-2);padding:var(--spacing-3) 0;margin-bottom:var(--spacing-4);border-bottom:1px solid var(--color-gray-100)}.appointment-confirmed[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-label[_ngcontent-%COMP%]{color:var(--color-gray-600);font-size:var(--mc-font-body-md)}.appointment-confirmed[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]{color:var(--mc-text-primary);font-size:var(--mc-font-body-md);font-weight:600}.appointment-confirmed[_ngcontent-%COMP%]   .appointment-details[_ngcontent-%COMP%]{margin-bottom:var(--spacing-4)}.appointment-confirmed[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;padding:var(--spacing-3) 0}.appointment-confirmed[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid var(--color-gray-100)}.appointment-confirmed[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]:first-child   .detail-content[_ngcontent-%COMP%]{font-weight:600;color:var(--mc-text-primary)}.appointment-confirmed[_ngcontent-%COMP%]   .detail-icon[_ngcontent-%COMP%]{font-size:var(--mc-font-heading-md);color:var(--mc-color-primary-500);margin-right:var(--mc-spacing-lg);flex-shrink:0;margin-top:2px}.appointment-confirmed[_ngcontent-%COMP%]   .detail-content[_ngcontent-%COMP%]{flex:1;line-height:1.5}.appointment-confirmed[_ngcontent-%COMP%]   .detail-content[_ngcontent-%COMP%]   .doctor-name[_ngcontent-%COMP%]{font-weight:600;margin-bottom:var(--spacing-1);color:var(--mc-text-primary)}.appointment-confirmed[_ngcontent-%COMP%]   .detail-content[_ngcontent-%COMP%]   .specialty[_ngcontent-%COMP%]{color:var(--color-gray-600);font-size:var(--mc-font-body-sm)}.appointment-confirmed[_ngcontent-%COMP%]   .payment-section[_ngcontent-%COMP%]{margin-top:var(--spacing-6);padding-top:var(--spacing-4);border-top:2px solid var(--color-gray-100)}.appointment-confirmed[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:var(--font-heading-sm);font-weight:600;color:var(--color-gray-700);margin:0 0 var(--spacing-4) 0}.appointment-confirmed[_ngcontent-%COMP%]   .payment-details[_ngcontent-%COMP%]{background:var(--color-gray-50);border-radius:var(--radius-md);padding:var(--spacing-3)}.appointment-confirmed[_ngcontent-%COMP%]   .payment-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:var(--spacing-2) 0;gap:var(--spacing-4)}.appointment-confirmed[_ngcontent-%COMP%]   .payment-item[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid var(--color-gray-200)}.appointment-confirmed[_ngcontent-%COMP%]   .payment-label[_ngcontent-%COMP%]{color:var(--color-gray-600);font-size:var(--mc-font-body-sm);flex-shrink:0}.appointment-confirmed[_ngcontent-%COMP%]   .payment-value[_ngcontent-%COMP%]{color:var(--mc-text-primary);font-size:var(--mc-font-body-sm);text-align:right;word-break:break-word}.appointment-confirmed[_ngcontent-%COMP%]   .payment-total[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:var(--spacing-3);padding:var(--spacing-3);background:linear-gradient(90deg,var(--color-primary-500),var(--color-primary-700));border-radius:var(--radius-md)}.appointment-confirmed[_ngcontent-%COMP%]   .payment-total[_ngcontent-%COMP%]   .total-label[_ngcontent-%COMP%]{color:var(--color-white);font-size:var(--mc-font-body-md);font-weight:600}.appointment-confirmed[_ngcontent-%COMP%]   .payment-total[_ngcontent-%COMP%]   .total-amount[_ngcontent-%COMP%]{color:var(--color-white);font-size:var(--mc-font-heading-md);font-weight:700}.appointment-confirmed[_ngcontent-%COMP%]   .download-section[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding-top:var(--spacing-3)}.appointment-confirmed[_ngcontent-%COMP%]   .download-section[_ngcontent-%COMP%]   .download-button[_ngcontent-%COMP%]{--color: var(--mc-color-primary-500);font-weight:500}.appointment-confirmed[_ngcontent-%COMP%]   .download-section[_ngcontent-%COMP%]   .download-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--mc-color-primary-500)}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 600px){.appointment-confirmed[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding:0 var(--mc-spacing-md)}.appointment-confirmed[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:var(--mc-font-heading-md)}.appointment-confirmed[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:var(--mc-font-body-sm)}.appointment-confirmed[_ngcontent-%COMP%]   .appointment-card[_ngcontent-%COMP%]{padding:var(--spacing-3) var(--spacing-4)}.appointment-confirmed[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]{padding:var(--spacing-2) 0}.appointment-confirmed[_ngcontent-%COMP%]   .success-banner[_ngcontent-%COMP%]   .success-icon[_ngcontent-%COMP%]{font-size:var(--mc-icon-size-xl)}.appointment-confirmed[_ngcontent-%COMP%]   .payment-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:var(--spacing-1)}.appointment-confirmed[_ngcontent-%COMP%]   .payment-value[_ngcontent-%COMP%]{text-align:left}.appointment-confirmed[_ngcontent-%COMP%]   .payment-total[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:var(--spacing-2)}}"]}),s})()},8135:(E,u,o)=>{o.d(u,{V:()=>P});var l=o(4438),v=o(600),g=o(9012);let P=(()=>{var n;class h{constructor(i,r){this.platform=i,this.router=r,this.activeSubscriptions=new Map}setupBackButton(i,r){Array.isArray(i)?i.forEach(p=>{this.setupSingleBackButton(p.route,p.handler)}):"string"==typeof i&&r&&this.setupSingleBackButton(i,r)}setupSingleBackButton(i,r){this.cleanupBackButton(i);const p=this.platform.backButton.subscribeWithPriority(10,()=>{this.router.url===i&&r()});this.activeSubscriptions.set(i,p)}cleanupBackButton(i){const r=this.activeSubscriptions.get(i);r&&(r.unsubscribe(),this.activeSubscriptions.delete(i))}cleanupAllSubscriptions(){this.activeSubscriptions.forEach((i,r)=>{i.unsubscribe()}),this.activeSubscriptions.clear()}cleanup(){this.cleanupAllSubscriptions()}navigateBack(i="/home"){window.history.length>1?window.history.back():this.router.navigate([i])}smartNavigateBack(i){const p={"/appointment-list":"/home","/appointment-booking":"/appointment-list","/select-patient":"/appointment-booking","/confirm-appointment":"/appointment-booking","/appointment-confirmed":"/appointment-list","/appointment-details":"/appointment-list","/consent-form":"/appointment-booking","/prescription":"/home","/bills":"/home","/bill-details":"/bills","/family-member-list":"/home","/home/profiles":"/home","/family-member-form":"/home/profiles","/profile-edition":"/home","/attachment-list":"/home","/medical-record/attachment-list":"/home","/report-attachment-list":"/home","/medical-record/report-attachment-list":"/home","/family-member-attachment-list":"/home","/patient-medical-record":"/home","/patient-list":"/home","/emr-visits":"/patient-list","/emr":"/home","/medical-attachments":"/patient-medical-record","/facility-information":"/facility-information-template","/facility-information-template":"/home","/edit-facility-information-page":"/facility-information","/service-requests":"/home","/new-service-request":"/service-requests","/reminder":"/home"}[i];p?this.router.navigate([p]):this.navigateBack()}}return(n=h).\u0275fac=function(i){return new(i||n)(l.KVO(v.OD),l.KVO(g.Ix))},n.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}),h})()}}]);