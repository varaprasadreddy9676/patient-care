"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3321],{3321:(D,y,l)=>{l.r(y),l.d(y,{RecordsComponent:()=>G});var P=l(467),u=l(177),O=l(9893),n=l(4438),M=l(3629),k=l(8023),w=l(9934),i=l(8251),m=l(600),C=l(9012),E=l(8135);const I=()=>[1,2,3];function B(a,_){1&a&&(n.j41(0,"div",12)(1,"div",13)(2,"div",14),n.nrm(3,"div",15),n.j41(4,"div",16),n.nrm(5,"div",17)(6,"div",18)(7,"div",19),n.k0s()(),n.j41(8,"div",20),n.nrm(9,"div",21)(10,"div",21),n.k0s()()())}function R(a,_){1&a&&(n.j41(0,"div",10),n.DNE(1,B,11,0,"div",11),n.k0s()),2&a&&(n.R7$(),n.Y8G("ngForOf",n.lJ4(1,I)))}function A(a,_){1&a&&(n.j41(0,"div",22),n.nrm(1,"ion-icon",23),n.j41(2,"p",24),n.EFF(3,"No family members added yet"),n.k0s(),n.j41(4,"p",25),n.EFF(5,"Add family members to manage their health profiles and appointments"),n.k0s()())}function F(a,_){if(1&a&&n.nrm(0,"img",45),2&a){const o=n.XpG().$implicit,t=n.XpG(2);n.Y8G("src",t.getProfileImage(o),n.B4B)("alt",o.fullName||"Family member avatar")}}function T(a,_){if(1&a&&(n.j41(0,"span",46),n.EFF(1),n.k0s()),2&a){const o=n.XpG().$implicit,t=n.XpG(2);n.R7$(),n.SpI(" ",t.getInitials(o.fullName)," ")}}function j(a,_){if(1&a&&(n.j41(0,"div",47),n.EFF(1),n.k0s()),2&a){const o=n.XpG().$implicit,t=n.XpG(2);n.R7$(),n.SpI(" ",t.getFormattedDateWithAge(o.dob)," ")}}function S(a,_){if(1&a&&(n.j41(0,"div",48),n.EFF(1),n.k0s()),2&a){const o=n.XpG().$implicit;n.R7$(),n.SpI(" \u2022 ",o.relation," ")}}function z(a,_){if(1&a){const o=n.RV6();n.j41(0,"div",28),n.bIt("click",function(e){const r=n.eBV(o).$implicit,c=n.XpG(2);return n.Njj(c.navigateToProfile(r,e))}),n.j41(1,"div",13)(2,"div",14)(3,"div",29)(4,"div",30),n.DNE(5,F,1,2,"img",31)(6,T,2,1,"span",32),n.k0s()(),n.j41(7,"div",16)(8,"div",33),n.EFF(9),n.k0s(),n.j41(10,"div",34),n.DNE(11,j,2,1,"div",35)(12,S,2,1,"div",36),n.k0s(),n.j41(13,"div",37),n.EFF(14),n.k0s()()(),n.j41(15,"div",38)(16,"div",39),n.EFF(17),n.k0s()(),n.j41(18,"div",40),n.bIt("click",function(e){return n.eBV(o),n.Njj(e.stopPropagation())}),n.j41(19,"ion-button",41),n.bIt("click",function(){const e=n.eBV(o).$implicit,r=n.XpG(2);return n.Njj(r.navigateToPage(e))}),n.nrm(20,"ion-icon",42),n.k0s(),n.j41(21,"ion-button",43),n.bIt("click",function(){const e=n.eBV(o).$implicit,r=n.XpG(2);return n.Njj(r.deleteFamilyMember(e))}),n.nrm(22,"ion-icon",44),n.k0s()()()()}if(2&a){const o=_.$implicit,t=n.XpG(2);n.R7$(4),n.xc7("background-color",t.hasPhoto(o)?"transparent":t.getAvatarColor(o.fullName)),n.R7$(),n.Y8G("ngIf",t.hasPhoto(o)),n.R7$(),n.Y8G("ngIf",!t.hasPhoto(o)),n.R7$(3),n.JRh(o.fullName),n.R7$(2),n.Y8G("ngIf",t.getFormattedDateWithAge(o.dob)),n.R7$(),n.Y8G("ngIf",o.relation),n.R7$(),n.Y8G("ngClass",t.getGenderBadgeClass(o.gender)),n.R7$(),n.SpI(" ",t.getGenderDisplayText(o.gender)," "),n.R7$(2),n.Y8G("ngClass",t.getGenderBadgeClass(o.gender)),n.R7$(),n.SpI(" ",t.getGenderDisplayText(o.gender)," "),n.R7$(2),n.BMQ("aria-label","Edit "+o.fullName),n.R7$(2),n.BMQ("aria-label","Delete "+o.fullName)}}function U(a,_){if(1&a&&(n.j41(0,"div",26),n.DNE(1,z,23,13,"div",27),n.k0s()),2&a){const o=n.XpG();n.R7$(),n.Y8G("ngForOf",o.familyMembers)}}let G=(()=>{var a;class _{constructor(t,e,r,c,g,s,p,d){this.storageService=t,this.httpService=e,this.utilityService=r,this.navService=c,this.alertController=g,this.platform=s,this.router=p,this.pageNavService=d,this.isLoading=!1}getFamilyMembers(){var t=this;return(0,P.A)(function*(){t.isLoading=!0,t.user=t.storageService.get("user");const e="/familyMember/?userId="+t.user.id;try{const r=yield t.httpService.getInBackground(e,!0,!0);r&&(t.familyMembers=r)}catch(r){t.utilityService.presentAlert("Error!",(null==r?void 0:r.message)||"Failed to load family members")}finally{t.isLoading=!1}})()}ionViewWillEnter(){this.navService.pageChange("Family Members"),this.familyMembers=[],this.getFamilyMembers(),this.pageNavService.setupBackButton("/family-member-list",()=>{this.router.navigate(["home"])}),this.pageNavService.setupBackButton("/home/profiles",()=>{this.router.navigate(["home"])})}ngOnInit(){this.user=this.storageService.get("user"),this.navService.pageChange("Family Members"),this.user&&this.user.phone&&(this.phone=this.user.phone),this.getFamilyMembers()}deleteFamilyMember(t){var e=this;return(0,P.A)(function*(){var c;yield(yield e.alertController.create({header:"Confirm Deletion",message:`Are you sure you want to delete ${t.fullName||"this family member"}?`,buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",role:"confirm",handler:(c=(0,P.A)(function*(){try{const g="/familyMember/"+t._id;yield e.httpService.delete(g),e.familyMembers=e.familyMembers.filter(s=>s._id!==t._id),e.utilityService.presentToast("Family member deleted successfully",2e3),e.router.navigate(["/home/profiles"])}catch(g){e.utilityService.presentAlert("Deletion Failed",g.message)}}),function(){return c.apply(this,arguments)})}]})).present()})()}navigateToPage(t){this.router.navigate(["/home/family-member-form"],{state:{familyMember:t}})}navigateToProfile(t,e){e.target.closest(".actions-section")||this.navigateToPage(t)}hasPhoto(t){return!(!t||!t.profilePicture&&!t.photo)}getProfileImage(t){return this.hasPhoto(t)?t.profilePicture||t.photo:null}getInitials(t){if(!t)return"?";const e=t.trim().split(" ").filter(r=>r.length>0);return 1===e.length?e[0].substring(0,2).toUpperCase():(e[0].charAt(0)+e[e.length-1].charAt(0)).toUpperCase()}getAvatarColor(t){const e=["#8B9DC3","#A8C3A7","#D4B483","#C4A5A5","#B8A8D4","#9CC5C4","#C8A8C8","#B8D4A3","#9B9B9B","#B5A08A","#A5B49A","#C4A5A5","#A08AC4","#8AC4B8","#D4A8A8"];if(!t)return e[0];let r=0;for(let c=0;c<t.length;c++)r=t.charCodeAt(c)+((r<<5)-r);return e[Math.abs(r)%e.length]}getGenderBadgeClass(t){switch(null==t?void 0:t.toLowerCase()){case"male":return"gender-male";case"female":return"gender-female";case"others":return"gender-others";default:return"gender-default"}}getGenderDisplayText(t){return t||""}formatDate(t){if(!t)return"";try{let e;if(t instanceof Date)e=t;else{let c=t.toString().trim();if(c.includes("T")||c.includes("-"))e=new Date(c);else if(c.includes("/")){const g=c.split("/");if(3===g.length){const s=parseInt(g[0]),p=parseInt(g[1]),d=parseInt(g[2]);let f,v,h;d>31?(f=d,s>12?(h=s,v=p):p>12?(v=s,h=p):(h=s,v=p)):s>31?(f=2e3+s,v=p,h=d):(f=2e3+d,h=s,v=p),e=new Date(f,v-1,h)}else e=new Date(c)}else e=new Date(c)}return isNaN(e.getTime())?"":e.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch{return""}}calculateAge(t){if(!t)return null;try{let e;if(t instanceof Date)e=t;else{let s=t.toString().trim();if(s.includes("T")||s.includes("-"))e=new Date(s);else if(s.includes("/")){const p=s.split("/");if(3===p.length){const d=parseInt(p[0]),f=parseInt(p[1]),v=parseInt(p[2]);let h,b,x;v>31?(h=v,d>12?(x=d,b=f):f>12?(b=d,x=f):(x=d,b=f)):d>31?(h=2e3+d,b=f,x=v):(h=2e3+v,x=d,b=f),e=new Date(h,b-1,x)}else e=new Date(s)}else e=new Date(s)}if(isNaN(e.getTime()))return null;const r=new Date;let c=r.getFullYear()-e.getFullYear();const g=r.getMonth()-e.getMonth();return(g<0||0===g&&r.getDate()<e.getDate())&&c--,c>=0?c:null}catch{return null}}getAgeText(t){const e=this.calculateAge(t);return null!==e?`${e} years`:""}getFormattedDateWithAge(t){const e=this.formatDate(t),r=this.calculateAge(t);return e?null!==r?`${e} \u2022 ${r} years`:e:""}ngOnDestroy(){this.pageNavService.cleanupBackButton("/family-member-list"),this.pageNavService.cleanupBackButton("/home/profiles")}}return(a=_).\u0275fac=function(t){return new(t||a)(n.rXU(M.n),n.rXU(k.k),n.rXU(w.Q),n.rXU(i.o),n.rXU(O.hG),n.rXU(m.OD),n.rXU(C.Ix),n.rXU(E.V))},a.\u0275cmp=n.VBU({type:a,selectors:[["app-profiles"]],standalone:!0,features:[n.aNF],decls:14,vars:3,consts:[[1,"profiles-content"],[1,"container"],[1,"header"],[1,"subtitle"],[1,"action-buttons"],["expand","block",3,"click"],["slot","start","name","person-add-outline"],["class","profiles-container skeleton-container",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","profiles-container",4,"ngIf"],[1,"profiles-container","skeleton-container"],["class","profile-card skeleton-card",4,"ngFor","ngForOf"],[1,"profile-card","skeleton-card"],[1,"profile-content"],[1,"avatar-section"],[1,"skeleton-avatar"],[1,"profile-info"],[1,"skeleton-name"],[1,"skeleton-info"],[1,"skeleton-badge"],[1,"skeleton-actions"],[1,"skeleton-button"],[1,"empty-state"],["name","people-outline",1,"empty-icon"],[1,"empty-message"],[1,"empty-description"],[1,"profiles-container"],["class","profile-card",3,"click",4,"ngFor","ngForOf"],[1,"profile-card",3,"click"],[1,"avatar-container"],[1,"avatar-circle"],["class","avatar-img",3,"src","alt",4,"ngIf"],["class","avatar-initials",4,"ngIf"],[1,"name-text"],[1,"info-row"],["class","dob-text",4,"ngIf"],["class","relation-text",4,"ngIf"],[1,"gender-badge","hide-md-up",3,"ngClass"],[1,"gender-section","hide-sm-down"],[1,"gender-badge",3,"ngClass"],[1,"actions-section",3,"click"],["fill","clear","size","small",1,"action-button","edit-button",3,"click"],["name","create-outline",1,"action-icon"],["fill","clear","size","small",1,"action-button","delete-button",3,"click"],["name","trash-outline",1,"action-icon"],[1,"avatar-img",3,"src","alt"],[1,"avatar-initials"],[1,"dob-text"],[1,"relation-text"]],template:function(t,e){1&t&&(n.j41(0,"ion-content",0)(1,"div",1)(2,"header",2)(3,"h1"),n.EFF(4,"Family Members"),n.k0s(),n.j41(5,"p",3),n.EFF(6,"Manage your family's health profiles"),n.k0s()(),n.j41(7,"div",4)(8,"ion-button",5),n.bIt("click",function(){return e.navigateToPage(null)}),n.nrm(9,"ion-icon",6),n.EFF(10," Add Family Member "),n.k0s()(),n.DNE(11,R,2,2,"div",7)(12,A,6,0,"div",8)(13,U,2,1,"div",9),n.k0s()()),2&t&&(n.R7$(11),n.Y8G("ngIf",e.isLoading),n.R7$(),n.Y8G("ngIf",!(e.isLoading||e.familyMembers&&0!==e.familyMembers.length)),n.R7$(),n.Y8G("ngIf",!e.isLoading&&e.familyMembers&&e.familyMembers.length>0))},dependencies:[u.MD,u.YU,u.Sq,u.bT,O.bv,O.Jm,O.W9,O.iq],styles:[".profiles-content[_ngcontent-%COMP%]{--padding-top: var(--mc-spacing-2xl);--padding-bottom: var(--mc-spacing-2xl);--background: var(--mc-bg-primary)}.profiles-content[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:0 var(--mc-spacing-xl)}@media (max-width: 600px){.profiles-content[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding:0 var(--mc-spacing-md)}}.profiles-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{margin-bottom:var(--mc-spacing-2xl);animation:_ngcontent-%COMP%_fadeInUp .4s ease-out}.profiles-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:var(--mc-font-heading-lg);font-weight:600;color:var(--color-gray-900);margin:0 0 var(--mc-spacing-xs) 0}.profiles-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:var(--mc-font-body-md);color:var(--color-gray-600);margin:0;font-weight:400}@media (max-width: 600px){.profiles-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:var(--mc-font-heading-md)}.profiles-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:var(--mc-font-body-sm)}}.profiles-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{margin-bottom:var(--mc-spacing-xl);animation:_ngcontent-%COMP%_fadeInUp .4s ease-out}.profiles-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--border-radius: var(--mc-radius-md);--padding-top: var(--mc-spacing-md);--padding-bottom: var(--mc-spacing-md);--box-shadow: var(--mc-shadow-sm);font-weight:600;text-transform:none;letter-spacing:.3px}.profiles-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:not([color]){--background: var(--mc-color-primary-500);--background-hover: var(--mc-color-primary-600);--color: var(--color-white)}.profiles-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-right:var(--mc-spacing-xs);font-size:var(--mc-icon-size-md)}.profiles-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:hover{transform:translateY(-1px);--box-shadow: var(--mc-shadow-md)}.profiles-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:active{transform:translateY(0)}@media (max-width: 600px){.profiles-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--padding-top: var(--mc-spacing-sm);--padding-bottom: var(--mc-spacing-sm);font-size:var(--mc-font-body-sm)}}.profiles-content[_ngcontent-%COMP%]   .profiles-container[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .4s ease-out}.profiles-content[_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]{background:var(--mc-bg-inverse);border-radius:var(--mc-radius-md);margin-bottom:var(--mc-spacing-sm);box-shadow:var(--mc-shadow-xs);border:1px solid var(--mc-border-primary);transition:var(--transition);cursor:pointer;position:relative;overflow:hidden}.profiles-content[_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]:hover{box-shadow:var(--mc-shadow-sm);transform:translateY(-1px);background:var(--mc-bg-secondary)}.profiles-content[_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:var(--mc-shadow-xs)}.profiles-content[_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]:last-child{margin-bottom:var(--mc-spacing-lg)}.profiles-content[_ngcontent-%COMP%]   .profile-content[_ngcontent-%COMP%]{display:flex;align-items:center;padding:var(--mc-spacing-md) var(--mc-spacing-lg);gap:var(--mc-spacing-md)}@media (max-width: 767px){.profiles-content[_ngcontent-%COMP%]   .profile-content[_ngcontent-%COMP%]{gap:var(--mc-spacing-sm);padding:var(--mc-spacing-md) var(--mc-spacing-sm)}}.profiles-content[_ngcontent-%COMP%]   .avatar-section[_ngcontent-%COMP%]{display:flex;align-items:center;flex:1;gap:var(--mc-spacing-md)}.profiles-content[_ngcontent-%COMP%]   .avatar-container[_ngcontent-%COMP%]{flex-shrink:0}.profiles-content[_ngcontent-%COMP%]   .avatar-circle[_ngcontent-%COMP%]{width:46px;height:46px;border-radius:50%;overflow:hidden;box-shadow:var(--mc-shadow-sm);transition:var(--transition);background:var(--color-gray-100);border:2px solid var(--color-white);display:flex;align-items:center;justify-content:center}@media (max-width: 767px){.profiles-content[_ngcontent-%COMP%]   .avatar-circle[_ngcontent-%COMP%]{width:40px;height:40px}}.profiles-content[_ngcontent-%COMP%]   .avatar-img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.profiles-content[_ngcontent-%COMP%]   .avatar-initials[_ngcontent-%COMP%]{font-size:var(--mc-font-body-lg);font-weight:var(--mc-font-weight-bold);color:var(--mc-text-inverse);letter-spacing:.5px}@media (max-width: 767px){.profiles-content[_ngcontent-%COMP%]   .avatar-initials[_ngcontent-%COMP%]{font-size:var(--mc-font-body-md)}}.profiles-content[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]{flex:1;min-width:0}.profiles-content[_ngcontent-%COMP%]   .name-text[_ngcontent-%COMP%]{font-size:var(--mc-font-body-lg);font-weight:var(--mc-font-weight-bold);color:var(--mc-text-primary);margin-bottom:var(--mc-spacing-xs);line-height:1.4;letter-spacing:-.01em}@media (max-width: 767px){.profiles-content[_ngcontent-%COMP%]   .name-text[_ngcontent-%COMP%]{font-size:var(--mc-font-body-md)}}.profiles-content[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--mc-spacing-xs);flex-wrap:wrap;margin-bottom:var(--mc-spacing-xs)}.profiles-content[_ngcontent-%COMP%]   .dob-text[_ngcontent-%COMP%]{font-size:var(--mc-font-body-sm);color:var(--mc-text-secondary);font-weight:var(--mc-font-weight-regular)}@media (max-width: 767px){.profiles-content[_ngcontent-%COMP%]   .dob-text[_ngcontent-%COMP%]{font-size:var(--mc-font-body-xs)}}.profiles-content[_ngcontent-%COMP%]   .relation-text[_ngcontent-%COMP%]{font-size:var(--mc-font-body-sm);color:var(--mc-color-primary-600);font-weight:var(--mc-font-weight-semibold)}@media (max-width: 767px){.profiles-content[_ngcontent-%COMP%]   .relation-text[_ngcontent-%COMP%]{font-size:var(--mc-font-body-xs)}}.profiles-content[_ngcontent-%COMP%]   .gender-section[_ngcontent-%COMP%]{flex-shrink:0}@media (max-width: 767px){.profiles-content[_ngcontent-%COMP%]   .gender-section[_ngcontent-%COMP%]{display:none}}.profiles-content[_ngcontent-%COMP%]   .gender-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;min-height:24px;padding:var(--mc-spacing-xs) var(--mc-spacing-sm);border-radius:var(--mc-radius-sm);font-size:var(--mc-font-body-xs);font-weight:var(--mc-font-weight-semibold);text-transform:capitalize;letter-spacing:.2px;transition:var(--mc-transition-base);border:1px solid transparent;white-space:nowrap;line-height:1.2}.profiles-content[_ngcontent-%COMP%]   .gender-badge.gender-male[_ngcontent-%COMP%]{background-color:var(--mc-color-info-100);color:var(--mc-color-info-800);border-color:var(--mc-color-info-300)}.profiles-content[_ngcontent-%COMP%]   .gender-badge.gender-female[_ngcontent-%COMP%]{background-color:var(--mc-color-secondary-100);color:var(--mc-color-secondary-800);border-color:var(--mc-color-secondary-300)}.profiles-content[_ngcontent-%COMP%]   .gender-badge.gender-others[_ngcontent-%COMP%]{background-color:var(--mc-color-warning-100);color:var(--mc-color-warning-800);border-color:var(--mc-color-warning-300)}.profiles-content[_ngcontent-%COMP%]   .gender-badge.gender-default[_ngcontent-%COMP%]{background-color:var(--mc-color-gray-100);color:var(--mc-color-gray-800);border-color:var(--mc-color-gray-300)}.profiles-content[_ngcontent-%COMP%]   .gender-badge.hide-md-up[_ngcontent-%COMP%]{margin-top:var(--mc-spacing-xs);min-height:20px;padding:2px var(--mc-spacing-xs);font-size:10px}.profiles-content[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--mc-spacing-xs);padding-right:var(--mc-spacing-md);flex-shrink:0}@media (max-width: 767px){.profiles-content[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]{padding-right:var(--mc-spacing-sm);gap:2px}}.profiles-content[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{--background: transparent;--color: var(--mc-text-secondary);--border-radius: var(--mc-radius-sm);--padding-start: var(--mc-spacing-xs);--padding-end: var(--mc-spacing-xs);width:32px;height:32px;margin:0;transition:var(--mc-transition-base);border:1px solid var(--mc-border-primary)}@media (max-width: 767px){.profiles-content[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{width:28px;height:28px}}.profiles-content[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]:hover{--background: var(--mc-bg-secondary);border-color:var(--mc-border-hover);transform:translateY(-1px)}.profiles-content[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]:active{transform:translateY(0)}.profiles-content[_ngcontent-%COMP%]   .action-button.edit-button[_ngcontent-%COMP%]:hover{--background: var(--mc-color-primary-50);--color: var(--mc-color-primary-600);border-color:var(--mc-color-primary-200)}.profiles-content[_ngcontent-%COMP%]   .action-button.delete-button[_ngcontent-%COMP%]:hover{--background: var(--mc-color-error-50);--color: var(--mc-color-error-600);border-color:var(--mc-color-error-200)}.profiles-content[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]{font-size:var(--mc-icon-size-md)}@media (max-width: 767px){.profiles-content[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]{font-size:var(--mc-icon-size-sm)}}@media (max-width: 767px){.profiles-content[_ngcontent-%COMP%]   .hide-sm-down[_ngcontent-%COMP%]{display:none!important}}@media (min-width: 768px){.profiles-content[_ngcontent-%COMP%]   .hide-md-up[_ngcontent-%COMP%]{display:none!important}}.profiles-content[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:300px;gap:var(--mc-spacing-md);animation:_ngcontent-%COMP%_fadeIn .5s ease-out}.profiles-content[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{width:40px;height:40px;--color: var(--mc-color-primary-500)}.profiles-content[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   .loading-text[_ngcontent-%COMP%]{color:var(--mc-text-secondary);font-size:var(--mc-font-body-md);font-weight:500;margin:0}.profiles-content[_ngcontent-%COMP%]   .skeleton-container[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-out}.profiles-content[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]{background:var(--mc-bg-inverse);border-radius:var(--mc-radius-md);margin-bottom:var(--mc-spacing-sm);box-shadow:var(--mc-shadow-xs);border:1px solid var(--mc-border-primary);pointer-events:none}.profiles-content[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .profile-content[_ngcontent-%COMP%]{display:flex;align-items:center;padding:var(--mc-spacing-md) var(--mc-spacing-lg);gap:var(--mc-spacing-md)}@media (max-width: 767px){.profiles-content[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .profile-content[_ngcontent-%COMP%]{gap:var(--mc-spacing-sm);padding:var(--mc-spacing-md) var(--mc-spacing-sm)}}.profiles-content[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .avatar-section[_ngcontent-%COMP%]{display:flex;align-items:center;flex:1;gap:var(--mc-spacing-md)}.profiles-content[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .skeleton-avatar[_ngcontent-%COMP%]{width:46px;height:46px;border-radius:50%;background:linear-gradient(90deg,#e0e0e0,#f0f0f0,#e0e0e0);background-size:200% 100%;animation:_ngcontent-%COMP%_shimmer 1.5s ease-in-out infinite;flex-shrink:0;display:block}@media (max-width: 767px){.profiles-content[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .skeleton-avatar[_ngcontent-%COMP%]{width:40px;height:40px}}.profiles-content[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:var(--mc-spacing-xs)}.profiles-content[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .skeleton-name[_ngcontent-%COMP%]{height:20px;width:140px;border-radius:var(--mc-radius-sm);background:linear-gradient(90deg,#e0e0e0,#f0f0f0,#e0e0e0);background-size:200% 100%;animation:_ngcontent-%COMP%_shimmer 1.5s ease-in-out infinite;display:block}@media (max-width: 767px){.profiles-content[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .skeleton-name[_ngcontent-%COMP%]{height:18px;width:120px}}.profiles-content[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .skeleton-info[_ngcontent-%COMP%]{height:16px;width:180px;border-radius:var(--mc-radius-sm);background:linear-gradient(90deg,#e0e0e0,#f0f0f0,#e0e0e0);background-size:200% 100%;animation:_ngcontent-%COMP%_shimmer 1.5s ease-in-out infinite;display:block}@media (max-width: 767px){.profiles-content[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .skeleton-info[_ngcontent-%COMP%]{height:14px;width:140px}}.profiles-content[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .skeleton-badge[_ngcontent-%COMP%]{height:20px;width:60px;border-radius:var(--mc-radius-sm);background:linear-gradient(90deg,#e0e0e0,#f0f0f0,#e0e0e0);background-size:200% 100%;animation:_ngcontent-%COMP%_shimmer 1.5s ease-in-out infinite;display:block}@media (max-width: 767px){.profiles-content[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .skeleton-badge[_ngcontent-%COMP%]{height:18px;width:50px}}.profiles-content[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .skeleton-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--mc-spacing-xs);padding-right:var(--mc-spacing-md)}@media (max-width: 767px){.profiles-content[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .skeleton-actions[_ngcontent-%COMP%]{padding-right:var(--mc-spacing-sm);gap:2px}}.profiles-content[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .skeleton-button[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:var(--mc-radius-sm);background:linear-gradient(90deg,#e0e0e0,#f0f0f0,#e0e0e0);background-size:200% 100%;animation:_ngcontent-%COMP%_shimmer 1.5s ease-in-out infinite;display:block}@media (max-width: 767px){.profiles-content[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .skeleton-button[_ngcontent-%COMP%]{width:28px;height:28px}}@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:200% 0}to{background-position:-200% 0}}.profiles-content[_ngcontent-%COMP%]   [data-theme=dark][_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]{background:var(--mc-card-bg);border-color:var(--mc-card-border)}.profiles-content[_ngcontent-%COMP%]   [data-theme=dark][_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .skeleton-avatar[_ngcontent-%COMP%], .profiles-content[_ngcontent-%COMP%]   [data-theme=dark][_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .skeleton-name[_ngcontent-%COMP%], .profiles-content[_ngcontent-%COMP%]   [data-theme=dark][_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .skeleton-info[_ngcontent-%COMP%], .profiles-content[_ngcontent-%COMP%]   [data-theme=dark][_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .skeleton-badge[_ngcontent-%COMP%], .profiles-content[_ngcontent-%COMP%]   [data-theme=dark][_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .skeleton-button[_ngcontent-%COMP%]{background:linear-gradient(90deg,#2a2a2a,#3a3a3a,#2a2a2a);background-size:200% 100%;animation:_ngcontent-%COMP%_shimmer 1.5s ease-in-out infinite}.profiles-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:var(--mc-spacing-2xl) var(--mc-spacing-lg);min-height:300px;animation:_ngcontent-%COMP%_fadeInUp .5s ease-out}.profiles-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:80px;margin-bottom:var(--mc-spacing-lg);color:var(--mc-color-gray-300)}.profiles-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-message[_ngcontent-%COMP%]{font-size:var(--mc-font-body-lg);font-weight:600;color:var(--mc-text-primary);margin:0 0 var(--mc-spacing-sm) 0}.profiles-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-description[_ngcontent-%COMP%]{font-size:var(--mc-font-body-md);color:var(--mc-text-secondary);margin:0;max-width:400px}@media (max-width: 600px){.profiles-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{padding:var(--mc-spacing-xl) var(--mc-spacing-md)}.profiles-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:64px}.profiles-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-message[_ngcontent-%COMP%]{font-size:var(--mc-font-body-md)}.profiles-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-description[_ngcontent-%COMP%]{font-size:var(--mc-font-body-sm)}}.profiles-content[_ngcontent-%COMP%]   [data-theme=dark][_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]{background:var(--mc-card-bg);border-color:var(--mc-card-border)}.profiles-content[_ngcontent-%COMP%]   [data-theme=dark][_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]:hover{background:var(--mc-card-bg-hover);border-color:var(--mc-border-focus)}.profiles-content[_ngcontent-%COMP%]   [data-theme=dark][_ngcontent-%COMP%]   .gender-badge.gender-male[_ngcontent-%COMP%]{background-color:var(--mc-color-info-900);color:var(--mc-color-info-200);border-color:var(--mc-color-info-700)}.profiles-content[_ngcontent-%COMP%]   [data-theme=dark][_ngcontent-%COMP%]   .gender-badge.gender-female[_ngcontent-%COMP%]{background-color:var(--mc-color-secondary-900);color:var(--mc-color-secondary-200);border-color:var(--mc-color-secondary-700)}.profiles-content[_ngcontent-%COMP%]   [data-theme=dark][_ngcontent-%COMP%]   .gender-badge.gender-others[_ngcontent-%COMP%]{background-color:var(--mc-color-warning-900);color:var(--mc-color-warning-200);border-color:var(--mc-color-warning-700)}.profiles-content[_ngcontent-%COMP%]   [data-theme=dark][_ngcontent-%COMP%]   .gender-badge.gender-default[_ngcontent-%COMP%]{background-color:var(--mc-color-gray-700);color:var(--mc-text-tertiary);border-color:var(--mc-color-gray-600)}.profiles-content[_ngcontent-%COMP%]   [data-theme=dark][_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{--color: var(--mc-text-secondary);border-color:var(--mc-border-secondary)}.profiles-content[_ngcontent-%COMP%]   [data-theme=dark][_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]:hover{--background: var(--mc-bg-secondary);border-color:var(--mc-border-hover);--color: var(--mc-text-primary)}.profiles-content[_ngcontent-%COMP%]   [data-theme=dark][_ngcontent-%COMP%]   .action-button.edit-button[_ngcontent-%COMP%]:hover{--background: var(--mc-color-primary-900);--color: var(--mc-color-primary-300);border-color:var(--mc-color-primary-700)}.profiles-content[_ngcontent-%COMP%]   [data-theme=dark][_ngcontent-%COMP%]   .action-button.delete-button[_ngcontent-%COMP%]:hover{--background: var(--mc-color-error-900);--color: var(--mc-color-error-300);border-color:var(--mc-color-error-700)}.profiles-content[_ngcontent-%COMP%]   [data-contrast=high][_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]{border-width:2px}.profiles-content[_ngcontent-%COMP%]   [data-contrast=high][_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]:hover{border-width:3px}.profiles-content[_ngcontent-%COMP%]   [data-contrast=high][_ngcontent-%COMP%]   .gender-badge[_ngcontent-%COMP%]{border-width:2px;font-weight:var(--mc-font-weight-bold)}.profiles-content[_ngcontent-%COMP%]   [data-contrast=high][_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{border-width:2px}.profiles-content[_ngcontent-%COMP%]   [data-contrast=high][_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]:hover{border-width:3px}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}"]}),_})()},8135:(D,y,l)=>{l.d(y,{V:()=>n});var P=l(4438),u=l(600),O=l(9012);let n=(()=>{var M;class k{constructor(i,m){this.platform=i,this.router=m,this.activeSubscriptions=new Map}setupBackButton(i,m){Array.isArray(i)?i.forEach(C=>{this.setupSingleBackButton(C.route,C.handler)}):"string"==typeof i&&m&&this.setupSingleBackButton(i,m)}setupSingleBackButton(i,m){this.cleanupBackButton(i);const C=this.platform.backButton.subscribeWithPriority(10,()=>{this.router.url===i&&m()});this.activeSubscriptions.set(i,C)}cleanupBackButton(i){const m=this.activeSubscriptions.get(i);m&&(m.unsubscribe(),this.activeSubscriptions.delete(i))}cleanupAllSubscriptions(){this.activeSubscriptions.forEach((i,m)=>{i.unsubscribe()}),this.activeSubscriptions.clear()}cleanup(){this.cleanupAllSubscriptions()}navigateBack(i="/home"){window.history.length>1?window.history.back():this.router.navigate([i])}smartNavigateBack(i){const C={"/appointment-list":"/home","/appointment-booking":"/appointment-list","/select-patient":"/appointment-booking","/confirm-appointment":"/appointment-booking","/appointment-confirmed":"/appointment-list","/appointment-details":"/appointment-list","/consent-form":"/appointment-booking","/prescription":"/home","/bills":"/home","/bill-details":"/bills","/family-member-list":"/home","/home/profiles":"/home","/family-member-form":"/home/profiles","/profile-edition":"/home","/attachment-list":"/home","/medical-record/attachment-list":"/home","/report-attachment-list":"/home","/medical-record/report-attachment-list":"/home","/family-member-attachment-list":"/home","/patient-medical-record":"/home","/patient-list":"/home","/emr-visits":"/patient-list","/emr":"/home","/medical-attachments":"/patient-medical-record","/facility-information":"/facility-information-template","/facility-information-template":"/home","/edit-facility-information-page":"/facility-information","/service-requests":"/home","/new-service-request":"/service-requests","/reminder":"/home"}[i];C?this.router.navigate([C]):this.navigateBack()}}return(M=k).\u0275fac=function(i){return new(i||M)(P.KVO(u.OD),P.KVO(O.Ix))},M.\u0275prov=P.jDH({token:M,factory:M.\u0275fac,providedIn:"root"}),k})()}}]);