"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3055],{3055:(P,f,o)=>{o.r(f),o.d(f,{ConsentFormPage:()=>I});var p=o(467),c=o(9893),d=o(177),_=o(9417),g=o(8834),t=o(4438),C=o(8023),n=o(9012),r=o(3629),m=o(600),b=o(8135);function F(l,h){if(1&l){const s=t.RV6();t.j41(0,"ion-select-option",17),t.bIt("click",function(){const e=t.eBV(s).$implicit,a=t.XpG(2);return t.Njj(a.getConsentForm(e.language))}),t.EFF(1),t.k0s()}if(2&l){const s=h.$implicit;t.Y8G("value",s),t.R7$(),t.JRh(s.language)}}function D(l,h){if(1&l){const s=t.RV6();t.j41(0,"div",9)(1,"div",10)(2,"ion-row")(3,"ion-col",11)(4,"b"),t.EFF(5,"Patient :"),t.k0s(),t.EFF(6),t.nrm(7,"br")(8,"br"),t.j41(9,"b"),t.EFF(10,"DOB :"),t.k0s(),t.EFF(11),t.k0s(),t.j41(12,"ion-col",12)(13,"b"),t.EFF(14,"Consultant :"),t.k0s(),t.EFF(15),t.nrm(16,"br")(17,"br"),t.j41(18,"b"),t.EFF(19,"Hospital :"),t.k0s(),t.EFF(20),t.k0s()()(),t.j41(21,"div",13)(22,"ion-list")(23,"ion-item")(24,"ion-select",14),t.mxI("ngModelChange",function(e){t.eBV(s);const a=t.XpG();return t.DH7(a.selectedLanguage,e)||(a.selectedLanguage=e),t.Njj(e)}),t.DNE(25,F,2,2,"ion-select-option",15),t.k0s()()()(),t.nrm(26,"div",16),t.k0s()}if(2&l){const s=t.XpG();t.R7$(6),t.SpI(" ",s.details.patientName,""),t.R7$(5),t.SpI(" ",s.details.patientDOB," "),t.R7$(4),t.SpI(" ",s.details.doctorName,""),t.R7$(5),t.SpI(" ",s.details.hospitalName," "),t.R7$(4),t.R50("ngModel",s.selectedLanguage),t.R7$(),t.Y8G("ngForOf",s.templateLanguages),t.R7$(),t.Y8G("innerHtml",s.consentForm.template,t.npT)}}let I=(()=>{var l;class h{constructor(i,e,a,v,O,E){var u;this.httpService=i,this.router=e,this.storageService=a,this.platform=v,this.location=O,this.pageNavService=E,this.templateLanguages=[],this.details=null===(u=this.router.getCurrentNavigation())||void 0===u||null===(u=u.extras.state)||void 0===u?void 0:u.details,this.getConsentForm("ENGLISH"),this.getTemplateLanguages(),this.user=this.storageService.get("user")}getTemplateLanguages(){var i=this;return(0,p.A)(function*(){const e="/consentFormMaster/templateLanguages/?hospitalCode="+i.details.hospitalCode+"&cft=VIDEO_CONSULTATION";yield i.httpService.getInBackground(e,!0).then(a=>{a.length>0?i.templateLanguages=a:i.templateLanguages.push({language:"ENGLISH"}),i.selectedLanguage=i.templateLanguages[i.templateLanguages.findIndex(v=>"ENGLISH"===v.language)]}).catch(a=>{})})()}getConsentForm(i){var e=this;return(0,p.A)(function*(){let a="";try{a=e.details.speciality.replace("&","and")}catch{}const O="/consentFormMaster/?hospitalCode="+e.details.hospitalCode+"&cft=VIDEO_CONSULTATION&lang="+i+"&pd="+JSON.stringify({SPECIALITY:a,DOCTOR_NAME:e.details.doctorName,CONTACT_NUMBER:e.details.hospitalContactNumber,HOSPITAL_NAME:e.details.hospitalName});yield e.httpService.getInBackground(O,!0).then(E=>{e.consentForm=E}).catch(E=>{})})()}consentAction(i){var e=this;return(0,p.A)(function*(){e.consentForm.status=i,"AGREED"===i?e.router.navigate(["/home/confirm-appointment"],{state:{appointment:e.details.appointment,consentForm:e.consentForm}}):e.location.back()})()}ionViewWillEnter(){document.getElementById("agree").hidden=!1,document.getElementById("decline").hidden=!1,this.pageNavService.setupBackButton("/consent-form",()=>{this.location.back()}),this.pageNavService.setupBackButton("/home/consent-form",()=>{this.location.back()})}ionViewWillLeave(){document.getElementById("agree").hidden=!0,document.getElementById("decline").hidden=!0}ngOnInit(){}ngOnDestroy(){this.pageNavService.cleanupBackButton("/consent-form"),this.pageNavService.cleanupBackButton("/home/consent-form")}}return(l=h).\u0275fac=function(i){return new(i||l)(t.rXU(C.k),t.rXU(n.Ix),t.rXU(r.n),t.rXU(m.OD),t.rXU(d.aZ),t.rXU(b.V))},l.\u0275cmp=t.VBU({type:l,selectors:[["app-consent-form"]],standalone:!0,features:[t.aNF],decls:16,vars:1,consts:[["class","body-text gridd",4,"ngIf"],["no-border","","margin-bottom","","padding-start","","padding-end","",2,"margin-left","2%","margin-right","2%"],[1,"ion-no-padding"],["size-xl","6","size-md","3",1,"ion-hide-sm-down"],["mat-raised-button","","id","decline","size","small",1,"button-cancel",3,"click"],["size-xl","6","size-md","3",1,"ion-text-end","ion-hide-sm-up"],["size-xl","5.5","size-md","3",1,"ion-text-end","ion-hide-sm-down","ag"],["mat-raised-button","","id","agree","size","small",1,"button-secondary",3,"click"],["size-xl","5.5","size-md","3",1,"ion-text-start","ion-hide-sm-up"],[1,"body-text","gridd"],[1,"primaryLight","primary-light-header"],["size-lg","6","size-xs","12"],["size-lg","6","size-xs","12",2,"margin-top","13px"],[1,"language-field"],["label","Language","interface","popover","placeholder","Select One","name","selectedLanguage",3,"ngModelChange","ngModel"],[3,"value","click",4,"ngFor","ngForOf"],[2,"padding","10px 15px 0 10px",3,"innerHtml"],[3,"click","value"]],template:function(i,e){1&i&&(t.j41(0,"ion-content"),t.DNE(1,D,27,7,"div",0),t.j41(2,"div",1)(3,"ion-row",2)(4,"ion-col",3)(5,"button",4),t.bIt("click",function(){return e.consentAction("DECLINED")}),t.EFF(6," DECLINE "),t.k0s()(),t.j41(7,"ion-col",5)(8,"button",4),t.bIt("click",function(){return e.consentAction("DECLINED")}),t.EFF(9," DECLINE "),t.k0s()(),t.j41(10,"ion-col",6)(11,"button",7),t.bIt("click",function(){return e.consentAction("AGREED")}),t.EFF(12," AGREE "),t.k0s()(),t.j41(13,"ion-col",8)(14,"button",7),t.bIt("click",function(){return e.consentAction("AGREED")}),t.EFF(15," AGREE "),t.k0s()()()()()),2&i&&(t.R7$(),t.Y8G("ngIf",e.consentForm))},dependencies:[c.bv,c.hU,c.W9,c.uz,c.nf,c.ln,c.Nm,c.Ip,c.Je,d.bT,_.YN,_.BC,_.vS,g.$z,d.MD,d.Sq],styles:[".gridd[_ngcontent-%COMP%]{padding:var(--mc-spacing-lg) var(--mc-spacing-2xl) var(--mc-spacing-lg) var(--mc-spacing-2xl);margin-top:var(--mc-spacing-xs)}td[_ngcontent-%COMP%]{padding:var(--mc-spacing-xs)}.bodyText[_ngcontent-%COMP%]{font-size:var(--mc-font-body-xs);padding:var(--mc-spacing-sm);margin-top:4%;margin-left:var(--mc-spacing-lg);margin-right:var(--mc-spacing-lg)}.language-field[_ngcontent-%COMP%]{margin-left:65%;margin-right:5%}@media (max-width: 1100px){.language-field[_ngcontent-%COMP%]{margin-left:0%;margin-right:0%;width:40%}}@media (max-width: 1000px){.language-field[_ngcontent-%COMP%]{width:30%}}@media (max-width: 850px){.language-field[_ngcontent-%COMP%]{width:50%}}@media (max-width: 500px){.language-field[_ngcontent-%COMP%]{width:100%}}@media (max-width: 1200px){.ag[_ngcontent-%COMP%]{margin-left:40%}}@media (max-width: 600px){.lang[_ngcontent-%COMP%]{margin-left:4%}}"]}),h})()},8135:(P,f,o)=>{o.d(f,{V:()=>_});var p=o(4438),c=o(600),d=o(9012);let _=(()=>{var g;class t{constructor(n,r){this.platform=n,this.router=r,this.activeSubscriptions=new Map}setupBackButton(n,r){Array.isArray(n)?n.forEach(m=>{this.setupSingleBackButton(m.route,m.handler)}):"string"==typeof n&&r&&this.setupSingleBackButton(n,r)}setupSingleBackButton(n,r){this.cleanupBackButton(n);const m=this.platform.backButton.subscribeWithPriority(10,()=>{this.router.url===n&&r()});this.activeSubscriptions.set(n,m)}cleanupBackButton(n){const r=this.activeSubscriptions.get(n);r&&(r.unsubscribe(),this.activeSubscriptions.delete(n))}cleanupAllSubscriptions(){this.activeSubscriptions.forEach((n,r)=>{n.unsubscribe()}),this.activeSubscriptions.clear()}cleanup(){this.cleanupAllSubscriptions()}navigateBack(n="/home"){window.history.length>1?window.history.back():this.router.navigate([n])}smartNavigateBack(n){const m={"/appointment-list":"/home","/appointment-booking":"/appointment-list","/select-patient":"/appointment-booking","/confirm-appointment":"/appointment-booking","/appointment-confirmed":"/appointment-list","/appointment-details":"/appointment-list","/consent-form":"/appointment-booking","/prescription":"/home","/bills":"/home","/bill-details":"/bills","/family-member-list":"/home","/home/profiles":"/home","/family-member-form":"/home/profiles","/profile-edition":"/home","/attachment-list":"/home","/medical-record/attachment-list":"/home","/report-attachment-list":"/home","/medical-record/report-attachment-list":"/home","/family-member-attachment-list":"/home","/patient-medical-record":"/home","/patient-list":"/home","/emr-visits":"/patient-list","/emr":"/home","/medical-attachments":"/patient-medical-record","/facility-information":"/facility-information-template","/facility-information-template":"/home","/edit-facility-information-page":"/facility-information","/service-requests":"/home","/new-service-request":"/service-requests","/reminder":"/home"}[n];m?this.router.navigate([m]):this.navigateBack()}}return(g=t).\u0275fac=function(n){return new(n||g)(p.KVO(c.OD),p.KVO(d.Ix))},g.\u0275prov=p.jDH({token:g,factory:g.\u0275fac,providedIn:"root"}),t})()}}]);