"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5676],{5676:(b,C,s)=>{s.r(C),s.d(C,{PrescriptionVisitsPage:()=>A});var m=s(467),P=s(9893),M=s(177),f=s(8359),t=s(4438),h=s(9012),u=s(8023),a=s(7031),r=s(600),l=s(8251),k=s(8135),x=s(8875);const w=()=>[1,2,3];function E(i,g){1&i&&(t.j41(0,"p",7),t.EFF(1,"Select a visit to view prescriptions"),t.k0s())}function D(i,g){if(1&i&&(t.j41(0,"p",7),t.EFF(1),t.k0s()),2&i){const o=t.XpG();t.R7$(),t.Lme("",o.visits.length," visit",1!==o.visits.length?"s":""," found")}}function I(i,g){1&i&&(t.j41(0,"div",10)(1,"div",11),t.nrm(2,"div",12)(3,"div",13),t.k0s(),t.j41(4,"div",14),t.nrm(5,"div",15),t.k0s()())}function R(i,g){1&i&&(t.j41(0,"div",8),t.DNE(1,I,6,0,"div",9),t.k0s()),2&i&&(t.R7$(),t.Y8G("ngForOf",t.lJ4(1,w)))}function T(i,g){if(1&i&&(t.j41(0,"div",16),t.nrm(1,"ion-icon",17),t.j41(2,"p"),t.EFF(3,"No visit history found for "),t.j41(4,"strong"),t.EFF(5),t.k0s()(),t.j41(6,"p",18),t.EFF(7,"Try selecting a different family member from the top"),t.k0s()()),2&i){const o=t.XpG();t.R7$(5),t.JRh((null==o.familyMember?null:o.familyMember.fullName)||"selected family member")}}function z(i,g){if(1&i){const o=t.RV6();t.j41(0,"div",21),t.bIt("click",function(){const e=t.eBV(o).$implicit,d=t.XpG(2);return t.Njj(d.navigateToVisitDetail(e))}),t.j41(1,"div",11)(2,"div",22),t.nrm(3,"ion-icon",23),t.j41(4,"span",24),t.EFF(5),t.nI1(6,"date"),t.k0s(),t.j41(7,"span",25),t.EFF(8),t.nI1(9,"date"),t.k0s()(),t.j41(10,"div",26),t.nrm(11,"ion-icon",27),t.j41(12,"span"),t.EFF(13),t.k0s(),t.j41(14,"span",28),t.EFF(15),t.k0s()()(),t.j41(16,"div",14)(17,"div",29),t.EFF(18),t.k0s(),t.nrm(19,"ion-icon",30),t.k0s()()}if(2&i){const o=g.$implicit,n=t.XpG(2);t.R7$(5),t.JRh(t.i5U(6,7,o.visitDateTime,"MMM dd, yyyy")),t.R7$(3),t.JRh(t.i5U(9,10,o.visitDateTime,"shortTime")),t.R7$(5),t.JRh(n.sanitizeDoctorName(o.consultingDoctor)),t.R7$(2),t.SpI("(",o.speciality,")"),t.R7$(2),t.HbH("type-"+(null==o.type?null:o.type.toLowerCase())),t.R7$(),t.SpI(" ",o.type," ")}}function F(i,g){if(1&i&&(t.j41(0,"div",19),t.DNE(1,z,20,13,"div",20),t.k0s()),2&i){const o=t.XpG();t.R7$(),t.Y8G("ngForOf",o.visits)}}let A=(()=>{var i;class g{constructor(n,e,d,c,v,_,p,y){var O;this.router=n,this.httpService=e,this.dateService=d,this.loadingController=c,this.navService=v,this.platform=_,this.pageNavService=p,this.globalFamilyMemberService=y,this.visits=[],this.showProgress=!1,this.sortOrder="LATEST",this.configTemp={showHistory:!1},this.isLoading=!0,this.subscriptions=new f.yU,this.navService.pageChange("Prescriptions"),this.familyMember=(null===(O=this.router.getCurrentNavigation())||void 0===O||null===(O=O.extras.state)||void 0===O?void 0:O.familyMember)||this.globalFamilyMemberService.getSelectedMember()}loadMedicalRecords(){var n=this;return(0,m.A)(function*(){n.familyMember&&(yield n.getFamilyMemberHospitalAccount(),n.patient&&(yield n.getEMRVisits(n.patient)))})()}refreshMedicalRecords(){var n=this;return(0,m.A)(function*(){n.patient=null,n.visits=[],n.isLoading=!0;try{yield n.loadMedicalRecords()}catch{n.isLoading=!1}})()}ngOnInit(){this.subscriptions.add(this.globalFamilyMemberService.selectedFamilyMember$.subscribe(n=>{n&&n!==this.familyMember&&(this.familyMember=n,this.refreshMedicalRecords())})),this.familyMember&&this.loadMedicalRecords()}ngOnDestroy(){this.pageNavService.cleanup(),this.subscriptions.unsubscribe()}getFamilyMemberHospitalAccount(){var n=this;return(0,m.A)(function*(){const e="/familyMemberHospitalAccount/?familyMemberId="+n.familyMember._id;yield n.httpService.get(e).then(d=>{n.patient=d[0]}).catch(d=>{})})()}ionViewWillEnter(){var n=this;return(0,m.A)(function*(){n.navService.pageChange("Prescriptions"),yield n.getFamilyMemberHospitalAccount(),yield n.getEMRVisits(n.patient),n.pageNavService.setupBackButton([{route:"/prescription-visits",handler:()=>n.router.navigate(["home"])},{route:"/home/prescription-visits",handler:()=>n.router.navigate(["/home"])}])})()}getEMRVisits(n){var e=this;return(0,m.A)(function*(){e.isLoading=!0;const d=`/emr/getVisits?hospitalCode=${n.hospitalCode}&patientId=${n.patientId}`;try{const c=yield e.httpService.get(d);let v=[];v=c&&c.visits&&Array.isArray(c.visits)?c.visits:c&&Array.isArray(c)?c:c&&c.data&&Array.isArray(c.data)?c.data:[],e.visits=v.map(_=>{let p;try{_.visitDateTime?(p=_.visitDateTime.includes("/")?new Date(_.visitDateTime.split("/").reverse().join("-")):new Date(_.visitDateTime),isNaN(p.getTime())&&(p=new Date)):p=new Date}catch{p=new Date}return{..._,visitDateTime:p}})}catch{e.visits=[]}finally{e.isLoading=!1}})()}navigateToVisitDetail(n){this.router.navigate(["/home/prescription-visit-detail"],{state:{visitId:n.id,visitType:n.type,patientId:this.patient.patientId,hospitalCode:this.patient.hospitalCode,familyMemberId:this.familyMember._id}})}getInitials(n){if(!n)return"?";const e=n.trim().split(" ").filter(d=>d.length>0);return 1===e.length?e[0].substring(0,2).toUpperCase():(e[0].charAt(0)+e[e.length-1].charAt(0)).toUpperCase()}sanitizeDoctorName(n){if(!n)return"";const e=n.trim();return e.toLowerCase().startsWith("dr.")||e.toLowerCase().startsWith("dr ")?e:"Dr. "+e}}return(i=g).\u0275fac=function(n){return new(n||i)(t.rXU(h.Ix),t.rXU(u.k),t.rXU(a.k),t.rXU(P.Xi),t.rXU(l.o),t.rXU(r.OD),t.rXU(k.V),t.rXU(x.b))},i.\u0275cmp=t.VBU({type:i,selectors:[["app-prescription-visits"]],standalone:!0,features:[t.aNF],decls:10,vars:5,consts:[[1,"visits-page"],[1,"container"],[1,"header"],["class","subtitle",4,"ngIf"],["class","visits-list skeleton-container",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","visits-list",4,"ngIf"],[1,"subtitle"],[1,"visits-list","skeleton-container"],["class","visit-card-simple skeleton-card",4,"ngFor","ngForOf"],[1,"visit-card-simple","skeleton-card"],[1,"visit-info"],[1,"skeleton-datetime"],[1,"skeleton-doctor"],[1,"visit-actions"],[1,"skeleton-badge"],[1,"empty-state"],["name","calendar-clear-outline",1,"empty-icon"],[1,"help-text"],[1,"visits-list"],["class","visit-card-simple",3,"click",4,"ngFor","ngForOf"],[1,"visit-card-simple",3,"click"],[1,"visit-datetime"],["name","calendar-outline",1,"visit-icon"],[1,"date"],[1,"time"],[1,"visit-doctor"],["name","person-outline",1,"visit-icon"],[1,"speciality"],[1,"visit-type-badge"],["name","chevron-forward-outline",1,"forward-icon"]],template:function(n,e){1&n&&(t.j41(0,"ion-content",0)(1,"div",1)(2,"header",2)(3,"h1"),t.EFF(4,"Prescription History"),t.k0s(),t.DNE(5,E,2,0,"p",3)(6,D,2,2,"p",3),t.k0s(),t.DNE(7,R,2,2,"div",4)(8,T,8,1,"div",5)(9,F,2,1,"div",6),t.k0s()()),2&n&&(t.R7$(5),t.Y8G("ngIf",!e.visits.length||e.isLoading),t.R7$(),t.Y8G("ngIf",e.visits.length&&!e.isLoading),t.R7$(),t.Y8G("ngIf",e.isLoading),t.R7$(),t.Y8G("ngIf",!e.visits.length&&!e.isLoading),t.R7$(),t.Y8G("ngIf",e.visits.length&&!e.isLoading))},dependencies:[P.bv,P.W9,P.iq,M.pM,M.bT,M.MD,M.vh],styles:[".visits-page[_ngcontent-%COMP%]{--padding-top: var(--mc-spacing-2xl);--padding-bottom: var(--mc-spacing-2xl)}.visits-page[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{max-width:1000px;margin:0 auto;padding:0 var(--mc-spacing-xl)}.visits-page[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{margin-bottom:var(--mc-spacing-2xl)}.visits-page[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:var(--mc-font-heading-lg);font-weight:600;color:var(--mc-text-primary);margin:0 0 var(--mc-spacing-xs) 0}.visits-page[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:var(--mc-font-body-md);color:var(--mc-text-secondary);margin:0;font-weight:400}.visits-page[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:200px;gap:var(--mc-spacing-3);animation:_ngcontent-%COMP%_fadeIn .2s ease-out}.visits-page[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{width:40px;height:40px;--color: var(--mc-color-primary-500)}.visits-page[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   .loading-text[_ngcontent-%COMP%]{color:var(--mc-text-secondary);font-size:var(--mc-font-body-md);font-weight:500;margin:0}.visits-page[_ngcontent-%COMP%]   .skeleton-container[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-out}.visits-page[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]{background:var(--mc-bg-card);border-radius:var(--mc-radius-lg);box-shadow:var(--mc-shadow-sm);border:1px solid var(--mc-card-border);pointer-events:none;margin-bottom:var(--mc-spacing-md)}.visits-page[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .visit-summary[_ngcontent-%COMP%]{padding:var(--mc-spacing-md) var(--mc-spacing-lg)}.visits-page[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .visit-header-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:var(--mc-spacing-md)}.visits-page[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .skeleton-date-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--mc-spacing-md);flex:1}.visits-page[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .skeleton-date[_ngcontent-%COMP%]{height:20px;width:180px;border-radius:var(--mc-radius-sm);background:linear-gradient(90deg,#e0e0e0,#f0f0f0,#e0e0e0);background-size:200% 100%;animation:_ngcontent-%COMP%_shimmer 1.5s ease-in-out infinite;display:block}@media (max-width: 600px){.visits-page[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .skeleton-date[_ngcontent-%COMP%]{height:18px;width:140px}}.visits-page[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .skeleton-badge[_ngcontent-%COMP%]{height:20px;width:50px;border-radius:var(--radius-full);background:linear-gradient(90deg,#e0e0e0,#f0f0f0,#e0e0e0);background-size:200% 100%;animation:_ngcontent-%COMP%_shimmer 1.5s ease-in-out infinite;display:block}@media (max-width: 600px){.visits-page[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .skeleton-badge[_ngcontent-%COMP%]{height:18px;width:40px}}.visits-page[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .skeleton-doctor-info[_ngcontent-%COMP%]{height:18px;width:220px;margin-bottom:var(--mc-spacing-md);border-radius:var(--mc-radius-sm);background:linear-gradient(90deg,#e0e0e0,#f0f0f0,#e0e0e0);background-size:200% 100%;animation:_ngcontent-%COMP%_shimmer 1.5s ease-in-out infinite;display:block}@media (max-width: 600px){.visits-page[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .skeleton-doctor-info[_ngcontent-%COMP%]{height:16px;width:180px;margin-bottom:var(--mc-spacing-sm)}}.visits-page[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .skeleton-summary-info[_ngcontent-%COMP%]{height:40px;width:100%;border-radius:var(--mc-radius-sm);background:linear-gradient(90deg,#e0e0e0,#f0f0f0,#e0e0e0);background-size:200% 100%;animation:_ngcontent-%COMP%_shimmer 1.5s ease-in-out infinite;display:block}@media (max-width: 600px){.visits-page[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .skeleton-summary-info[_ngcontent-%COMP%]{height:36px}}@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:200% 0}to{background-position:-200% 0}}.visits-page[_ngcontent-%COMP%]   [data-theme=dark][_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]{background:var(--mc-card-bg);border-color:var(--mc-card-border)}.visits-page[_ngcontent-%COMP%]   [data-theme=dark][_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .skeleton-date[_ngcontent-%COMP%], .visits-page[_ngcontent-%COMP%]   [data-theme=dark][_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .skeleton-badge[_ngcontent-%COMP%], .visits-page[_ngcontent-%COMP%]   [data-theme=dark][_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .skeleton-doctor-info[_ngcontent-%COMP%], .visits-page[_ngcontent-%COMP%]   [data-theme=dark][_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .skeleton-summary-info[_ngcontent-%COMP%]{background:linear-gradient(90deg,#2a2a2a,#3a3a3a,#2a2a2a);background-size:200% 100%;animation:_ngcontent-%COMP%_shimmer 1.5s ease-in-out infinite}.visits-page[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{text-align:center;padding:var(--mc-spacing-6) var(--mc-spacing-4);color:var(--mc-text-tertiary);animation:_ngcontent-%COMP%_fadeInUp .3s ease-out}.visits-page[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:calc(var(--mc-font-display-xl) * 1.33);margin-bottom:var(--mc-spacing-4);color:var(--mc-color-gray-400)}.visits-page[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:var(--mc-font-body-md);margin:0 0 var(--mc-spacing-2) 0}.visits-page[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--mc-color-primary-500);font-weight:600}.visits-page[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .help-text[_ngcontent-%COMP%]{font-size:var(--mc-font-body-sm);color:var(--mc-text-tertiary);font-style:italic}.visits-page[_ngcontent-%COMP%]   .patient-card[_ngcontent-%COMP%]{background:var(--color-white);border-radius:var(--radius-lg);padding:var(--mc-spacing-md) var(--mc-spacing-lg);box-shadow:var(--shadow-sm);margin-bottom:var(--mc-spacing-lg);animation:_ngcontent-%COMP%_fadeInUp .25s ease-out}.visits-page[_ngcontent-%COMP%]   .patient-card[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]{align-items:center;padding:0}.visits-page[_ngcontent-%COMP%]   .patient-card[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .patient-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:var(--mc-color-primary-500);display:flex;align-items:center;justify-content:center;color:var(--color-white);font-weight:600;font-size:var(--mc-font-body-md);margin-right:var(--mc-spacing-md);flex-shrink:0}.visits-page[_ngcontent-%COMP%]   .patient-card[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-content[_ngcontent-%COMP%]   .patient-name[_ngcontent-%COMP%]{font-weight:600;color:var(--mc-text-primary);font-size:var(--mc-font-heading-md);margin-bottom:2px}.visits-page[_ngcontent-%COMP%]   .patient-card[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-content[_ngcontent-%COMP%]   .visit-count[_ngcontent-%COMP%]{color:var(--mc-text-secondary);font-size:var(--mc-font-body-sm)}.visits-page[_ngcontent-%COMP%]   .visits-list[_ngcontent-%COMP%]   .visit-card[_ngcontent-%COMP%]{margin-bottom:var(--mc-spacing-md)}.visits-page[_ngcontent-%COMP%]   .visit-card[_ngcontent-%COMP%]{background:var(--mc-bg-card);border-radius:var(--mc-radius-lg);box-shadow:var(--mc-shadow-sm);overflow:hidden;animation:_ngcontent-%COMP%_fadeInUp .25s ease-out forwards;cursor:pointer;transition:var(--mc-transition-base);border:1px solid var(--mc-card-border);opacity:0}.visits-page[_ngcontent-%COMP%]   .visit-card[_ngcontent-%COMP%]:nth-child(1){animation-delay:.03s}.visits-page[_ngcontent-%COMP%]   .visit-card[_ngcontent-%COMP%]:nth-child(2){animation-delay:.06s}.visits-page[_ngcontent-%COMP%]   .visit-card[_ngcontent-%COMP%]:nth-child(3){animation-delay:.09s}.visits-page[_ngcontent-%COMP%]   .visit-card[_ngcontent-%COMP%]:nth-child(4){animation-delay:.12s}.visits-page[_ngcontent-%COMP%]   .visit-card[_ngcontent-%COMP%]:nth-child(5){animation-delay:.15s}.visits-page[_ngcontent-%COMP%]   .visit-card[_ngcontent-%COMP%]:nth-child(6){animation-delay:.18s}.visits-page[_ngcontent-%COMP%]   .visit-card[_ngcontent-%COMP%]:nth-child(7){animation-delay:.21s}.visits-page[_ngcontent-%COMP%]   .visit-card[_ngcontent-%COMP%]:nth-child(8){animation-delay:.24s}.visits-page[_ngcontent-%COMP%]   .visit-card[_ngcontent-%COMP%]:nth-child(9){animation-delay:.27s}.visits-page[_ngcontent-%COMP%]   .visit-card[_ngcontent-%COMP%]:nth-child(10){animation-delay:.3s}.visits-page[_ngcontent-%COMP%]   .visit-card[_ngcontent-%COMP%]:nth-child(n+11){animation-delay:.3s}.visits-page[_ngcontent-%COMP%]   .visit-card[_ngcontent-%COMP%]:hover{box-shadow:var(--mc-shadow-md);border-color:var(--mc-border-hover);transform:translateY(-1px)}.visits-page[_ngcontent-%COMP%]   .visit-card[_ngcontent-%COMP%]:not(:last-child){margin-bottom:var(--mc-spacing-md)}.visits-page[_ngcontent-%COMP%]   .visit-summary[_ngcontent-%COMP%]{padding:var(--mc-spacing-md) var(--mc-spacing-lg)}.visits-page[_ngcontent-%COMP%]   .visit-header-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:var(--mc-spacing-md)}.visits-page[_ngcontent-%COMP%]   .visit-header-row[_ngcontent-%COMP%]   .visit-datetime[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--mc-spacing-md);flex:1}.visits-page[_ngcontent-%COMP%]   .visit-header-row[_ngcontent-%COMP%]   .visit-datetime[_ngcontent-%COMP%]   .inline-icon[_ngcontent-%COMP%]{font-size:var(--mc-font-body-sm);color:var(--mc-color-primary-500);flex-shrink:0}.visits-page[_ngcontent-%COMP%]   .visit-header-row[_ngcontent-%COMP%]   .visit-datetime[_ngcontent-%COMP%]   .visit-date-time[_ngcontent-%COMP%]{font-size:var(--mc-font-body-md);font-weight:600;color:var(--mc-text-primary);flex:1}.visits-page[_ngcontent-%COMP%]   .visit-header-row[_ngcontent-%COMP%]   .visit-datetime[_ngcontent-%COMP%]   .visit-type-badge[_ngcontent-%COMP%]{font-size:var(--mc-font-body-xs);font-weight:600;text-transform:uppercase;letter-spacing:.3px;padding:3px 6px;border-radius:var(--radius-full);margin-left:var(--mc-spacing-md);flex-shrink:0}.visits-page[_ngcontent-%COMP%]   .visit-header-row[_ngcontent-%COMP%]   .visit-datetime[_ngcontent-%COMP%]   .visit-type-badge.type-op[_ngcontent-%COMP%]{background:var(--mc-color-primary-100);color:var(--mc-color-primary-700)}.visits-page[_ngcontent-%COMP%]   .visit-header-row[_ngcontent-%COMP%]   .visit-datetime[_ngcontent-%COMP%]   .visit-type-badge.type-ip[_ngcontent-%COMP%]{background:var(--mc-color-warning-100);color:var(--mc-color-warning-700)}.visits-page[_ngcontent-%COMP%]   .visit-header-row[_ngcontent-%COMP%]   .visit-datetime[_ngcontent-%COMP%]   .visit-type-badge.type-checkup[_ngcontent-%COMP%]{background:var(--mc-color-success-100);color:var(--mc-color-success-700)}.visits-page[_ngcontent-%COMP%]   .visit-header-row[_ngcontent-%COMP%]   .visit-datetime[_ngcontent-%COMP%]   .visit-type-badge.type-emergency[_ngcontent-%COMP%]{background:var(--mc-color-error-100);color:var(--mc-color-error-700)}.visits-page[_ngcontent-%COMP%]   .visit-header-row[_ngcontent-%COMP%]   .visit-datetime[_ngcontent-%COMP%]   .visit-type-badge.type-followup[_ngcontent-%COMP%]{background:var(--mc-color-info-100);color:var(--mc-color-info-700)}.visits-page[_ngcontent-%COMP%]   .visit-header-row[_ngcontent-%COMP%]   .navigate-icon[_ngcontent-%COMP%]{margin-left:var(--mc-spacing-md);flex-shrink:0}.visits-page[_ngcontent-%COMP%]   .visit-header-row[_ngcontent-%COMP%]   .navigate-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:var(--mc-font-body-md);color:var(--color-gray-400);transition:all .2s ease}.visits-page[_ngcontent-%COMP%]   .visit-doctor-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--mc-spacing-md);margin-bottom:var(--mc-spacing-md)}.visits-page[_ngcontent-%COMP%]   .visit-doctor-info[_ngcontent-%COMP%]   .inline-icon[_ngcontent-%COMP%]{font-size:var(--mc-font-body-sm);color:var(--mc-color-primary-500);flex-shrink:0}.visits-page[_ngcontent-%COMP%]   .visit-doctor-info[_ngcontent-%COMP%]   .doctor-name[_ngcontent-%COMP%]{font-size:var(--mc-font-body-md);font-weight:500;color:var(--mc-text-primary)}.visits-page[_ngcontent-%COMP%]   .visit-summary-info[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:var(--mc-spacing-md)}.visits-page[_ngcontent-%COMP%]   .visit-summary-info[_ngcontent-%COMP%]   .inline-icon[_ngcontent-%COMP%]{font-size:var(--mc-font-body-sm);color:var(--mc-color-primary-500);flex-shrink:0;margin-top:2px}.visits-page[_ngcontent-%COMP%]   .visit-summary-info[_ngcontent-%COMP%]   .summary-text[_ngcontent-%COMP%]{flex:1;font-size:var(--mc-font-body-md);color:var(--mc-text-secondary);line-height:1.4}.visits-page[_ngcontent-%COMP%]   .visit-summary-info[_ngcontent-%COMP%]   .summary-text[_ngcontent-%COMP%]   .reason-text[_ngcontent-%COMP%]{font-weight:500;color:var(--mc-color-info-600)}.visits-page[_ngcontent-%COMP%]   .visit-summary-info[_ngcontent-%COMP%]   .summary-text[_ngcontent-%COMP%]   .complaint-text[_ngcontent-%COMP%]{color:var(--mc-text-secondary)}@media (max-width: 600px){.visits-page[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding:0 var(--mc-spacing-md)}.visits-page[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:var(--mc-font-heading-md)}.visits-page[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:var(--mc-font-body-sm)}.visits-page[_ngcontent-%COMP%]   .patient-card[_ngcontent-%COMP%]{padding:var(--mc-spacing-sm) var(--mc-spacing-md);margin-bottom:var(--mc-spacing-md)}.visits-page[_ngcontent-%COMP%]   .patient-card[_ngcontent-%COMP%]   .patient-avatar[_ngcontent-%COMP%]{width:36px;height:36px;font-size:var(--mc-font-body-sm)}.visits-page[_ngcontent-%COMP%]   .visit-card[_ngcontent-%COMP%]{margin-bottom:var(--mc-spacing-sm)}.visits-page[_ngcontent-%COMP%]   .visit-card[_ngcontent-%COMP%]:not(:last-child){margin-bottom:var(--mc-spacing-sm)}.visits-page[_ngcontent-%COMP%]   .visit-summary[_ngcontent-%COMP%]{padding:var(--mc-spacing-sm) var(--mc-spacing-md)}.visits-page[_ngcontent-%COMP%]   .visit-header-row[_ngcontent-%COMP%]{margin-bottom:var(--mc-spacing-sm)}.visits-page[_ngcontent-%COMP%]   .visit-header-row[_ngcontent-%COMP%]   .visit-datetime[_ngcontent-%COMP%]{gap:var(--mc-spacing-sm)}.visits-page[_ngcontent-%COMP%]   .visit-header-row[_ngcontent-%COMP%]   .visit-datetime[_ngcontent-%COMP%]   .inline-icon[_ngcontent-%COMP%], .visits-page[_ngcontent-%COMP%]   .visit-header-row[_ngcontent-%COMP%]   .visit-datetime[_ngcontent-%COMP%]   .visit-date-time[_ngcontent-%COMP%]{font-size:var(--mc-font-body-sm)}.visits-page[_ngcontent-%COMP%]   .visit-header-row[_ngcontent-%COMP%]   .visit-datetime[_ngcontent-%COMP%]   .visit-type-badge[_ngcontent-%COMP%]{font-size:var(--mc-font-body-xs);padding:2px 4px;margin-left:var(--spacing-1)}.visits-page[_ngcontent-%COMP%]   .visit-header-row[_ngcontent-%COMP%]   .navigate-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:var(--mc-font-body-sm)}.visits-page[_ngcontent-%COMP%]   .visit-doctor-info[_ngcontent-%COMP%]{margin-bottom:var(--mc-spacing-sm);gap:var(--mc-spacing-sm)}.visits-page[_ngcontent-%COMP%]   .visit-doctor-info[_ngcontent-%COMP%]   .inline-icon[_ngcontent-%COMP%], .visits-page[_ngcontent-%COMP%]   .visit-doctor-info[_ngcontent-%COMP%]   .doctor-name[_ngcontent-%COMP%]{font-size:var(--mc-font-body-sm)}.visits-page[_ngcontent-%COMP%]   .visit-summary-info[_ngcontent-%COMP%]{gap:var(--mc-spacing-sm)}.visits-page[_ngcontent-%COMP%]   .visit-summary-info[_ngcontent-%COMP%]   .inline-icon[_ngcontent-%COMP%], .visits-page[_ngcontent-%COMP%]   .visit-summary-info[_ngcontent-%COMP%]   .summary-text[_ngcontent-%COMP%]{font-size:var(--mc-font-body-sm)}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.visit-card-simple[_ngcontent-%COMP%]{background:var(--mc-bg-card);border-radius:var(--mc-radius-lg);box-shadow:var(--mc-card-shadow);border:1px solid var(--mc-card-border);padding:var(--mc-spacing-3) var(--mc-spacing-4);margin-bottom:var(--mc-spacing-3);display:flex;align-items:center;justify-content:space-between;cursor:pointer;transition:all .25s ease-in-out}.visit-card-simple[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:var(--mc-card-shadow-hover);border-color:var(--mc-color-primary-500)}.visit-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--mc-spacing-2);flex-grow:1}.visit-datetime[_ngcontent-%COMP%], .visit-doctor[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--mc-spacing-2);color:var(--mc-text-secondary);font-size:var(--mc-font-body-md)}.visit-icon[_ngcontent-%COMP%]{font-size:16px;color:var(--mc-color-primary-500)}.date[_ngcontent-%COMP%]{font-weight:600;color:var(--mc-text-primary)}.time[_ngcontent-%COMP%], .speciality[_ngcontent-%COMP%]{color:var(--mc-text-secondary);font-size:var(--mc-font-body-sm)}.visit-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--mc-spacing-3);flex-shrink:0;margin-left:var(--mc-spacing-4)}.forward-icon[_ngcontent-%COMP%]{font-size:20px;color:var(--mc-text-tertiary)}.skeleton-container[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]{background:var(--mc-bg-card);border-radius:var(--mc-radius-lg);box-shadow:var(--mc-card-shadow);border:1px solid var(--mc-card-border);padding:var(--mc-spacing-3) var(--mc-spacing-4);margin-bottom:var(--mc-spacing-3);display:flex;align-items:center;justify-content:space-between;pointer-events:none}.skeleton-container[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .visit-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--mc-spacing-2);flex-grow:1}.skeleton-container[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .skeleton-datetime[_ngcontent-%COMP%]{height:18px;width:200px;border-radius:var(--mc-radius-sm);background:linear-gradient(90deg,#e0e0e0,#f0f0f0,#e0e0e0);background-size:200% 100%;animation:_ngcontent-%COMP%_shimmer 1.5s ease-in-out infinite;display:block}@media (max-width: 600px){.skeleton-container[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .skeleton-datetime[_ngcontent-%COMP%]{width:160px;height:16px}}.skeleton-container[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .skeleton-doctor[_ngcontent-%COMP%]{height:16px;width:180px;border-radius:var(--mc-radius-sm);background:linear-gradient(90deg,#e0e0e0,#f0f0f0,#e0e0e0);background-size:200% 100%;animation:_ngcontent-%COMP%_shimmer 1.5s ease-in-out infinite;display:block}@media (max-width: 600px){.skeleton-container[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .skeleton-doctor[_ngcontent-%COMP%]{width:150px;height:14px}}.skeleton-container[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .visit-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--mc-spacing-3);flex-shrink:0;margin-left:var(--mc-spacing-4)}.skeleton-container[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .skeleton-badge[_ngcontent-%COMP%]{height:20px;width:50px;border-radius:var(--radius-full);background:linear-gradient(90deg,#e0e0e0,#f0f0f0,#e0e0e0);background-size:200% 100%;animation:_ngcontent-%COMP%_shimmer 1.5s ease-in-out infinite;display:block}@media (max-width: 600px){.skeleton-container[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .skeleton-badge[_ngcontent-%COMP%]{height:18px;width:40px}}[data-theme=dark][_ngcontent-%COMP%]   .skeleton-container[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]{background:var(--mc-card-bg);border-color:var(--mc-card-border)}[data-theme=dark][_ngcontent-%COMP%]   .skeleton-container[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .skeleton-datetime[_ngcontent-%COMP%], [data-theme=dark][_ngcontent-%COMP%]   .skeleton-container[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .skeleton-doctor[_ngcontent-%COMP%], [data-theme=dark][_ngcontent-%COMP%]   .skeleton-container[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .skeleton-badge[_ngcontent-%COMP%]{background:linear-gradient(90deg,#2a2a2a,#3a3a3a,#2a2a2a);background-size:200% 100%;animation:_ngcontent-%COMP%_shimmer 1.5s ease-in-out infinite}"]}),g})()},8135:(b,C,s)=>{s.d(C,{V:()=>f});var m=s(4438),P=s(600),M=s(9012);let f=(()=>{var t;class h{constructor(a,r){this.platform=a,this.router=r,this.activeSubscriptions=new Map}setupBackButton(a,r){Array.isArray(a)?a.forEach(l=>{this.setupSingleBackButton(l.route,l.handler)}):"string"==typeof a&&r&&this.setupSingleBackButton(a,r)}setupSingleBackButton(a,r){this.cleanupBackButton(a);const l=this.platform.backButton.subscribeWithPriority(10,()=>{this.router.url===a&&r()});this.activeSubscriptions.set(a,l)}cleanupBackButton(a){const r=this.activeSubscriptions.get(a);r&&(r.unsubscribe(),this.activeSubscriptions.delete(a))}cleanupAllSubscriptions(){this.activeSubscriptions.forEach((a,r)=>{a.unsubscribe()}),this.activeSubscriptions.clear()}cleanup(){this.cleanupAllSubscriptions()}navigateBack(a="/home"){window.history.length>1?window.history.back():this.router.navigate([a])}smartNavigateBack(a){const l={"/appointment-list":"/home","/appointment-booking":"/appointment-list","/select-patient":"/appointment-booking","/confirm-appointment":"/appointment-booking","/appointment-confirmed":"/appointment-list","/appointment-details":"/appointment-list","/consent-form":"/appointment-booking","/prescription":"/home","/bills":"/home","/bill-details":"/bills","/family-member-list":"/home","/home/profiles":"/home","/family-member-form":"/home/profiles","/profile-edition":"/home","/attachment-list":"/home","/medical-record/attachment-list":"/home","/report-attachment-list":"/home","/medical-record/report-attachment-list":"/home","/family-member-attachment-list":"/home","/patient-medical-record":"/home","/patient-list":"/home","/emr-visits":"/patient-list","/emr":"/home","/medical-attachments":"/patient-medical-record","/facility-information":"/facility-information-template","/facility-information-template":"/home","/edit-facility-information-page":"/facility-information","/service-requests":"/home","/new-service-request":"/service-requests","/reminder":"/home"}[a];l?this.router.navigate([l]):this.navigateBack()}}return(t=h).\u0275fac=function(a){return new(a||t)(m.KVO(P.OD),m.KVO(M.Ix))},t.\u0275prov=m.jDH({token:t,factory:t.\u0275fac,providedIn:"root"}),h})()}}]);