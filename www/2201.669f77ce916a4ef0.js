"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2201],{2201:(D,x,c)=>{c.r(x),c.d(x,{FamilyMemberListPage:()=>S});var y=c(467),M=c(9893),O=c(177),t=c(4438),P=c(5351),w=c(9012),k=c(600),i=c(8023),d=c(9934),h=c(3629),F=c(8251),E=c(8135);function I(r,b){1&r&&(t.j41(0,"div",10),t.nrm(1,"ion-spinner",11),t.j41(2,"p",12),t.EFF(3,"Loading family members..."),t.k0s()())}function B(r,b){1&r&&(t.j41(0,"div",13),t.nrm(1,"ion-icon",14),t.j41(2,"p",15),t.EFF(3,"No family members added yet"),t.k0s(),t.j41(4,"p",16),t.EFF(5,"Add family members to manage their health profiles and appointments"),t.k0s()())}function A(r,b){if(1&r&&t.nrm(0,"img",38),2&r){const a=t.XpG().$implicit,e=t.XpG(2);t.Y8G("src",e.getProfileImage(a),t.B4B)("alt",a.fullName||"Family member avatar")}}function L(r,b){if(1&r&&(t.j41(0,"span",39),t.EFF(1),t.k0s()),2&r){const a=t.XpG().$implicit,e=t.XpG(2);t.R7$(),t.SpI(" ",e.getInitials(a.fullName)," ")}}function R(r,b){if(1&r&&(t.j41(0,"div",40),t.EFF(1),t.k0s()),2&r){const a=t.XpG().$implicit,e=t.XpG(2);t.R7$(),t.SpI(" ",e.getFormattedDateWithAge(a.dob)," ")}}function T(r,b){if(1&r&&(t.j41(0,"div",41),t.EFF(1),t.k0s()),2&r){const a=t.XpG().$implicit;t.R7$(),t.SpI(" \u2022 ",a.relation," ")}}function U(r,b){if(1&r){const a=t.RV6();t.j41(0,"div",19)(1,"div",20),t.bIt("click",function(){const n=t.eBV(a).$implicit,o=t.XpG(2);return t.Njj(o.navigateToPage(n))}),t.j41(2,"div",21)(3,"div",22)(4,"div",23),t.DNE(5,A,1,2,"img",24)(6,L,2,1,"span",25),t.k0s()(),t.j41(7,"div",26)(8,"div",27),t.EFF(9),t.k0s(),t.j41(10,"div",28),t.DNE(11,R,2,1,"div",29)(12,T,2,1,"div",30),t.k0s(),t.j41(13,"div",31),t.EFF(14),t.k0s()()(),t.j41(15,"div",32)(16,"div",33),t.EFF(17),t.k0s()(),t.j41(18,"div",34),t.bIt("click",function(n){return t.eBV(a),t.Njj(n.stopPropagation())}),t.j41(19,"ion-button",35),t.bIt("click",function(){const n=t.eBV(a).$implicit,o=t.XpG(2);return t.Njj(o.editFamilyMember(n))}),t.nrm(20,"ion-icon",36),t.k0s(),t.j41(21,"ion-button",35),t.bIt("click",function(){const n=t.eBV(a).$implicit,o=t.XpG(2);return t.Njj(o.deleteFamilyMember(n))}),t.nrm(22,"ion-icon",37),t.k0s()()()()}if(2&r){const a=b.$implicit,e=t.XpG(2);t.R7$(4),t.xc7("background-color",e.hasPhoto(a)?"transparent":e.getAvatarColor(a.fullName)),t.R7$(),t.Y8G("ngIf",e.hasPhoto(a)),t.R7$(),t.Y8G("ngIf",!e.hasPhoto(a)),t.R7$(3),t.JRh(a.fullName),t.R7$(2),t.Y8G("ngIf",e.getFormattedDateWithAge(a.dob)),t.R7$(),t.Y8G("ngIf",a.relation),t.R7$(),t.Y8G("ngClass",e.getGenderBadgeClass(a.gender)),t.R7$(),t.SpI(" ",e.getGenderDisplayText(a.gender)," "),t.R7$(2),t.Y8G("ngClass",e.getGenderBadgeClass(a.gender)),t.R7$(),t.SpI(" ",e.getGenderDisplayText(a.gender)," "),t.R7$(2),t.BMQ("aria-label","Edit "+a.fullName),t.R7$(2),t.BMQ("aria-label","Delete "+a.fullName)}}function j(r,b){if(1&r&&(t.j41(0,"div",17),t.DNE(1,U,23,13,"div",18),t.k0s()),2&r){const a=t.XpG();t.R7$(),t.Y8G("ngForOf",a.familyMembers)}}let S=(()=>{var r;class b{constructor(e,n,o,m,_,l,p,g,f,v){this.dialog=e,this.router=n,this.navCtrl=o,this.httpService=m,this.utilityService=_,this.platform=l,this.storageService=p,this.navService=g,this.alertController=f,this.pageNavService=v,this.isLoading=!1,this.user=this.storageService.get("user"),this.navService.pageChange("Family Members"),this.user&&this.user.phone&&(this.phone=this.user.phone),this.getFamilyMembers();try{var s;this.medicalRecords=null===(s=this.router.getCurrentNavigation())||void 0===s||null===(s=s.extras.state)||void 0===s?void 0:s.medicalRecords}catch{this.medicalRecords=!1}}ionViewWillEnter(){this.navService.pageChange("Family Members"),this.familyMembers=[],this.getFamilyMembers(),this.pageNavService.setupBackButton("/family-member-list",()=>{this.router.navigate(["home"])})}navigateToPage(e){this.router.navigate(this.medicalRecords?["/home/medical-record"]:["/home/family-member-form"],{state:{familyMember:e}})}getFamilyMembers(){var e=this;return(0,y.A)(function*(){e.isLoading=!0,e.user=e.storageService.get("user");const n="/familyMember/?userId="+e.user.id;try{const o=yield e.httpService.getInBackground(n,!0,!0);o&&(e.familyMembers=o)}catch(o){e.utilityService.presentAlert("Error!",(null==o?void 0:o.message)||"Failed to load family members")}finally{e.isLoading=!1}})()}ngOnInit(){}hasPhoto(e){return!(!e||!e.profilePicture&&!e.photo)}getProfileImage(e){return this.hasPhoto(e)?e.profilePicture||e.photo:null}getInitials(e){if(!e)return"?";const n=e.trim().split(" ").filter(o=>o.length>0);return 1===n.length?n[0].substring(0,2).toUpperCase():(n[0].charAt(0)+n[n.length-1].charAt(0)).toUpperCase()}getAvatarColor(e){const n=["#8B9DC3","#A8C3A7","#D4B483","#C4A5A5","#B8A8D4","#9CC5C4","#C8A8C8","#B8D4A3","#9B9B9B","#B5A08A","#A5B49A","#C4A5A5","#A08AC4","#8AC4B8","#D4A8A8"];if(!e)return n[0];let o=0;for(let m=0;m<e.length;m++)o=e.charCodeAt(m)+((o<<5)-o);return n[Math.abs(o)%n.length]}getGenderBadgeClass(e){switch(null==e?void 0:e.toLowerCase()){case"male":return"gender-male";case"female":return"gender-female";case"others":return"gender-others";default:return"gender-default"}}getGenderDisplayText(e){return e||""}formatDate(e){if(!e)return"";try{let n;if(e instanceof Date)n=e;else{let m=e.toString().trim();if(m.includes("T")||m.includes("-"))n=new Date(m);else if(m.includes("/")){const _=m.split("/");if(3===_.length){const l=parseInt(_[0]),p=parseInt(_[1]),g=parseInt(_[2]);let f,v,s;g>31?(f=g,l>12?(s=l,v=p):p>12?(v=l,s=p):(s=l,v=p)):l>31?(f=2e3+l,v=p,s=g):(f=2e3+g,s=l,v=p),n=new Date(f,v-1,s)}else n=new Date(m)}else n=new Date(m)}return isNaN(n.getTime())?"":n.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch{return""}}calculateAge(e){if(!e)return null;try{let n;if(e instanceof Date)n=e;else{let l=e.toString().trim();if(l.includes("T")||l.includes("-"))n=new Date(l);else if(l.includes("/")){const p=l.split("/");if(3===p.length){const g=parseInt(p[0]),f=parseInt(p[1]),v=parseInt(p[2]);let s,u,C;v>31?(s=v,g>12?(C=g,u=f):f>12?(u=g,C=f):(C=g,u=f)):g>31?(s=2e3+g,u=f,C=v):(s=2e3+v,C=g,u=f),n=new Date(s,u-1,C)}else n=new Date(l)}else n=new Date(l)}if(isNaN(n.getTime()))return null;const o=new Date;let m=o.getFullYear()-n.getFullYear();const _=o.getMonth()-n.getMonth();return(_<0||0===_&&o.getDate()<n.getDate())&&m--,m>=0?m:null}catch{return null}}getFormattedDateWithAge(e){const n=this.formatDate(e),o=this.calculateAge(e);return n?null!==o?`${n} \u2022 ${o} years`:n:""}addNewFamilyMember(){this.router.navigate(["/home/family-member-form"])}editFamilyMember(e){var n=this;return(0,y.A)(function*(){n.router.navigate(["/home/family-member-form"],{state:{familyMember:e,editMode:!0}})})()}deleteFamilyMember(e){var n=this;return(0,y.A)(function*(){var m;yield(yield n.alertController.create({header:"Delete family member",message:`Are you sure you want to delete ${e.fullName}? This action cannot be undone.`,buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary"},{text:"Delete",role:"destructive",handler:(m=(0,y.A)(function*(){try{const _="/familyMember/"+e._id;yield n.httpService.delete(_),n.getFamilyMembers(),n.utilityService.presentAlert("Success","Family member deleted successfully")}catch{n.utilityService.presentAlert("Error","Failed to delete family member. Please try again.")}}),function(){return m.apply(this,arguments)})}]})).present()})()}ngOnDestroy(){this.pageNavService.cleanupBackButton("/family-member-list")}}return(r=b).\u0275fac=function(e){return new(e||r)(t.rXU(P.bZ),t.rXU(w.Ix),t.rXU(k.q9),t.rXU(i.k),t.rXU(d.Q),t.rXU(k.OD),t.rXU(h.n),t.rXU(F.o),t.rXU(M.hG),t.rXU(E.V))},r.\u0275cmp=t.VBU({type:r,selectors:[["app-family-member-list"]],standalone:!0,features:[t.aNF],decls:14,vars:3,consts:[[1,"family-member-content"],[1,"container"],[1,"header"],[1,"subtitle"],[1,"action-buttons"],["expand","block",3,"click"],["slot","start","name","person-add-outline"],["class","loading-container",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","profiles-container",4,"ngIf"],[1,"loading-container"],["name","crescent"],[1,"loading-text"],[1,"empty-state"],["name","people-outline",1,"empty-icon"],[1,"empty-message"],[1,"empty-description"],[1,"profiles-container"],["class","profile-card",4,"ngFor","ngForOf"],[1,"profile-card"],[1,"profile-content",3,"click"],[1,"avatar-section"],[1,"avatar-container"],[1,"avatar-circle"],["class","avatar-img",3,"src","alt",4,"ngIf"],["class","avatar-initials",4,"ngIf"],[1,"profile-info"],[1,"name-text"],[1,"info-row"],["class","dob-text",4,"ngIf"],["class","relation-text",4,"ngIf"],[1,"gender-badge","hide-md-up",3,"ngClass"],[1,"gender-section","hide-sm-down"],[1,"gender-badge",3,"ngClass"],[1,"action-section",3,"click"],["fill","clear","size","small",1,"action-button",3,"click"],["name","create-outline",1,"action-icon","edit-icon"],["name","trash-outline",1,"action-icon","delete-icon"],[1,"avatar-img",3,"src","alt"],[1,"avatar-initials"],[1,"dob-text"],[1,"relation-text"]],template:function(e,n){1&e&&(t.j41(0,"ion-content",0)(1,"div",1)(2,"header",2)(3,"h1"),t.EFF(4,"Family Members"),t.k0s(),t.j41(5,"p",3),t.EFF(6,"Manage your family's health profiles"),t.k0s()(),t.j41(7,"div",4)(8,"ion-button",5),t.bIt("click",function(){return n.addNewFamilyMember()}),t.nrm(9,"ion-icon",6),t.EFF(10," Add Family Member "),t.k0s()(),t.DNE(11,I,4,0,"div",7)(12,B,6,0,"div",8)(13,j,2,1,"div",9),t.k0s()()),2&e&&(t.R7$(11),t.Y8G("ngIf",n.isLoading),t.R7$(),t.Y8G("ngIf",!(n.isLoading||n.familyMembers&&0!==n.familyMembers.length)),t.R7$(),t.Y8G("ngIf",!n.isLoading&&n.familyMembers&&n.familyMembers.length>0))},dependencies:[M.bv,M.Jm,M.W9,M.iq,M.w2,O.pM,O.bT,O.YU],styles:[".family-member-content[_ngcontent-%COMP%]{--padding-top: var(--mc-spacing-2xl);--padding-bottom: var(--mc-spacing-2xl);--background: var(--mc-bg-primary)}.family-member-content[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:0 var(--mc-spacing-xl)}@media (max-width: 600px){.family-member-content[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding:0 var(--mc-spacing-md)}}.family-member-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{margin-bottom:var(--mc-spacing-2xl);animation:_ngcontent-%COMP%_fadeInUp .4s ease-out}.family-member-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:var(--font-heading-lg);font-weight:600;color:var(--color-gray-900);margin:0 0 var(--mc-spacing-xs) 0}.family-member-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:var(--font-body-md);color:var(--color-gray-600);margin:0;font-weight:400}@media (max-width: 600px){.family-member-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:var(--font-heading-md)}.family-member-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:var(--font-body-sm)}}.family-member-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{margin-bottom:var(--mc-spacing-xl);animation:_ngcontent-%COMP%_fadeInUp .4s ease-out}.family-member-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--border-radius: var(--mc-radius-md);--padding-top: var(--mc-spacing-md);--padding-bottom: var(--mc-spacing-md);--box-shadow: var(--mc-shadow-sm);font-weight:600;text-transform:none;letter-spacing:.3px}.family-member-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:not([color]){--background: var(--mc-color-primary-500);--background-hover: var(--mc-color-primary-600);--color: var(--color-white)}.family-member-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-right:var(--mc-spacing-xs);font-size:var(--mc-icon-size-md)}.family-member-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:hover{transform:translateY(-1px);--box-shadow: var(--mc-shadow-md)}.family-member-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:active{transform:translateY(0)}@media (max-width: 600px){.family-member-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--padding-top: var(--mc-spacing-sm);--padding-bottom: var(--mc-spacing-sm);font-size:var(--mc-font-body-sm)}}.family-member-content[_ngcontent-%COMP%]   .profiles-container[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .4s ease-out}.family-member-content[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]{display:none}.family-member-content[_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]{background:var(--mc-bg-inverse);border-radius:var(--mc-radius-md);margin-bottom:var(--mc-spacing-sm);box-shadow:var(--mc-shadow-xs);border:1px solid var(--mc-border-primary);transition:var(--transition);cursor:pointer;position:relative;overflow:hidden}.family-member-content[_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]:hover{box-shadow:var(--mc-shadow-sm);transform:translateY(-1px);background:var(--mc-bg-secondary)}.family-member-content[_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:var(--mc-shadow-xs)}.family-member-content[_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]:last-child{margin-bottom:var(--mc-spacing-lg)}.family-member-content[_ngcontent-%COMP%]   .profile-content[_ngcontent-%COMP%]{display:flex;align-items:center;padding:var(--mc-spacing-md) var(--mc-spacing-lg);gap:var(--mc-spacing-md)}@media (max-width: 767px){.family-member-content[_ngcontent-%COMP%]   .profile-content[_ngcontent-%COMP%]{gap:var(--mc-spacing-sm);padding:var(--mc-spacing-md) var(--mc-spacing-sm)}}.family-member-content[_ngcontent-%COMP%]   .avatar-section[_ngcontent-%COMP%]{display:flex;align-items:center;flex:1;gap:var(--mc-spacing-md)}.family-member-content[_ngcontent-%COMP%]   .avatar-container[_ngcontent-%COMP%]{flex-shrink:0}.family-member-content[_ngcontent-%COMP%]   .avatar-circle[_ngcontent-%COMP%]{width:46px;height:46px;border-radius:50%;overflow:hidden;box-shadow:var(--mc-shadow-sm);transition:var(--transition);background:var(--color-gray-100);border:2px solid var(--color-white);display:flex;align-items:center;justify-content:center}@media (max-width: 767px){.family-member-content[_ngcontent-%COMP%]   .avatar-circle[_ngcontent-%COMP%]{width:40px;height:40px}}.family-member-content[_ngcontent-%COMP%]   .avatar-img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.family-member-content[_ngcontent-%COMP%]   .avatar-initials[_ngcontent-%COMP%]{font-size:var(--mc-font-body-lg);font-weight:var(--mc-font-weight-bold);color:var(--mc-text-inverse);letter-spacing:.5px}@media (max-width: 767px){.family-member-content[_ngcontent-%COMP%]   .avatar-initials[_ngcontent-%COMP%]{font-size:var(--mc-font-body-md)}}.family-member-content[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]{flex:1;min-width:0}.family-member-content[_ngcontent-%COMP%]   .name-text[_ngcontent-%COMP%]{font-size:var(--mc-font-body-lg);font-weight:var(--font-weight-bold);color:var(--mc-text-primary);margin-bottom:var(--mc-spacing-xs);line-height:1.4;letter-spacing:-.01em}@media (max-width: 767px){.family-member-content[_ngcontent-%COMP%]   .name-text[_ngcontent-%COMP%]{font-size:var(--mc-font-body-md)}}.family-member-content[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--mc-spacing-xs);flex-wrap:wrap;margin-bottom:var(--mc-spacing-xs)}.family-member-content[_ngcontent-%COMP%]   .dob-text[_ngcontent-%COMP%]{font-size:var(--mc-font-body-sm);color:var(--mc-text-secondary);font-weight:var(--font-weight-regular)}@media (max-width: 767px){.family-member-content[_ngcontent-%COMP%]   .dob-text[_ngcontent-%COMP%]{font-size:var(--mc-font-body-xs)}}.family-member-content[_ngcontent-%COMP%]   .relation-text[_ngcontent-%COMP%]{font-size:var(--mc-font-body-sm);color:var(--mc-color-primary-600);font-weight:var(--mc-font-weight-semibold)}@media (max-width: 767px){.family-member-content[_ngcontent-%COMP%]   .relation-text[_ngcontent-%COMP%]{font-size:var(--mc-font-body-xs)}}.family-member-content[_ngcontent-%COMP%]   .gender-section[_ngcontent-%COMP%]{flex-shrink:0}@media (max-width: 767px){.family-member-content[_ngcontent-%COMP%]   .gender-section[_ngcontent-%COMP%]{display:none}}.family-member-content[_ngcontent-%COMP%]   .gender-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;min-height:24px;padding:var(--mc-spacing-xs) var(--mc-spacing-sm);border-radius:var(--mc-radius-sm);font-size:var(--mc-font-body-xs);font-weight:var(--mc-font-weight-semibold);text-transform:capitalize;letter-spacing:.2px;transition:var(--mc-transition-base);border:1px solid transparent;white-space:nowrap;line-height:1.2}.family-member-content[_ngcontent-%COMP%]   .gender-badge.gender-male[_ngcontent-%COMP%]{background-color:var(--mc-color-info-100);color:var(--mc-color-info-800);border-color:var(--mc-color-info-300)}.family-member-content[_ngcontent-%COMP%]   .gender-badge.gender-female[_ngcontent-%COMP%]{background-color:var(--mc-color-secondary-100);color:var(--mc-color-secondary-800);border-color:var(--mc-color-secondary-300)}.family-member-content[_ngcontent-%COMP%]   .gender-badge.gender-others[_ngcontent-%COMP%]{background-color:var(--mc-color-warning-100);color:var(--mc-color-warning-800);border-color:var(--mc-color-warning-300)}.family-member-content[_ngcontent-%COMP%]   .gender-badge.gender-default[_ngcontent-%COMP%]{background-color:var(--mc-color-gray-100);color:var(--mc-color-gray-800);border-color:var(--mc-color-gray-300)}.family-member-content[_ngcontent-%COMP%]   .gender-badge.hide-md-up[_ngcontent-%COMP%]{margin-top:var(--mc-spacing-xs);min-height:20px;padding:2px var(--mc-spacing-xs);font-size:10px}.family-member-content[_ngcontent-%COMP%]   .action-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--mc-spacing-xs);padding-right:var(--mc-spacing-md);flex-shrink:0}@media (max-width: 767px){.family-member-content[_ngcontent-%COMP%]   .action-section[_ngcontent-%COMP%]{padding-right:var(--mc-spacing-sm);gap:2px}}.family-member-content[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{--background: transparent;--color: var(--mc-text-secondary);--border-radius: var(--mc-radius-sm);--padding-start: var(--mc-spacing-xs);--padding-end: var(--mc-spacing-xs);width:32px;height:32px;margin:0;transition:var(--mc-transition-base);border:1px solid var(--mc-border-primary)}@media (max-width: 767px){.family-member-content[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{width:28px;height:28px}}.family-member-content[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]:hover{--background: var(--mc-bg-secondary);border-color:var(--mc-border-hover);transform:translateY(-1px)}.family-member-content[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]:active{transform:translateY(0)}.family-member-content[_ngcontent-%COMP%]   .action-button.edit-icon[_ngcontent-%COMP%]:hover{--background: var(--mc-color-primary-50);--color: var(--mc-color-primary-600);border-color:var(--mc-color-primary-200)}.family-member-content[_ngcontent-%COMP%]   .action-button.delete-icon[_ngcontent-%COMP%]:hover{--background: var(--mc-color-error-50);--color: var(--mc-color-error-600);border-color:var(--mc-color-error-200)}.family-member-content[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]{font-size:var(--mc-icon-size-md)}@media (max-width: 767px){.family-member-content[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]{font-size:var(--mc-icon-size-sm)}}@media (max-width: 767px){.family-member-content[_ngcontent-%COMP%]   .hide-sm-down[_ngcontent-%COMP%]{display:none!important}}@media (min-width: 768px){.family-member-content[_ngcontent-%COMP%]   .hide-md-up[_ngcontent-%COMP%]{display:none!important}}.family-member-content[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:300px;gap:var(--mc-spacing-md);animation:_ngcontent-%COMP%_fadeIn .5s ease-out}.family-member-content[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{width:40px;height:40px;--color: var(--mc-color-primary-500)}.family-member-content[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   .loading-text[_ngcontent-%COMP%]{color:var(--mc-text-secondary);font-size:var(--mc-font-body-md);font-weight:500;margin:0}.family-member-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:var(--mc-spacing-2xl) var(--mc-spacing-lg);min-height:300px;animation:_ngcontent-%COMP%_fadeInUp .5s ease-out}.family-member-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:80px;margin-bottom:var(--mc-spacing-lg);color:var(--mc-color-gray-300)}.family-member-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-message[_ngcontent-%COMP%]{font-size:var(--mc-font-body-lg);font-weight:600;color:var(--mc-text-primary);margin:0 0 var(--mc-spacing-sm) 0}.family-member-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-description[_ngcontent-%COMP%]{font-size:var(--mc-font-body-md);color:var(--mc-text-secondary);margin:0;max-width:400px}@media (max-width: 600px){.family-member-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{padding:var(--mc-spacing-xl) var(--mc-spacing-md)}.family-member-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:64px}.family-member-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-message[_ngcontent-%COMP%]{font-size:var(--mc-font-body-md)}.family-member-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-description[_ngcontent-%COMP%]{font-size:var(--mc-font-body-sm)}}.family-member-content[_ngcontent-%COMP%]   [data-theme=dark][_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]{background:var(--mc-card-bg);border-color:var(--mc-card-border)}.family-member-content[_ngcontent-%COMP%]   [data-theme=dark][_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]:hover{background:var(--mc-card-bg-hover);border-color:var(--mc-border-focus)}.family-member-content[_ngcontent-%COMP%]   [data-theme=dark][_ngcontent-%COMP%]   .gender-badge.gender-male[_ngcontent-%COMP%]{background-color:var(--mc-color-info-900);color:var(--mc-color-info-200);border-color:var(--mc-color-info-700)}.family-member-content[_ngcontent-%COMP%]   [data-theme=dark][_ngcontent-%COMP%]   .gender-badge.gender-female[_ngcontent-%COMP%]{background-color:var(--mc-color-secondary-900);color:var(--mc-color-secondary-200);border-color:var(--mc-color-secondary-700)}.family-member-content[_ngcontent-%COMP%]   [data-theme=dark][_ngcontent-%COMP%]   .gender-badge.gender-others[_ngcontent-%COMP%]{background-color:var(--mc-color-warning-900);color:var(--mc-color-warning-200);border-color:var(--mc-color-warning-700)}.family-member-content[_ngcontent-%COMP%]   [data-theme=dark][_ngcontent-%COMP%]   .gender-badge.gender-default[_ngcontent-%COMP%]{background-color:var(--mc-color-gray-700);color:var(--mc-text-tertiary);border-color:var(--mc-color-gray-600)}.family-member-content[_ngcontent-%COMP%]   [data-theme=dark][_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{--color: var(--mc-text-secondary);border-color:var(--mc-border-secondary)}.family-member-content[_ngcontent-%COMP%]   [data-theme=dark][_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]:hover{--background: var(--mc-bg-secondary);border-color:var(--mc-border-hover);--color: var(--mc-text-primary)}.family-member-content[_ngcontent-%COMP%]   [data-theme=dark][_ngcontent-%COMP%]   .action-button.edit-icon[_ngcontent-%COMP%]:hover{--background: var(--mc-color-primary-900);--color: var(--mc-color-primary-300);border-color:var(--mc-color-primary-700)}.family-member-content[_ngcontent-%COMP%]   [data-theme=dark][_ngcontent-%COMP%]   .action-button.delete-icon[_ngcontent-%COMP%]:hover{--background: var(--mc-color-error-900);--color: var(--mc-color-error-300);border-color:var(--mc-color-error-700)}.family-member-content[_ngcontent-%COMP%]   [data-contrast=high][_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]{border-width:2px}.family-member-content[_ngcontent-%COMP%]   [data-contrast=high][_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]:hover{border-width:3px}.family-member-content[_ngcontent-%COMP%]   [data-contrast=high][_ngcontent-%COMP%]   .gender-badge[_ngcontent-%COMP%]{border-width:2px;font-weight:var(--mc-font-weight-bold)}.family-member-content[_ngcontent-%COMP%]   [data-contrast=high][_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{border-width:2px}.family-member-content[_ngcontent-%COMP%]   [data-contrast=high][_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]:hover{border-width:3px}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}"]}),b})()},8135:(D,x,c)=>{c.d(x,{V:()=>t});var y=c(4438),M=c(600),O=c(9012);let t=(()=>{var P;class w{constructor(i,d){this.platform=i,this.router=d,this.activeSubscriptions=new Map}setupBackButton(i,d){Array.isArray(i)?i.forEach(h=>{this.setupSingleBackButton(h.route,h.handler)}):"string"==typeof i&&d&&this.setupSingleBackButton(i,d)}setupSingleBackButton(i,d){this.cleanupBackButton(i);const h=this.platform.backButton.subscribeWithPriority(10,()=>{this.router.url===i&&d()});this.activeSubscriptions.set(i,h)}cleanupBackButton(i){const d=this.activeSubscriptions.get(i);d&&(d.unsubscribe(),this.activeSubscriptions.delete(i))}cleanupAllSubscriptions(){this.activeSubscriptions.forEach((i,d)=>{i.unsubscribe()}),this.activeSubscriptions.clear()}cleanup(){this.cleanupAllSubscriptions()}navigateBack(i="/home"){window.history.length>1?window.history.back():this.router.navigate([i])}smartNavigateBack(i){const h={"/appointment-list":"/home","/appointment-booking":"/appointment-list","/select-patient":"/appointment-booking","/confirm-appointment":"/appointment-booking","/appointment-confirmed":"/appointment-list","/appointment-details":"/appointment-list","/consent-form":"/appointment-booking","/prescription":"/home","/bills":"/home","/bill-details":"/bills","/family-member-list":"/home","/home/profiles":"/home","/family-member-form":"/home/profiles","/profile-edition":"/home","/attachment-list":"/home","/medical-record/attachment-list":"/home","/report-attachment-list":"/home","/medical-record/report-attachment-list":"/home","/family-member-attachment-list":"/home","/patient-medical-record":"/home","/patient-list":"/home","/emr-visits":"/patient-list","/emr":"/home","/medical-attachments":"/patient-medical-record","/facility-information":"/facility-information-template","/facility-information-template":"/home","/edit-facility-information-page":"/facility-information","/service-requests":"/home","/new-service-request":"/service-requests","/reminder":"/home"}[i];h?this.router.navigate([h]):this.navigateBack()}}return(P=w).\u0275fac=function(i){return new(i||P)(y.KVO(M.OD),y.KVO(O.Ix))},P.\u0275prov=y.jDH({token:P,factory:P.\u0275fac,providedIn:"root"}),w})()}}]);