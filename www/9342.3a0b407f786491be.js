"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9342],{9342:(b,C,s)=>{s.r(C),s.d(C,{visitsPage:()=>S});var d=s(467),M=s(9893),P=s(177),h=s(8359),t=s(4438),f=s(9012),u=s(8023),o=s(7031),g=s(600),v=s(8251),x=s(8135),k=s(8875);const w=()=>[1,2,3];function E(i,c){1&i&&(t.j41(0,"p",7),t.EFF(1,"View and manage your medical visit records"),t.k0s())}function D(i,c){if(1&i&&(t.j41(0,"p",7),t.EFF(1),t.k0s()),2&i){const a=t.XpG();t.R7$(),t.Lme("",a.visits.length," visit",1!==a.visits.length?"s":""," found")}}function I(i,c){1&i&&(t.j41(0,"div",10)(1,"div",11)(2,"div",12)(3,"div",13),t.nrm(4,"div",14)(5,"div",15),t.k0s()(),t.nrm(6,"div",16)(7,"div",17),t.k0s()())}function R(i,c){1&i&&(t.j41(0,"div",8),t.DNE(1,I,8,0,"div",9),t.k0s()),2&i&&(t.R7$(),t.Y8G("ngForOf",t.lJ4(1,w)))}function T(i,c){if(1&i&&(t.j41(0,"div",18),t.nrm(1,"ion-icon",19),t.j41(2,"p"),t.EFF(3,"No visit history found for "),t.j41(4,"strong"),t.EFF(5),t.k0s()(),t.j41(6,"p",20),t.EFF(7,"Try selecting a different family member from the top"),t.k0s()()),2&i){const a=t.XpG();t.R7$(5),t.JRh((null==a.familyMember?null:a.familyMember.fullName)||"selected family member")}}function F(i,c){if(1&i&&(t.j41(0,"div",32),t.nrm(1,"ion-icon",33),t.j41(2,"span",34),t.EFF(3),t.k0s()()),2&i){const a=t.XpG().$implicit,n=t.XpG(2);t.R7$(3),t.Lme("",n.sanitizeDoctorName(a.consultingDoctor)," (",a.speciality,")")}}function A(i,c){if(1&i&&(t.j41(0,"span",40),t.EFF(1),t.k0s()),2&i){const a=t.XpG(2).$implicit;t.R7$(),t.JRh(a.reason)}}function B(i,c){if(1&i&&(t.j41(0,"span",41),t.EFF(1),t.k0s()),2&i){const a=t.XpG(2).$implicit;t.R7$(),t.Lme(" ",a.reason?" \u2022 ":"","",a.complaints," ")}}function U(i,c){if(1&i&&(t.j41(0,"div",35),t.nrm(1,"ion-icon",36),t.j41(2,"span",37),t.DNE(3,A,2,1,"span",38)(4,B,2,2,"span",39),t.k0s()()),2&i){const a=t.XpG().$implicit;t.R7$(3),t.Y8G("ngIf",a.reason),t.R7$(),t.Y8G("ngIf",a.complaints)}}function L(i,c){if(1&i){const a=t.RV6();t.j41(0,"div",23),t.bIt("click",function(){const e=t.eBV(a).$implicit,m=t.XpG(2);return t.Njj(m.navigateToVisitDetail(e))}),t.j41(1,"div",11)(2,"div",12)(3,"div",24),t.nrm(4,"ion-icon",25),t.j41(5,"span",26),t.EFF(6),t.nI1(7,"date"),t.nI1(8,"date"),t.k0s(),t.j41(9,"div",27),t.EFF(10),t.k0s()(),t.j41(11,"div",28),t.nrm(12,"ion-icon",29),t.k0s()(),t.DNE(13,F,4,2,"div",30)(14,U,5,2,"div",31),t.k0s()()}if(2&i){const a=c.$implicit;t.R7$(6),t.Lme("",t.i5U(7,7,a.visitDateTime,"MMM dd, yyyy")," \u2022 ",t.i5U(8,10,a.visitDateTime,"shortTime"),""),t.R7$(3),t.HbH("type-"+(null==a.type?null:a.type.toLowerCase())),t.R7$(),t.SpI(" ",a.type," "),t.R7$(3),t.Y8G("ngIf",a.consultingDoctor),t.R7$(),t.Y8G("ngIf",a.reason||a.complaints)}}function z(i,c){if(1&i&&(t.j41(0,"div",21),t.DNE(1,L,15,13,"div",22),t.k0s()),2&i){const a=t.XpG();t.R7$(),t.Y8G("ngForOf",a.visits)}}let S=(()=>{var i;class c{constructor(n,e,m,r,_,p,l,y){var O;this.router=n,this.httpService=e,this.dateService=m,this.loadingController=r,this.navService=_,this.platform=p,this.pageNavService=l,this.globalFamilyMemberService=y,this.visits=[],this.showProgress=!1,this.sortOrder="LATEST",this.configTemp={showHistory:!1},this.isLoading=!0,this.subscriptions=new h.yU,this.navService.pageChange("Medical Record"),this.familyMember=(null===(O=this.router.getCurrentNavigation())||void 0===O||null===(O=O.extras.state)||void 0===O?void 0:O.familyMember)||this.globalFamilyMemberService.getSelectedMember()}loadMedicalRecords(){var n=this;return(0,d.A)(function*(){n.familyMember&&(yield n.getFamilyMemberHospitalAccount(),n.patient&&(yield n.getEMRVisits(n.patient)))})()}refreshMedicalRecords(){var n=this;return(0,d.A)(function*(){n.patient=null,n.visits=[],n.isLoading=!0;try{yield n.loadMedicalRecords()}catch{n.isLoading=!1}})()}ngOnInit(){this.subscriptions.add(this.globalFamilyMemberService.selectedFamilyMember$.subscribe(n=>{n&&n!==this.familyMember&&(this.familyMember=n,this.refreshMedicalRecords())}))}ngOnDestroy(){this.pageNavService.cleanup(),this.subscriptions.unsubscribe()}getFamilyMemberHospitalAccount(){var n=this;return(0,d.A)(function*(){const e="/familyMemberHospitalAccount/?familyMemberId="+n.familyMember._id;yield n.httpService.get(e).then(m=>{n.patient=m[0]}).catch(m=>{n.utilityService.presentAlert("Try again.","Failed to fetch family member.")})})()}ionViewWillEnter(){var n=this;return(0,d.A)(function*(){n.navService.pageChange("Medical Record"),n.pageNavService.setupBackButton([{route:"/emr-visits",handler:()=>n.router.navigate(["patient-list"])},{route:"/home/emr-visits",handler:()=>n.router.navigate(["/home/patient-list"])}]),n.familyMember&&(yield n.getFamilyMemberHospitalAccount(),n.patient&&(yield n.getEMRVisits(n.patient)))})()}getEMRVisits(n){var e=this;return(0,d.A)(function*(){e.isLoading=!0;const m=`/emr/getVisits?hospitalCode=${n.hospitalCode}&patientId=${n.patientId}`;try{const r=yield e.httpService.get(m);let _=[];_=r&&r.visits&&Array.isArray(r.visits)?r.visits:r&&Array.isArray(r)?r:r&&r.data&&Array.isArray(r.data)?r.data:[],e.visits=_.map(p=>{let l;try{p.visitDateTime?(l=p.visitDateTime.includes("/")?new Date(p.visitDateTime.split("/").reverse().join("-")):new Date(p.visitDateTime),isNaN(l.getTime())&&(l=new Date)):l=new Date}catch{l=new Date}return{...p,visitDateTime:l}})}catch{e.visits=[]}finally{e.isLoading=!1}})()}navigateToVisitDetail(n){this.router.navigate(["/home/emr-visit-summary"],{state:{visitId:n.id,visitType:n.type,patientId:this.patient.patientId,hospitalCode:this.patient.hospitalCode}})}getInitials(n){if(!n)return"?";const e=n.trim().split(" ").filter(m=>m.length>0);return 1===e.length?e[0].substring(0,2).toUpperCase():(e[0].charAt(0)+e[e.length-1].charAt(0)).toUpperCase()}sanitizeDoctorName(n){if(!n)return"";const e=n.trim();return e.toLowerCase().startsWith("dr.")||e.toLowerCase().startsWith("dr ")?e:"Dr. "+e}}return(i=c).\u0275fac=function(n){return new(n||i)(t.rXU(f.Ix),t.rXU(u.k),t.rXU(o.k),t.rXU(M.Xi),t.rXU(v.o),t.rXU(g.OD),t.rXU(x.V),t.rXU(k.b))},i.\u0275cmp=t.VBU({type:i,selectors:[["app-visits"]],standalone:!0,features:[t.aNF],decls:10,vars:5,consts:[[1,"visits-page"],[1,"container"],[1,"header"],["class","subtitle",4,"ngIf"],["class","visits-list skeleton-container",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","visits-list",4,"ngIf"],[1,"subtitle"],[1,"visits-list","skeleton-container"],["class","visit-card skeleton-card",4,"ngFor","ngForOf"],[1,"visit-card","skeleton-card"],[1,"visit-summary"],[1,"visit-header-row"],[1,"skeleton-date-row"],[1,"skeleton-date"],[1,"skeleton-badge"],[1,"skeleton-doctor-info"],[1,"skeleton-summary-info"],[1,"empty-state"],["name","calendar-clear-outline",1,"empty-icon"],[1,"help-text"],[1,"visits-list"],["class","visit-card",3,"click",4,"ngFor","ngForOf"],[1,"visit-card",3,"click"],[1,"visit-datetime"],["name","calendar-outline",1,"inline-icon"],[1,"visit-date-time"],[1,"visit-type-badge"],[1,"navigate-icon"],["name","chevron-forward-outline"],["class","visit-doctor-info",4,"ngIf"],["class","visit-summary-info",4,"ngIf"],[1,"visit-doctor-info"],["name","person-outline",1,"inline-icon"],[1,"doctor-name"],[1,"visit-summary-info"],["name","chatbox-ellipses-outline",1,"inline-icon"],[1,"summary-text"],["class","reason-text",4,"ngIf"],["class","complaint-text",4,"ngIf"],[1,"reason-text"],[1,"complaint-text"]],template:function(n,e){1&n&&(t.j41(0,"ion-content",0)(1,"div",1)(2,"header",2)(3,"h1"),t.EFF(4,"Visit History"),t.k0s(),t.DNE(5,E,2,0,"p",3)(6,D,2,2,"p",3),t.k0s(),t.DNE(7,R,2,2,"div",4)(8,T,8,1,"div",5)(9,z,2,1,"div",6),t.k0s()()),2&n&&(t.R7$(5),t.Y8G("ngIf",!e.visits.length||e.isLoading),t.R7$(),t.Y8G("ngIf",e.visits.length&&!e.isLoading),t.R7$(),t.Y8G("ngIf",e.isLoading),t.R7$(),t.Y8G("ngIf",!e.visits.length&&!e.isLoading),t.R7$(),t.Y8G("ngIf",e.visits.length&&!e.isLoading))},dependencies:[M.bv,M.W9,M.iq,P.pM,P.bT,P.MD,P.vh],styles:[".visits-page[_ngcontent-%COMP%]{--padding-top: var(--mc-spacing-2xl);--padding-bottom: var(--mc-spacing-2xl)}.visits-page[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{max-width:1000px;margin:0 auto;padding:0 var(--mc-spacing-xl)}.visits-page[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{margin-bottom:var(--mc-spacing-2xl)}.visits-page[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:var(--mc-font-heading-lg);font-weight:600;color:var(--mc-text-primary);margin:0 0 var(--mc-spacing-xs) 0}.visits-page[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:var(--mc-font-body-md);color:var(--mc-text-secondary);margin:0;font-weight:400}.visits-page[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:200px;gap:var(--mc-spacing-3);animation:_ngcontent-%COMP%_fadeIn .2s ease-out}.visits-page[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{width:40px;height:40px;--color: var(--mc-color-primary-500)}.visits-page[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   .loading-text[_ngcontent-%COMP%]{color:var(--mc-text-secondary);font-size:var(--mc-font-body-md);font-weight:500;margin:0}.visits-page[_ngcontent-%COMP%]   .skeleton-container[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-out}.visits-page[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]{background:var(--mc-bg-card);border-radius:var(--mc-radius-lg);box-shadow:var(--mc-shadow-sm);border:1px solid var(--mc-card-border);pointer-events:none;margin-bottom:var(--mc-spacing-md)}.visits-page[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .visit-summary[_ngcontent-%COMP%]{padding:var(--mc-spacing-md) var(--mc-spacing-lg)}.visits-page[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .visit-header-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:var(--mc-spacing-md)}.visits-page[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .skeleton-date-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--mc-spacing-md);flex:1}.visits-page[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .skeleton-date[_ngcontent-%COMP%]{height:20px;width:180px;border-radius:var(--mc-radius-sm);background:linear-gradient(90deg,#e0e0e0,#f0f0f0,#e0e0e0);background-size:200% 100%;animation:_ngcontent-%COMP%_shimmer 1.5s ease-in-out infinite;display:block}@media (max-width: 600px){.visits-page[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .skeleton-date[_ngcontent-%COMP%]{height:18px;width:140px}}.visits-page[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .skeleton-badge[_ngcontent-%COMP%]{height:20px;width:50px;border-radius:var(--radius-full);background:linear-gradient(90deg,#e0e0e0,#f0f0f0,#e0e0e0);background-size:200% 100%;animation:_ngcontent-%COMP%_shimmer 1.5s ease-in-out infinite;display:block}@media (max-width: 600px){.visits-page[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .skeleton-badge[_ngcontent-%COMP%]{height:18px;width:40px}}.visits-page[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .skeleton-doctor-info[_ngcontent-%COMP%]{height:18px;width:220px;margin-bottom:var(--mc-spacing-md);border-radius:var(--mc-radius-sm);background:linear-gradient(90deg,#e0e0e0,#f0f0f0,#e0e0e0);background-size:200% 100%;animation:_ngcontent-%COMP%_shimmer 1.5s ease-in-out infinite;display:block}@media (max-width: 600px){.visits-page[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .skeleton-doctor-info[_ngcontent-%COMP%]{height:16px;width:180px;margin-bottom:var(--mc-spacing-sm)}}.visits-page[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .skeleton-summary-info[_ngcontent-%COMP%]{height:40px;width:100%;border-radius:var(--mc-radius-sm);background:linear-gradient(90deg,#e0e0e0,#f0f0f0,#e0e0e0);background-size:200% 100%;animation:_ngcontent-%COMP%_shimmer 1.5s ease-in-out infinite;display:block}@media (max-width: 600px){.visits-page[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .skeleton-summary-info[_ngcontent-%COMP%]{height:36px}}@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:200% 0}to{background-position:-200% 0}}.visits-page[_ngcontent-%COMP%]   [data-theme=dark][_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]{background:var(--mc-card-bg);border-color:var(--mc-card-border)}.visits-page[_ngcontent-%COMP%]   [data-theme=dark][_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .skeleton-date[_ngcontent-%COMP%], .visits-page[_ngcontent-%COMP%]   [data-theme=dark][_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .skeleton-badge[_ngcontent-%COMP%], .visits-page[_ngcontent-%COMP%]   [data-theme=dark][_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .skeleton-doctor-info[_ngcontent-%COMP%], .visits-page[_ngcontent-%COMP%]   [data-theme=dark][_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .skeleton-summary-info[_ngcontent-%COMP%]{background:linear-gradient(90deg,#2a2a2a,#3a3a3a,#2a2a2a);background-size:200% 100%;animation:_ngcontent-%COMP%_shimmer 1.5s ease-in-out infinite}.visits-page[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{text-align:center;padding:var(--mc-spacing-6) var(--mc-spacing-4);color:var(--mc-text-tertiary);animation:_ngcontent-%COMP%_fadeInUp .3s ease-out}.visits-page[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:calc(var(--mc-font-display-xl) * 1.33);margin-bottom:var(--mc-spacing-4);color:var(--mc-color-gray-400)}.visits-page[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:var(--mc-font-body-md);margin:0 0 var(--mc-spacing-2) 0}.visits-page[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--mc-color-primary-500);font-weight:600}.visits-page[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .help-text[_ngcontent-%COMP%]{font-size:var(--mc-font-body-sm);color:var(--mc-text-tertiary);font-style:italic}.visits-page[_ngcontent-%COMP%]   .patient-card[_ngcontent-%COMP%]{background:var(--color-white);border-radius:var(--radius-lg);padding:var(--mc-spacing-md) var(--mc-spacing-lg);box-shadow:var(--shadow-sm);margin-bottom:var(--mc-spacing-lg);animation:_ngcontent-%COMP%_fadeInUp .25s ease-out}.visits-page[_ngcontent-%COMP%]   .patient-card[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]{align-items:center;padding:0}.visits-page[_ngcontent-%COMP%]   .patient-card[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .patient-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:var(--mc-color-primary-500);display:flex;align-items:center;justify-content:center;color:var(--color-white);font-weight:600;font-size:var(--mc-font-body-md);margin-right:var(--mc-spacing-md);flex-shrink:0}.visits-page[_ngcontent-%COMP%]   .patient-card[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-content[_ngcontent-%COMP%]   .patient-name[_ngcontent-%COMP%]{font-weight:600;color:var(--mc-text-primary);font-size:var(--mc-font-heading-md);margin-bottom:2px}.visits-page[_ngcontent-%COMP%]   .patient-card[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-content[_ngcontent-%COMP%]   .visit-count[_ngcontent-%COMP%]{color:var(--mc-text-secondary);font-size:var(--mc-font-body-sm)}.visits-page[_ngcontent-%COMP%]   .visits-list[_ngcontent-%COMP%]   .visit-card[_ngcontent-%COMP%]{margin-bottom:var(--mc-spacing-md)}.visits-page[_ngcontent-%COMP%]   .visit-card[_ngcontent-%COMP%]{background:var(--mc-bg-card);border-radius:var(--mc-radius-lg);box-shadow:var(--mc-shadow-sm);overflow:hidden;animation:_ngcontent-%COMP%_fadeInUp .25s ease-out forwards;cursor:pointer;transition:var(--mc-transition-base);border:1px solid var(--mc-card-border);opacity:0}.visits-page[_ngcontent-%COMP%]   .visit-card[_ngcontent-%COMP%]:nth-child(1){animation-delay:.03s}.visits-page[_ngcontent-%COMP%]   .visit-card[_ngcontent-%COMP%]:nth-child(2){animation-delay:.06s}.visits-page[_ngcontent-%COMP%]   .visit-card[_ngcontent-%COMP%]:nth-child(3){animation-delay:.09s}.visits-page[_ngcontent-%COMP%]   .visit-card[_ngcontent-%COMP%]:nth-child(4){animation-delay:.12s}.visits-page[_ngcontent-%COMP%]   .visit-card[_ngcontent-%COMP%]:nth-child(5){animation-delay:.15s}.visits-page[_ngcontent-%COMP%]   .visit-card[_ngcontent-%COMP%]:nth-child(6){animation-delay:.18s}.visits-page[_ngcontent-%COMP%]   .visit-card[_ngcontent-%COMP%]:nth-child(7){animation-delay:.21s}.visits-page[_ngcontent-%COMP%]   .visit-card[_ngcontent-%COMP%]:nth-child(8){animation-delay:.24s}.visits-page[_ngcontent-%COMP%]   .visit-card[_ngcontent-%COMP%]:nth-child(9){animation-delay:.27s}.visits-page[_ngcontent-%COMP%]   .visit-card[_ngcontent-%COMP%]:nth-child(10){animation-delay:.3s}.visits-page[_ngcontent-%COMP%]   .visit-card[_ngcontent-%COMP%]:nth-child(n+11){animation-delay:.3s}.visits-page[_ngcontent-%COMP%]   .visit-card[_ngcontent-%COMP%]:hover{box-shadow:var(--mc-shadow-md);border-color:var(--mc-border-hover);transform:translateY(-1px)}.visits-page[_ngcontent-%COMP%]   .visit-card[_ngcontent-%COMP%]:not(:last-child){margin-bottom:var(--mc-spacing-md)}.visits-page[_ngcontent-%COMP%]   .visit-summary[_ngcontent-%COMP%]{padding:var(--mc-spacing-md) var(--mc-spacing-lg)}.visits-page[_ngcontent-%COMP%]   .visit-header-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:var(--mc-spacing-md)}.visits-page[_ngcontent-%COMP%]   .visit-header-row[_ngcontent-%COMP%]   .visit-datetime[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--mc-spacing-md);flex:1}.visits-page[_ngcontent-%COMP%]   .visit-header-row[_ngcontent-%COMP%]   .visit-datetime[_ngcontent-%COMP%]   .inline-icon[_ngcontent-%COMP%]{font-size:var(--mc-font-body-sm);color:var(--mc-color-primary-500);flex-shrink:0}.visits-page[_ngcontent-%COMP%]   .visit-header-row[_ngcontent-%COMP%]   .visit-datetime[_ngcontent-%COMP%]   .visit-date-time[_ngcontent-%COMP%]{font-size:var(--mc-font-body-md);font-weight:600;color:var(--mc-text-primary);flex:1}.visits-page[_ngcontent-%COMP%]   .visit-header-row[_ngcontent-%COMP%]   .visit-datetime[_ngcontent-%COMP%]   .visit-type-badge[_ngcontent-%COMP%]{font-size:var(--mc-font-body-xs);font-weight:600;text-transform:uppercase;letter-spacing:.3px;padding:3px 6px;border-radius:var(--radius-full);margin-left:var(--mc-spacing-md);flex-shrink:0}.visits-page[_ngcontent-%COMP%]   .visit-header-row[_ngcontent-%COMP%]   .visit-datetime[_ngcontent-%COMP%]   .visit-type-badge.type-op[_ngcontent-%COMP%]{background:var(--mc-color-primary-100);color:var(--mc-color-primary-700)}.visits-page[_ngcontent-%COMP%]   .visit-header-row[_ngcontent-%COMP%]   .visit-datetime[_ngcontent-%COMP%]   .visit-type-badge.type-ip[_ngcontent-%COMP%]{background:var(--mc-color-warning-100);color:var(--mc-color-warning-700)}.visits-page[_ngcontent-%COMP%]   .visit-header-row[_ngcontent-%COMP%]   .visit-datetime[_ngcontent-%COMP%]   .visit-type-badge.type-checkup[_ngcontent-%COMP%]{background:var(--mc-color-success-100);color:var(--mc-color-success-700)}.visits-page[_ngcontent-%COMP%]   .visit-header-row[_ngcontent-%COMP%]   .visit-datetime[_ngcontent-%COMP%]   .visit-type-badge.type-emergency[_ngcontent-%COMP%]{background:var(--mc-color-error-100);color:var(--mc-color-error-700)}.visits-page[_ngcontent-%COMP%]   .visit-header-row[_ngcontent-%COMP%]   .visit-datetime[_ngcontent-%COMP%]   .visit-type-badge.type-followup[_ngcontent-%COMP%]{background:var(--mc-color-info-100);color:var(--mc-color-info-700)}.visits-page[_ngcontent-%COMP%]   .visit-header-row[_ngcontent-%COMP%]   .navigate-icon[_ngcontent-%COMP%]{margin-left:var(--mc-spacing-md);flex-shrink:0}.visits-page[_ngcontent-%COMP%]   .visit-header-row[_ngcontent-%COMP%]   .navigate-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:var(--mc-font-body-md);color:var(--color-gray-400);transition:all .2s ease}.visits-page[_ngcontent-%COMP%]   .visit-doctor-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--mc-spacing-md);margin-bottom:var(--mc-spacing-md)}.visits-page[_ngcontent-%COMP%]   .visit-doctor-info[_ngcontent-%COMP%]   .inline-icon[_ngcontent-%COMP%]{font-size:var(--mc-font-body-sm);color:var(--mc-color-primary-500);flex-shrink:0}.visits-page[_ngcontent-%COMP%]   .visit-doctor-info[_ngcontent-%COMP%]   .doctor-name[_ngcontent-%COMP%]{font-size:var(--mc-font-body-md);font-weight:500;color:var(--mc-text-primary)}.visits-page[_ngcontent-%COMP%]   .visit-summary-info[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:var(--mc-spacing-md)}.visits-page[_ngcontent-%COMP%]   .visit-summary-info[_ngcontent-%COMP%]   .inline-icon[_ngcontent-%COMP%]{font-size:var(--mc-font-body-sm);color:var(--mc-color-primary-500);flex-shrink:0;margin-top:2px}.visits-page[_ngcontent-%COMP%]   .visit-summary-info[_ngcontent-%COMP%]   .summary-text[_ngcontent-%COMP%]{flex:1;font-size:var(--mc-font-body-md);color:var(--mc-text-secondary);line-height:1.4}.visits-page[_ngcontent-%COMP%]   .visit-summary-info[_ngcontent-%COMP%]   .summary-text[_ngcontent-%COMP%]   .reason-text[_ngcontent-%COMP%]{font-weight:500;color:var(--mc-color-info-600)}.visits-page[_ngcontent-%COMP%]   .visit-summary-info[_ngcontent-%COMP%]   .summary-text[_ngcontent-%COMP%]   .complaint-text[_ngcontent-%COMP%]{color:var(--mc-text-secondary)}@media (max-width: 600px){.visits-page[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding:0 var(--mc-spacing-md)}.visits-page[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:var(--mc-font-heading-md)}.visits-page[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:var(--mc-font-body-sm)}.visits-page[_ngcontent-%COMP%]   .patient-card[_ngcontent-%COMP%]{padding:var(--mc-spacing-sm) var(--mc-spacing-md);margin-bottom:var(--mc-spacing-md)}.visits-page[_ngcontent-%COMP%]   .patient-card[_ngcontent-%COMP%]   .patient-avatar[_ngcontent-%COMP%]{width:36px;height:36px;font-size:var(--mc-font-body-sm)}.visits-page[_ngcontent-%COMP%]   .visit-card[_ngcontent-%COMP%]{margin-bottom:var(--mc-spacing-sm)}.visits-page[_ngcontent-%COMP%]   .visit-card[_ngcontent-%COMP%]:not(:last-child){margin-bottom:var(--mc-spacing-sm)}.visits-page[_ngcontent-%COMP%]   .visit-summary[_ngcontent-%COMP%]{padding:var(--mc-spacing-sm) var(--mc-spacing-md)}.visits-page[_ngcontent-%COMP%]   .visit-header-row[_ngcontent-%COMP%]{margin-bottom:var(--mc-spacing-sm)}.visits-page[_ngcontent-%COMP%]   .visit-header-row[_ngcontent-%COMP%]   .visit-datetime[_ngcontent-%COMP%]{gap:var(--mc-spacing-sm)}.visits-page[_ngcontent-%COMP%]   .visit-header-row[_ngcontent-%COMP%]   .visit-datetime[_ngcontent-%COMP%]   .inline-icon[_ngcontent-%COMP%], .visits-page[_ngcontent-%COMP%]   .visit-header-row[_ngcontent-%COMP%]   .visit-datetime[_ngcontent-%COMP%]   .visit-date-time[_ngcontent-%COMP%]{font-size:var(--mc-font-body-sm)}.visits-page[_ngcontent-%COMP%]   .visit-header-row[_ngcontent-%COMP%]   .visit-datetime[_ngcontent-%COMP%]   .visit-type-badge[_ngcontent-%COMP%]{font-size:var(--mc-font-body-xs);padding:2px 4px;margin-left:var(--spacing-1)}.visits-page[_ngcontent-%COMP%]   .visit-header-row[_ngcontent-%COMP%]   .navigate-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:var(--mc-font-body-sm)}.visits-page[_ngcontent-%COMP%]   .visit-doctor-info[_ngcontent-%COMP%]{margin-bottom:var(--mc-spacing-sm);gap:var(--mc-spacing-sm)}.visits-page[_ngcontent-%COMP%]   .visit-doctor-info[_ngcontent-%COMP%]   .inline-icon[_ngcontent-%COMP%], .visits-page[_ngcontent-%COMP%]   .visit-doctor-info[_ngcontent-%COMP%]   .doctor-name[_ngcontent-%COMP%]{font-size:var(--mc-font-body-sm)}.visits-page[_ngcontent-%COMP%]   .visit-summary-info[_ngcontent-%COMP%]{gap:var(--mc-spacing-sm)}.visits-page[_ngcontent-%COMP%]   .visit-summary-info[_ngcontent-%COMP%]   .inline-icon[_ngcontent-%COMP%], .visits-page[_ngcontent-%COMP%]   .visit-summary-info[_ngcontent-%COMP%]   .summary-text[_ngcontent-%COMP%]{font-size:var(--mc-font-body-sm)}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}"]}),c})()},8135:(b,C,s)=>{s.d(C,{V:()=>h});var d=s(4438),M=s(600),P=s(9012);let h=(()=>{var t;class f{constructor(o,g){this.platform=o,this.router=g,this.activeSubscriptions=new Map}setupBackButton(o,g){Array.isArray(o)?o.forEach(v=>{this.setupSingleBackButton(v.route,v.handler)}):"string"==typeof o&&g&&this.setupSingleBackButton(o,g)}setupSingleBackButton(o,g){this.cleanupBackButton(o);const v=this.platform.backButton.subscribeWithPriority(10,()=>{this.router.url===o&&g()});this.activeSubscriptions.set(o,v)}cleanupBackButton(o){const g=this.activeSubscriptions.get(o);g&&(g.unsubscribe(),this.activeSubscriptions.delete(o))}cleanupAllSubscriptions(){this.activeSubscriptions.forEach((o,g)=>{o.unsubscribe()}),this.activeSubscriptions.clear()}cleanup(){this.cleanupAllSubscriptions()}navigateBack(o="/home"){window.history.length>1?window.history.back():this.router.navigate([o])}smartNavigateBack(o){const v={"/appointment-list":"/home","/appointment-booking":"/appointment-list","/select-patient":"/appointment-booking","/confirm-appointment":"/appointment-booking","/appointment-confirmed":"/appointment-list","/appointment-details":"/appointment-list","/consent-form":"/appointment-booking","/prescription":"/home","/bills":"/home","/bill-details":"/bills","/family-member-list":"/home","/home/profiles":"/home","/family-member-form":"/home/profiles","/profile-edition":"/home","/attachment-list":"/home","/medical-record/attachment-list":"/home","/report-attachment-list":"/home","/medical-record/report-attachment-list":"/home","/family-member-attachment-list":"/home","/patient-medical-record":"/home","/patient-list":"/home","/emr-visits":"/patient-list","/emr":"/home","/medical-attachments":"/patient-medical-record","/facility-information":"/facility-information-template","/facility-information-template":"/home","/edit-facility-information-page":"/facility-information","/service-requests":"/home","/new-service-request":"/service-requests","/reminder":"/home"}[o];v?this.router.navigate([v]):this.navigateBack()}}return(t=f).\u0275fac=function(o){return new(o||t)(d.KVO(M.OD),d.KVO(P.Ix))},t.\u0275prov=d.jDH({token:t,factory:t.\u0275fac,providedIn:"root"}),f})()}}]);